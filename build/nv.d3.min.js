/* nvd3 version 1.8.5-dev (https://github.com/novus/nvd3) 2017-05-05 */

!function(){var a={};a.dev=!1,a.tooltip=a.tooltip||{},a.utils=a.utils||{},a.models=a.models||{},a.charts={},a.logs={},a.dom={};var b;"undefined"!=typeof module&&"undefined"!=typeof exports&&void 0===b&&(b=require("d3")),a.dispatch=b.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),a.dev&&(a.dispatch.on("render_start",function(b){a.logs.startTime=+new Date}),a.dispatch.on("render_end",function(b){a.logs.endTime=+new Date,a.logs.totalTime=a.logs.endTime-a.logs.startTime,a.log("total",a.logs.totalTime)})),a.log=function(){if(a.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(a.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var b=Function.prototype.bind.call(console.log,console);b.apply(console,arguments)}return arguments[arguments.length-1]},a.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},a.render=function(b){b=b||1,a.render.active=!0,a.dispatch.render_start();var c=function(){for(var d,e,f=0;f<b&&(e=a.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);a.render.queue.splice(0,f),a.render.queue.length?setTimeout(c):(a.dispatch.render_end(),a.render.active=!1)};setTimeout(c)},a.render.active=!1,a.render.queue=[],a.addGraph=function(b){typeof arguments[0]==typeof Function&&(b={generate:arguments[0],callback:arguments[1]}),a.render.queue.push(b),a.render.active||a.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=a),"undefined"!=typeof window&&(window.nv=a),a.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):a()},a.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()},a.interactiveGuideline=function(){"use strict";function c(m){m.each(function(m){function n(){var a=b.event.clientX-this.getBoundingClientRect().left,e=b.event.clientY-this.getBoundingClientRect().top,f=!0,i=!1;if(l&&(a=b.event.offsetX,e=b.event.offsetY,"svg"!==b.event.target.tagName&&(f=!1),b.event.target.className.baseVal.match("nv-legend")&&(i=!0)),f&&(a-=d.left,e-=d.top),"mouseout"===b.event.type||a<0||e<0||a>p||e>q||b.event.relatedTarget&&void 0===b.event.relatedTarget.ownerSVGElement||i){if(l&&b.event.relatedTarget&&void 0===b.event.relatedTarget.ownerSVGElement&&(void 0===b.event.relatedTarget.className||b.event.relatedTarget.className.match(k.nvPointerEventsClass)))return;return h.elementMouseout({mouseX:a,mouseY:e}),c.renderGuideLine(null),void k.hidden(!0)}k.hidden(!1);var j="function"==typeof g.rangeBands,m=void 0;if(j){var n=b.bisect(g.range(),a)-1;if(!(g.range()[n]+g.rangeBand()>=a))return h.elementMouseout({mouseX:a,mouseY:e}),c.renderGuideLine(null),void k.hidden(!0);m=g.domain()[b.bisect(g.range(),a)-1]}else m=g.invert(a);h.elementMousemove({mouseX:a,mouseY:e,pointXValue:m}),"dblclick"===b.event.type&&h.elementDblclick({mouseX:a,mouseY:e,pointXValue:m}),"click"===b.event.type&&h.elementClick({mouseX:a,mouseY:e,pointXValue:m}),"mousedown"===b.event.type&&h.elementMouseDown({mouseX:a,mouseY:e,pointXValue:m}),"mouseup"===b.event.type&&h.elementMouseUp({mouseX:a,mouseY:e,pointXValue:m})}var o=b.select(this),p=e||960,q=f||400,r=o.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([m]);r.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),j&&(j.on("touchmove",n).on("mousemove",n,!0).on("mouseout",n,!0).on("mousedown",n,!0).on("mouseup",n,!0).on("dblclick",n).on("click",n),c.guideLine=null,c.renderGuideLine=function(b){i&&(c.guideLine&&c.guideLine.attr("x1")===b||a.dom.write(function(){var c=r.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[a.utils.NaNtoZero(b)]:[],String);c.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",q).attr("y2",0),c.exit().remove()}))})})}var d={left:0,top:0},e=null,f=null,g=b.scale.linear(),h=b.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),i=!0,j=null,k=a.models.tooltip(),l=window.ActiveXObject;return k.duration(0).hideDelay(0).hidden(!1),c.dispatch=h,c.tooltip=k,c.margin=function(a){return arguments.length?(d.top=void 0!==a.top?a.top:d.top,d.left=void 0!==a.left?a.left:d.left,c):d},c.width=function(a){return arguments.length?(e=a,c):e},c.height=function(a){return arguments.length?(f=a,c):f},c.xScale=function(a){return arguments.length?(g=a,c):g},c.showGuideLine=function(a){return arguments.length?(i=a,c):i},c.svgContainer=function(a){return arguments.length?(j=a,c):j},c},a.interactiveBisect=function(a,c,d){"use strict";if(!(a instanceof Array))return null;var e;e="function"!=typeof d?function(a){return a.x}:d;var f=function(a,b){return e(a)-b},g=b.bisector(f).left,h=b.max([0,g(a,c)-1]),i=e(a[h]);if(void 0===i&&(i=h),i===c)return h;var j=b.min([h+1,a.length-1]),k=e(a[j]);return void 0===k&&(k=j),Math.abs(k-c)>=Math.abs(i-c)?h:j},a.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&g<=d&&g<c&&(d=g,e=f)}),e},a.models.tooltip=function(){"use strict";function c(){if(!m||!m.node()){var a=[1];m=b.select(document.body).select("#"+e).data(a),m.enter().append("div").attr("class","nvtooltip "+(j||"xy-tooltip")).attr("id",e).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(r,!0).classed(r,!0),m.exit().remove()}}function d(){if(o&&x(f))return a.dom.write(function(){c();var a=v(f,m.node());a&&(m.node().innerHTML=a),z()}),d}var e="nvtooltip-"+Math.floor(1e5*Math.random()),f=null,g="w",h=25,i=0,j=null,k=!0,l=200,m=null,n={left:null,top:null},o=!0,p=100,q=!0,r="nv-pointer-events-none",s=function(a,b,c){return a},t=function(a){return a},u=function(a,b){return a},v=function(a,c){if(null===a)return"";var d=b.select(document.createElement("table"));if(q){d.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(t(a.value))}var e=d.selectAll("tbody").data([a]).enter().append("tbody"),f=e.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});f.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),f.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return u(a.key,b)}),f.append("td").classed("value",!0).html(function(a,b){return s(a.value,b,a)}),f.filter(function(a,b){return void 0!==a.percent}).append("td").classed("percent",!0).html(function(a,c){return"("+b.format("%")(a.percent)+")"}),f.selectAll("td").each(function(a){if(a.highlight){var c=b.scale.linear().domain([0,1]).range(["#fff",a.color]),d=.6;b.select(this).style("border-bottom-color",c(d)).style("border-top-color",c(d))}});var g=d.node().outerHTML;return void 0!==a.footer&&(g+="<div class='footer'>"+a.footer+"</div>"),g},w=function(){var a={left:null!==b.event?b.event.clientX:0,top:null!==b.event?b.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var c=document.body.getBoundingClientRect();a.left-=c.left,a.top-=c.top}return a},x=function(b){if(b&&b.series){if(a.utils.isArray(b.series))return!0;if(a.utils.isObject(b.series))return b.series=[b.series],!0}return!1},y=function(a){var b,c,d,e=m.node().offsetHeight,f=m.node().offsetWidth,i=document.documentElement.clientWidth,j=document.documentElement.clientHeight;switch(g){case"e":b=-f-h,c=-e/2,a.left+b<0&&(b=h),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"w":b=h,c=-e/2,a.left+b+f>i&&(b=-f-h),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"n":b=-f/2-5,c=h,a.top+c+e>j&&(c=-e-h),(d=a.left+b)<0&&(b-=d),(d=a.left+b+f)>i&&(b-=d-i);break;case"s":b=-f/2,c=-e-h,a.top+c<0&&(c=h),(d=a.left+b)<0&&(b-=d),(d=a.left+b+f)>i&&(b-=d-i);break;case"center":b=-f/2,c=-e/2;break;default:b=0,c=0}return{left:b,top:c}},z=function(){a.dom.read(function(){var a=w(),c=y(a),d=a.left+c.left,e=a.top+c.top;if(k)m.interrupt().transition().delay(l).duration(0).style("opacity",0);else{var f="translate("+n.left+"px, "+n.top+"px)",g="translate("+Math.round(d)+"px, "+Math.round(e)+"px)",h=b.interpolateString(f,g),i=m.style("opacity")<.1;m.interrupt().transition().duration(i?0:p).styleTween("transform",function(a){return h},"important").styleTween("-webkit-transform",function(a){return h}).style("-ms-transform",g).style("opacity",1)}n.left=d,n.top=e})};return d.nvPointerEventsClass=r,d.options=a.utils.optionsFunc.bind(d),d._options=Object.create({},{duration:{get:function(){return p},set:function(a){p=a}},gravity:{get:function(){return g},set:function(a){g=a}},distance:{get:function(){return h},set:function(a){h=a}},snapDistance:{get:function(){return i},set:function(a){i=a}},classes:{get:function(){return j},set:function(a){j=a}},enabled:{get:function(){return o},set:function(a){o=a}},hideDelay:{get:function(){return l},set:function(a){l=a}},contentGenerator:{get:function(){return v},set:function(a){v=a}},valueFormatter:{get:function(){return s},set:function(a){s=a}},headerFormatter:{get:function(){return t},set:function(a){t=a}},keyFormatter:{get:function(){return u},set:function(a){u=a}},headerEnabled:{get:function(){return q},set:function(a){q=a}},position:{get:function(){return w},set:function(a){w=a}},chartContainer:{get:function(){return document.body},set:function(b){a.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(b){a.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(b){a.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return k},set:function(a){k!=a&&(k=!!a,d())}},data:{get:function(){return f},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),f=a}},node:{get:function(){return m.node()},set:function(a){}},id:{get:function(){return e},set:function(a){}}}),a.utils.initOptions(d),d},a.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},a.utils.isArray=Array.isArray,a.utils.isObject=function(a){return null!==a&&"object"==typeof a},a.utils.isFunction=function(a){return"function"==typeof a},a.utils.isDate=function(a){return"[object Date]"===toString.call(a)},a.utils.isNumber=function(a){return!isNaN(a)&&"number"==typeof a},a.utils.windowResize=function(b){return window.addEventListener?window.addEventListener("resize",b):a.log("ERROR: Failed to bind to window.resize with: ",b),{callback:b,clear:function(){window.removeEventListener("resize",b)}}},a.utils.getColor=function(c){if(void 0===c)return a.utils.defaultColor();if(a.utils.isArray(c)){var d=b.scale.ordinal().range(c);return function(a,b){var c=void 0===b?a:b;return a.color||d(c)}}return c},a.utils.defaultColor=function(){return a.utils.getColor(b.scale.category20().range())},a.utils.customTheme=function(c,d,e){d=d||function(a){return a.key},e=e||b.scale.category20().range();var f=e.length;return function(b,g){var h=d(b);return a.utils.isFunction(c[h])?c[h]():void 0!==c[h]?c[h]:(f||(f=e.length),f-=1,e[f])}},a.utils.pjax=function(c,d){var e=function(e){b.html(e,function(e){var f=b.select(d).node();f.parentNode.replaceChild(b.select(e).select(d).node(),f),a.utils.pjax(c,d)})};b.selectAll(c).on("click",function(){history.pushState(this.href,this.textContent,this.href),e(this.href),b.event.preventDefault()}),b.select(window).on("popstate",function(){b.event.state&&e(b.event.state)})},a.utils.calcApproxTextWidth=function(b){if(a.utils.isFunction(b.style)&&a.utils.isFunction(b.text)){var c=parseInt(b.style("font-size").replace("px",""),10),d=b.text().length;return a.utils.NaNtoZero(d*c*.5)}return 0},a.utils.NaNtoZero=function(b){return!a.utils.isNumber(b)||isNaN(b)||null===b||b===1/0||b===-1/0?0:b},b.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},a.utils.renderWatch=function(b,c){if(!(this instanceof a.utils.renderWatch))return new a.utils.renderWatch(b,c);var d=void 0!==c?c:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(c,d){0==--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),b.renderEnd.apply(this,arguments))}},a.utils.deepExtend=function(b){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(c){for(var d in c){var e=a.utils.isArray(b[d]),f=a.utils.isObject(b[d]),g=a.utils.isObject(c[d]);f&&!e&&g?a.utils.deepExtend(b[d],c[d]):b[d]=c[d]}})},a.utils.state=function(){if(!(this instanceof a.utils.state))return new a.utils.state;var c={},d=function(){},e=function(){return{}},f=null,g=null;this.dispatch=b.dispatch("change","set"),this.dispatch.on("set",function(a){d(a,!0)}),this.getter=function(a){return e=a,this},this.setter=function(a,b){return b||(b=function(){}),d=function(c,d){a(c),d&&b()},this},this.init=function(b){f=f||{},a.utils.deepExtend(f,b)};var h=function(){var a=e();if(JSON.stringify(a)===JSON.stringify(c))return!1;for(var b in a)void 0===c[b]&&(c[b]={}),c[b]=a[b],g=!0;return!0};this.update=function(){f&&(d(f,!1),f=null),h.call(this)&&this.dispatch.change(c)}},a.utils.optionsFunc=function(c){return c&&b.map(c).forEach(function(b,c){a.utils.isFunction(this[b])&&this[b](c)}.bind(this)),this},a.utils.calcTicksX=function(b,c){var d=1,e=0;for(e;e<c.length;e+=1){var f=c[e]&&c[e].values?c[e].values.length:0;d=f>d?f:d}return a.log("Requested number of ticks: ",b),a.log("Calculated max values to be: ",d),b=b>d?b=d-1:b,b=b<1?1:b,b=Math.floor(b),a.log("Calculating tick count as: ",b),b},a.utils.calcTicksY=function(b,c){return a.utils.calcTicksX(b,c)},a.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},a.utils.initOptions=function(b){b._overrides=b._overrides||{};var c=Object.getOwnPropertyNames(b._options||{}),d=Object.getOwnPropertyNames(b._calls||{});c=c.concat(d);for(var e in c)a.utils.initOption(b,c[e])},a.utils.inheritOptionsD3=function(a,c,d){a._d3options=d.concat(a._d3options||[]),a._d3options=(a._d3options||[]).filter(function(a,b,c){return c.indexOf(a)===b}),d.unshift(c),d.unshift(a),b.rebind.apply(this,d)},a.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},a.utils.symbolMap=b.map(),a.utils.symbol=function(){function c(c,f){var g=d.call(this,c,f),h=e.call(this,c,f);return-1!==b.svg.symbolTypes.indexOf(g)?b.svg.symbol().type(g).size(h)():a.utils.symbolMap.get(g)(h)}var d,e=64;return c.type=function(a){return arguments.length?(d=b.functor(a),c):d},c.size=function(a){return arguments.length?(e=b.functor(a),c):e},c},a.utils.inheritOptions=function(c,d){var e=Object.getOwnPropertyNames(d._options||{}),f=Object.getOwnPropertyNames(d._calls||{}),g=d._inherited||[],h=d._d3options||[],i=e.concat(f).concat(g).concat(h);i.unshift(d),i.unshift(c),b.rebind.apply(this,i),c._inherited=a.utils.arrayUnique(e.concat(f).concat(g).concat(e).concat(c._inherited||[])),c._d3options=a.utils.arrayUnique(h.concat(c._d3options||[]))},a.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},a.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},a.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},a.utils.availableHeight=function(b,c,d){return Math.max(0,a.utils.sanitizeHeight(b,c)-d.top-d.bottom)},a.utils.availableWidth=function(b,c,d){return Math.max(0,a.utils.sanitizeWidth(b,c)-d.left-d.right)},a.utils.noData=function(b,c){var d=b.options(),e=d.margin(),f=d.noData(),g=null==f?["No Data Available."]:[f],h=a.utils.availableHeight(null,c,e),i=a.utils.availableWidth(null,c,e),j=e.left+i/2,k=e.top+h/2;c.selectAll("g").remove();var l=c.selectAll(".nv-noData").data(g);l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",j).attr("y",k).text(function(a){return a})},a.utils.wrapTicks=function(a,c){a.each(function(){for(var a,d=b.select(this),e=d.text().split(/\s+/).reverse(),f=[],g=0,h=1.1,i=d.attr("y"),j=parseFloat(d.attr("dy")),k=d.text(null).append("tspan").attr("x",0).attr("y",i).attr("dy",j+"em");a=e.pop();)f.push(a),k.text(f.join(" ")),k.node().getComputedTextLength()>c&&(f.pop(),k.text(f.join(" ")),f=[a],k=d.append("tspan").attr("x",0).attr("y",i).attr("dy",++g*h+j+"em").text(a))})},a.utils.arrayEquals=function(b,c){if(b===c)return!0;if(!b||!c)return!1;if(b.length!=c.length)return!1;for(var d=0,e=b.length;d<e;d++)if(b[d]instanceof Array&&c[d]instanceof Array){if(!a.arrayEquals(b[d],c[d]))return!1}else if(b[d]!=c[d])return!1;return!0},a.utils.pointIsInArc=function(a,b,c){var d=c.innerRadius()(b),e=c.outerRadius()(b),f=c.startAngle()(b),g=c.endAngle()(b),h=a.x*a.x+a.y*a.y,i=Math.atan2(a.x,-a.y);return i=i<0?i+2*Math.PI:i,d*d<=h&&h<=e*e&&f<=i&&i<=g},a.models.axis=function(){"use strict";function c(i){return v.reset(),i.each(function(c){var i=b.select(this);a.utils.initSVG(i);var s=i.selectAll("g.nv-wrap.nv-axis").data([c]),t=s.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),w=(t.append("g"),s.select("g"));null!==p?e.ticks(p):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(f.range()[1]-f.range()[0])/100),w.watchTransition(v,"axis").call(e),u=u||e.scale();var x=e.tickFormat();null==x&&(x=u.tickFormat());var y=w.selectAll("text.nv-axislabel").data([j||null]);y.exit().remove(),void 0!==r&&w.selectAll("g").select("text").style("font-size",r);var z,A,B;switch(e.orient()){case"top":y.enter().append("text").attr("class","nv-axislabel"),B=0,1===f.range().length?B=o?2*f.range()[0]+f.rangeBand():0:2===f.range().length?B=o?f.range()[0]+f.range()[1]+f.rangeBand():f.range()[1]:f.range().length>2&&(B=f.range()[f.range().length-1]+(f.range()[1]-f.range()[0])),y.attr("text-anchor","middle").attr("y",0).attr("x",B/2),k&&(A=s.selectAll("g.nv-axisMaxMin").data(f.domain()),A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f(b))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(a,b){var c=d||x,e=c(a);return(""+e).match("NaN")?"":e}),A.watchTransition(v,"min-max top").attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f.range()[c])+",0)"}));break;case"bottom":z=q+36;var C=30,D=0,E=w.selectAll("g").select("text"),F="";if(l%360){E.attr("transform",""),E.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;D=c.height,d>C&&(C=d)}),F="rotate("+l+" 0,"+(D/2+e.tickPadding())+")";var G=Math.abs(Math.sin(l*Math.PI/180));z=(G?G*C:C)+30,E.attr("transform",F).style("text-anchor",l%360>0?"start":"end")}else n?E.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"}):E.attr("transform","translate(0,0)");y.enter().append("text").attr("class","nv-axislabel"),B=0,1===f.range().length?B=o?2*f.range()[0]+f.rangeBand():0:2===f.range().length?B=o?f.range()[0]+f.range()[1]+f.rangeBand():f.range()[1]:f.range().length>2&&(B=f.range()[f.range().length-1]+(f.range()[1]-f.range()[0])),y.attr("text-anchor","middle").attr("y",z).attr("x",B/2),k&&(A=s.selectAll("g.nv-axisMaxMin").data([f.domain()[0],f.domain()[f.domain().length-1]]),A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),A.exit().remove(),A.attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f(b)+(o?f.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",F).style("text-anchor",l?l%360>0?"start":"end":"middle").text(function(a,b){var c=d||x,e=c(a);return(""+e).match("NaN")?"":e}),A.watchTransition(v,"min-max bottom").attr("transform",function(b,c){return"translate("+a.utils.NaNtoZero(f(b)+(o?f.rangeBand()/2:0))+",0)"}));break;case"right":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",m?"middle":"begin").attr("transform",m?"rotate(90)":"").attr("y",m?12-Math.max(g.right,h)-(q||0):-10).attr("x",m?b.max(f.range())/2:e.tickPadding()),k&&(A=s.selectAll("g.nv-axisMaxMin").data(f.domain()),A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(f(b))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(a,b){var c=d||x,e=c(a);return(""+e).match("NaN")?"":e}),A.watchTransition(v,"min-max right").attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(f.range()[c])+")"}).select("text").style("opacity",1));break;case"left":y.enter().append("text").attr("class","nv-axislabel"),y.style("text-anchor",m?"middle":"end").attr("transform",m?"rotate(-90)":"").attr("y",m?25-Math.max(g.left,h)-(q||0):-10).attr("x",m?-b.max(f.range())/2:-e.tickPadding()),k&&(A=s.selectAll("g.nv-axisMaxMin").data(f.domain()),A.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),A.exit().remove(),A.attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(u(b))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(a,b){var c=d||x,e=c(a);return(""+e).match("NaN")?"":e}),A.watchTransition(v,"min-max right").attr("transform",function(b,c){return"translate(0,"+a.utils.NaNtoZero(f.range()[c])+")"}).select("text").style("opacity",1))}if(y.text(function(a){return a}),!k||"left"!==e.orient()&&"right"!==e.orient()||(w.selectAll("g").each(function(a,c){b.select(this).select("text").attr("opacity",1),(f(a)<f.range()[1]+10||f(a)>f.range()[0]-10)&&((a>1e-10||a<-1e-10)&&b.select(this).attr("opacity",0),b.select(this).select("text").attr("opacity",0))}),f.domain()[0]==f.domain()[1]&&0==f.domain()[0]&&s.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),k&&("top"===e.orient()||"bottom"===e.orient())){var H=[];s.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?H.push(f(a)-this.getBoundingClientRect().width-4):H.push(f(a)+this.getBoundingClientRect().width+4)}catch(c){b?H.push(f(a)-4):H.push(f(a)+4)}}),w.selectAll("g").each(function(a,c){(f(a)<H[0]||f(a)>H[1])&&(a>1e-10||a<-1e-10?b.select(this).remove():b.select(this).select("text").remove())})}w.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),u=f.copy()}),v.renderEnd("axis immediate"),c}var d,e=b.svg.axis(),f=b.scale.linear(),g={top:0,right:0,bottom:0,left:0},h=75,i=60,j=null,k=!0,l=0,m=!0,n=!1,o=!1,p=null,q=0,r=void 0,s=250,t=b.dispatch("renderEnd");e.scale(f).orient("bottom").tickFormat(function(a){return a});var u,v=a.utils.renderWatch(t,s);return c.axis=e,c.dispatch=t,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{axisLabelDistance:{get:function(){return q},set:function(a){q=a}},staggerLabels:{get:function(){return n},set:function(a){n=a}},rotateLabels:{get:function(){return l},set:function(a){l=a}},rotateYLabel:{get:function(){return m},set:function(a){m=a}},showMaxMin:{get:function(){return k},set:function(a){k=a}},axisLabel:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return i},set:function(a){i=a}},ticks:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return h},set:function(a){h=a}},fontSize:{get:function(){return r},set:function(a){r=a}},tickFormatMaxMin:{get:function(){return d},set:function(a){d=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return s},set:function(a){s=a,v.reset(s)}},scale:{get:function(){return f},set:function(b){f=b,e.scale(f),o="function"==typeof f.rangeBands,a.utils.inheritOptionsD3(c,f,["domain","range","rangeBand","rangeBands"])}}}),a.utils.initOptions(c),a.utils.inheritOptionsD3(c,e,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),a.utils.inheritOptionsD3(c,f,["domain","range","rangeBand","rangeBands"]),c},a.models.boxPlot=function(){"use strict";function c(m){return F.reset(),m.each(function(c){var m=k-j.left-j.right,G=l-j.top-j.bottom;B=b.select(this),a.utils.initSVG(B),n.domain(d||c.map(function(a,b){return p(a,b)})).rangeBands(e||[0,m],.1);var H=[];if(!f){var I,J,K=[];c.forEach(function(a,b){var c=q(a),d=s(a),e=t(a),f=u(a),g=w(a);g&&g.forEach(function(a,b){K.push(x(a,b,void 0))}),e&&K.push(e),c&&K.push(c),d&&K.push(d),f&&K.push(f)}),I=b.min(K),J=b.max(K),H=[I,J]}o.domain(f||H),o.range(g||[G,0]),h=h||n,i=i||o.copy().range([o(0),o(0)]);var L=B.selectAll("g.nv-wrap").data([c]);L.enter().append("g").attr("class","nvd3 nv-wrap");L.attr("transform","translate("+j.left+","+j.top+")");var M=L.selectAll(".nv-boxplot").data(function(a){return a}),N=M.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);M.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover}),M.watchTransition(F,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(a,b){return b*D/c.length}).attr("transform",function(a,b){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", 0)"}),M.exit().remove(),N.each(function(a,c){var d=b.select(this);[t,u].forEach(function(b){if(void 0!==b(a)&&null!==b(a)){var e=b===t?"low":"high";d.append("line").style("stroke",v(a)||A(a,c)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),d.append("line").style("stroke",v(a)||A(a,c)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var O=function(){return null===E?.9*n.rangeBand():Math.min(75,.9*n.rangeBand())},P=function(){return.45*n.rangeBand()-O()/2},Q=function(){return.45*n.rangeBand()+O()/2};[t,u].forEach(function(a){var b=a===t?"low":"high",c=a===t?q:s;M.select("line.nv-boxplot-whisker.nv-boxplot-"+b).watchTransition(F,"nv-boxplot: boxplots").attr("x1",.45*n.rangeBand()).attr("y1",function(b,c){return o(a(b))}).attr("x2",.45*n.rangeBand()).attr("y2",function(a,b){return o(c(a))}),M.select("line.nv-boxplot-tick.nv-boxplot-"+b).watchTransition(F,"nv-boxplot: boxplots").attr("x1",P).attr("y1",function(b,c){return o(a(b))}).attr("x2",Q).attr("y2",function(b,c){return o(a(b))})}),[t,u].forEach(function(a){var c=a===t?"low":"high";N.selectAll(".nv-boxplot-"+c).on("mouseover",function(c,d,e){b.select(this).classed("hover",!0),C.elementMouseover({series:{key:a(c),color:v(c)||A(c,e)},e:b.event})}).on("mouseout",function(c,d,e){b.select(this).classed("hover",!1),C.elementMouseout({series:{key:a(c),color:v(c)||A(c,e)},e:b.event})}).on("mousemove",function(a,c){C.elementMousemove({e:b.event})})}),N.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,c){b.select(this).classed("hover",!0),C.elementMouseover({key:p(a),value:p(a),series:[{key:"Q3",value:s(a),color:v(a)||A(a,c)},{key:"Q2",value:r(a),color:v(a)||A(a,c)},{key:"Q1",value:q(a),color:v(a)||A(a,c)}],data:a,index:c,e:b.event})}).on("mouseout",function(a,c){b.select(this).classed("hover",!1),C.elementMouseout({key:p(a),value:p(a),series:[{key:"Q3",value:s(a),color:v(a)||A(a,c)},{key:"Q2",value:r(a),color:v(a)||A(a,c)},{key:"Q1",value:q(a),color:v(a)||A(a,c)}],data:a,index:c,e:b.event})}).on("mousemove",function(a,c){C.elementMousemove({e:b.event})}),M.select("rect.nv-boxplot-box").watchTransition(F,"nv-boxplot: boxes").attr("y",function(a,b){return o(s(a))}).attr("width",O).attr("x",P).attr("height",function(a,b){return Math.abs(o(s(a))-o(q(a)))||1}).style("fill",function(a,b){return v(a)||A(a,b)}).style("stroke",function(a,b){return v(a)||A(a,b)}),N.append("line").attr("class","nv-boxplot-median"),M.select("line.nv-boxplot-median").watchTransition(F,"nv-boxplot: boxplots line").attr("x1",P).attr("y1",function(a,b){return o(r(a))}).attr("x2",Q).attr("y2",function(a,b){return o(r(a))});var R=M.selectAll(".nv-boxplot-outlier").data(function(a){return w(a)||[]});R.enter().append("circle").style("fill",function(a,b,c){return z(a,b,c)||A(a,c)}).style("stroke",function(a,b,c){return z(a,b,c)||A(a,c)}).style("z-index",9e3).on("mouseover",function(a,c,d){b.select(this).classed("hover",!0),C.elementMouseover({series:{key:y(a,c,d),color:z(a,c,d)||A(a,d)},e:b.event})}).on("mouseout",function(a,c,d){b.select(this).classed("hover",!1),C.elementMouseout({series:{key:y(a,c,d),color:z(a,c,d)||A(a,d)},e:b.event})}).on("mousemove",function(a,c){C.elementMousemove({e:b.event})}),R.attr("class","nv-boxplot-outlier"),R.watchTransition(F,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*n.rangeBand()).attr("cy",function(a,b,c){return o(x(a,b,c))}).attr("r","3"),R.exit().remove(),h=n.copy(),i=o.copy()}),F.renderEnd("nv-boxplot immediate"),c}var d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=b.scale.ordinal(),o=b.scale.linear(),p=function(a){return a.label},q=function(a){return a.values.Q1},r=function(a){return a.values.Q2},s=function(a){return a.values.Q3},t=function(a){return a.values.whisker_low},u=function(a){return a.values.whisker_high},v=function(a){return a.color},w=function(a){return a.values.outliers},x=function(a,b,c){return a},y=function(a,b,c){return a},z=function(a,b,c){},A=a.utils.defaultColor(),B=null,C=b.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=250,E=null,F=a.utils.renderWatch(C,D);return c.dispatch=C,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},maxBoxWidth:{get:function(){return E},set:function(a){E=a}},x:{get:function(){return p},set:function(a){p=a}},q1:{get:function(){return q},set:function(a){q=a}},q2:{get:function(){
return r},set:function(a){r=a}},q3:{get:function(){return s},set:function(a){s=a}},wl:{get:function(){return t},set:function(a){t=a}},wh:{get:function(){return u},set:function(a){u=a}},itemColor:{get:function(){return v},set:function(a){v=a}},outliers:{get:function(){return w},set:function(a){w=a}},outlierValue:{get:function(){return x},set:function(a){x=a}},outlierLabel:{get:function(){return y},set:function(a){y=a}},outlierColor:{get:function(){return z},set:function(a){z=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return g},set:function(a){g=a}},id:{get:function(){return m},set:function(a){m=a}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(a){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},color:{get:function(){return A},set:function(b){A=a.utils.getColor(b)}},duration:{get:function(){return D},set:function(a){D=a,F.reset(D)}}}),a.utils.initOptions(c),c},a.models.boxPlotChart=function(){"use strict";function c(l){return u.reset(),u.models(f),m&&u.models(g),n&&u.models(h),l.each(function(l){var q=b.select(this);a.utils.initSVG(q);var u=(j||parseInt(q.style("width"))||960)-i.left-i.right,v=(k||parseInt(q.style("height"))||400)-i.top-i.bottom;if(c.update=function(){s.beforeUpdate(),q.transition().duration(t).call(c)},c.container=this,!l||!l.length){var w=q.selectAll(".nv-noData").data([r]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",i.left+u/2).attr("y",i.top+v/2).text(function(a){return a}),c}q.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale().clamp(!0);var x=q.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([l]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),z=y.append("defs"),A=x.select("g");if(y.append("g").attr("class","nv-x nv-axis"),y.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),y.append("g").attr("class","nv-barsWrap"),A.attr("transform","translate("+i.left+","+i.top+")"),o&&A.select(".nv-y.nv-axis").attr("transform","translate("+u+",0)"),f.width(u).height(v),A.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled})).transition().call(f),z.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),A.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",d.rangeBand()*(p?2:1)).attr("height",16).attr("x",-d.rangeBand()/(p?1:2)),m){g.scale(d).ticks(a.utils.calcTicksX(u/100,l)).tickSize(-v,0),A.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),A.select(".nv-x.nv-axis").call(g);var B=A.select(".nv-x.nv-axis").selectAll("g");p&&B.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}n&&(h.scale(e).ticks(Math.floor(v/36)).tickSize(-u,0),A.select(".nv-y.nv-axis").call(h)),A.select(".nv-zeroLine line").attr("x1",0).attr("x2",u).attr("y1",e(0)).attr("y2",e(0))}),u.renderEnd("nv-boxplot chart immediate"),c}var d,e,f=a.models.boxPlot(),g=a.models.axis(),h=a.models.axis(),i={top:15,right:10,bottom:50,left:60},j=null,k=null,l=a.utils.getColor(),m=!0,n=!0,o=!1,p=!1,q=a.models.tooltip(),r="No Data Available.",s=b.dispatch("beforeUpdate","renderEnd"),t=250;g.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),h.orient(o?"right":"left").tickFormat(b.format(",.1f")),q.duration(0);var u=a.utils.renderWatch(s,t);return f.dispatch.on("elementMouseover.tooltip",function(a){q.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){q.data(a).hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(a){q()}),c.dispatch=s,c.boxplot=f,c.xAxis=g,c.yAxis=h,c.tooltip=q,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},staggerLabels:{get:function(){return p},set:function(a){p=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return n},set:function(a){n=a}},tooltipContent:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return t},set:function(a){t=a,u.reset(t),f.duration(t),g.duration(t),h.duration(t)}},color:{get:function(){return l},set:function(b){l=a.utils.getColor(b),f.color(l)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a,h.orient(a?"right":"left")}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.bullet=function(){"use strict";function c(a,c){var d=a.slice();a.sort(function(a,e){var f=d.indexOf(a),g=d.indexOf(e);return b.descending(c[f],c[g])})}function d(f){return f.each(function(d,f){var t=q-e.left-e.right,z=r-e.top-e.bottom;s=b.select(this),a.utils.initSVG(s);var A=h.call(this,d,f).slice(),B=i.call(this,d,f).slice(),C=j.call(this,d,f).slice(),D=k.call(this,d,f).slice(),E=l.call(this,d,f).slice(),F=m.call(this,d,f).slice(),G=n.call(this,d,f).slice(),H=o.call(this,d,f).slice();c(E,A),c(F,B),c(G,C),c(H,D),A.sort(b.descending),B.sort(b.descending),C.sort(b.descending),D.sort(b.descending);var I=b.scale.linear().domain(b.extent(b.merge([p,A]))).range(g?[t,0]:[0,t]);this.__chart__||b.scale.linear().domain([0,1/0]).range(I.range());this.__chart__=I;for(var J=(b.min(A),b.max(A),A[1],s.selectAll("g.nv-wrap.nv-bullet").data([d])),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),L=K.append("g"),M=J.select("g"),f=0,N=A.length;f<N;f++){var O="nv-range nv-range"+f;f<=2&&(O=O+" nv-range"+x[f]),L.append("rect").attr("class",O)}L.append("rect").attr("class","nv-measure"),J.attr("transform","translate("+e.left+","+e.top+")");for(var P=function(a){return Math.abs(I(a)-I(0))},Q=function(a){return I(a<0?a:0)},f=0,N=A.length;f<N;f++){var R=A[f];M.select("rect.nv-range"+f).datum(R).attr("height",z).transition().duration(y).attr("width",P(R)).attr("x",Q(R))}M.select("rect.nv-measure").style("fill",u).attr("height",z/3).attr("y",z/3).on("mouseover",function(){v.elementMouseover({value:D[0],label:H[0]||"Current",color:b.select(this).style("fill")})}).on("mousemove",function(){v.elementMousemove({value:D[0],label:H[0]||"Current",color:b.select(this).style("fill")})}).on("mouseout",function(){v.elementMouseout({value:D[0],label:H[0]||"Current",color:b.select(this).style("fill")})}).transition().duration(y).attr("width",D<0?I(0)-I(D[0]):I(D[0])-I(0)).attr("x",Q(D));var S=z/6,T=B.map(function(a,b){return{value:a,label:F[b]}});L.selectAll("path.nv-markerTriangle").data(T).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+S+"L"+S+","+-S+" "+-S+","+-S+"Z").on("mouseover",function(a){v.elementMouseover({value:a.value,label:a.label||"Previous",color:b.select(this).style("fill"),pos:[I(a.value),z/2]})}).on("mousemove",function(a){v.elementMousemove({value:a.value,label:a.label||"Previous",color:b.select(this).style("fill")})}).on("mouseout",function(a,c){v.elementMouseout({value:a.value,label:a.label||"Previous",color:b.select(this).style("fill")})}),M.selectAll("path.nv-markerTriangle").data(T).transition().duration(y).attr("transform",function(a){return"translate("+I(a.value)+","+z/2+")"});var U=C.map(function(a,b){return{value:a,label:G[b]}});L.selectAll("line.nv-markerLine").data(U).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(a){return I(a.value)}).attr("y1","2").attr("x2",function(a){return I(a.value)}).attr("y2",z-2).on("mouseover",function(a){v.elementMouseover({value:a.value,label:a.label||"Previous",color:b.select(this).style("fill"),pos:[I(a.value),z/2]})}).on("mousemove",function(a){v.elementMousemove({value:a.value,label:a.label||"Previous",color:b.select(this).style("fill")})}).on("mouseout",function(a,c){v.elementMouseout({value:a.value,label:a.label||"Previous",color:b.select(this).style("fill")})}),M.selectAll("line.nv-markerLine").data(U).transition().duration(y).attr("x1",function(a){return I(a.value)}).attr("x2",function(a){return I(a.value)}),J.selectAll(".nv-range").on("mouseover",function(a,c){var d=E[c]||w[c];v.elementMouseover({value:a,label:d,color:b.select(this).style("fill")})}).on("mousemove",function(){v.elementMousemove({value:D[0],label:H[0]||"Previous",color:b.select(this).style("fill")})}).on("mouseout",function(a,c){var d=E[c]||w[c];v.elementMouseout({value:a,label:d,color:b.select(this).style("fill")})})}),d}var e={top:0,right:0,bottom:0,left:0},f="left",g=!1,h=function(a){return a.ranges},i=function(a){return a.markers?a.markers:[]},j=function(a){return a.markerLines?a.markerLines:[0]},k=function(a){return a.measures},l=function(a){return a.rangeLabels?a.rangeLabels:[]},m=function(a){return a.markerLabels?a.markerLabels:[]},n=function(a){return a.markerLineLabels?a.markerLineLabels:[]},o=function(a){return a.measureLabels?a.measureLabels:[]},p=[0],q=380,r=30,s=null,t=null,u=a.utils.getColor(["#1f77b4"]),v=b.dispatch("elementMouseover","elementMouseout","elementMousemove"),w=["Maximum","Mean","Minimum"],x=["Max","Avg","Min"],y=1e3;return d.dispatch=v,d.options=a.utils.optionsFunc.bind(d),d._options=Object.create({},{ranges:{get:function(){return h},set:function(a){h=a}},markers:{get:function(){return i},set:function(a){i=a}},measures:{get:function(){return k},set:function(a){k=a}},forceX:{get:function(){return p},set:function(a){p=a}},width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return r},set:function(a){r=a}},tickFormat:{get:function(){return t},set:function(a){t=a}},duration:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},orient:{get:function(){return f},set:function(a){f=a,g="right"==f||"bottom"==f}},color:{get:function(){return u},set:function(b){u=a.utils.getColor(b)}}}),a.utils.initOptions(d),d},a.models.bulletChart=function(){"use strict";function c(e){return e.each(function(f,p){var q=b.select(this);a.utils.initSVG(q);var r=a.utils.availableWidth(l,q,h),s=m-h.top-h.bottom;if(c.update=function(){c(e)},c.container=this,!f||!i.call(this,f,p))return a.utils.noData(c,q),c;q.selectAll(".nv-noData").remove();var t=i.call(this,f,p).slice().sort(b.descending),u=j.call(this,f,p).slice().sort(b.descending),v=k.call(this,f,p).slice().sort(b.descending),w=q.selectAll("g.nv-wrap.nv-bulletChart").data([f]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),y=x.append("g"),z=w.select("g");y.append("g").attr("class","nv-bulletWrap"),y.append("g").attr("class","nv-titles"),w.attr("transform","translate("+h.left+","+h.top+")");var A=b.scale.linear().domain([0,Math.max(t[0],u[0]||0,v[0])]).range(g?[r,0]:[0,r]),B=this.__chart__||b.scale.linear().domain([0,1/0]).range(A.range());this.__chart__=A;var C=y.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(m-h.top-h.bottom)/2+")");C.append("text").attr("class","nv-title").text(function(a){return a.title}),C.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle}),d.width(r).height(s);var D=z.select(".nv-bulletWrap");b.transition(D).call(d);var E=n||A.tickFormat(r/100),F=z.selectAll("g.nv-tick").data(A.ticks(o||r/50),function(a){return this.textContent||E(a)}),G=F.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+B(a)+",0)"}).style("opacity",1e-6);G.append("line").attr("y1",s).attr("y2",7*s/6),G.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*s/6).text(E);var H=b.transition(F).transition().duration(d.duration()).attr("transform",function(a){return"translate("+A(a)+",0)"}).style("opacity",1);H.select("line").attr("y1",s).attr("y2",7*s/6),H.select("text").attr("y",7*s/6),b.transition(F.exit()).transition().duration(d.duration()).attr("transform",function(a){return"translate("+A(a)+",0)"}).style("opacity",1e-6).remove()}),b.timer.flush(),c}var d=a.models.bullet(),e=a.models.tooltip(),f="left",g=!1,h={top:5,right:40,bottom:20,left:120},i=function(a){return a.ranges},j=function(a){return a.markers?a.markers:[]},k=function(a){return a.measures},l=null,m=55,n=null,o=null,p=null,q=b.dispatch();return e.duration(0).headerEnabled(!1),d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color},e.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){e()}),c.bullet=d,c.dispatch=q,c.tooltip=e,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{ranges:{get:function(){return i},set:function(a){i=a}},markers:{get:function(){return j},set:function(a){j=a}},measures:{get:function(){return k},set:function(a){k=a}},width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},tickFormat:{get:function(){return n},set:function(a){n=a}},ticks:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},orient:{get:function(){return f},set:function(a){f=a,g="right"==f||"bottom"==f}}}),a.utils.inheritOptions(c,d),a.utils.initOptions(c),c},a.models.candlestickBar=function(){"use strict";function c(y){return y.each(function(c){d=b.select(this);var y=a.utils.availableWidth(j,d,i),z=a.utils.availableHeight(k,d,i);a.utils.initSVG(d);var B=y/c[0].values.length*.45;m.domain(e||b.extent(c[0].values.map(o).concat(u))),w?m.range(g||[.5*y/c[0].values.length,y*(c[0].values.length-.5)/c[0].values.length]):m.range(g||[5+B/2,y-B/2-5]),n.domain(f||[b.min(c[0].values.map(t).concat(v)),b.max(c[0].values.map(s).concat(v))]).range(h||[z,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]):n.domain([-1,1]));var C=b.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([c[0].values]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),E=D.append("defs"),F=D.append("g"),G=C.select("g");F.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+i.left+","+i.top+")"),d.on("click",function(a,c){A.chartClick({data:a,index:c,pos:b.event,id:l})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),C.select("#nv-chart-clip-path-"+l+" rect").attr("width",y).attr("height",z),G.attr("clip-path",x?"url(#nv-chart-clip-path-"+l+")":"");var H=C.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});H.exit().remove();var I=H.enter().append("g");H.attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});I.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+m(o(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return n(s(a,b))}).attr("x2",0).attr("y2",function(a,b){return n(t(a,b))}),I.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(m(o(a,b))-B/2)+","+(n(p(a,b))-(q(a,b)>r(a,b)?n(r(a,b))-n(q(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",B).attr("height",function(a,b){var c=q(a,b),d=r(a,b);return c>d?n(d)-n(c):n(c)-n(d)});H.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+m(o(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return n(s(a,b))}).attr("x2",0).attr("y2",function(a,b){return n(t(a,b))}),H.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(m(o(a,b))-B/2)+","+(n(p(a,b))-(q(a,b)>r(a,b)?n(r(a,b))-n(q(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",B).attr("height",function(a,b){var c=q(a,b),d=r(a,b);return c>d?n(d)-n(c):n(c)-n(d)})}),c}var d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=null,k=null,l=Math.floor(1e4*Math.random()),m=b.scale.linear(),n=b.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=function(a){return a.open},r=function(a){return a.close},s=function(a){return a.high},t=function(a){return a.low},u=[],v=[],w=!1,x=!0,y=a.utils.defaultColor(),z=!1,A=b.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return c.highlightPoint=function(a,b){c.clearHighlights(),d.select(".nv-candlestickBar .nv-tick-0-"+a).classed("hover",b)},c.clearHighlights=function(){d.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},c.dispatch=A,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return v},set:function(a){v=a}},padData:{get:function(){return w},set:function(a){w=a}},clipEdge:{get:function(){return x},set:function(a){x=a}},id:{get:function(){return l},set:function(a){l=a}},interactive:{get:function(){return z},set:function(a){z=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},open:{get:function(){return q()},set:function(a){q=a}},close:{get:function(){return r()},set:function(a){r=a}},high:{get:function(){return s},set:function(a){s=a}},low:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!=a.top?a.top:i.top,i.right=void 0!=a.right?a.right:i.right,i.bottom=void 0!=a.bottom?a.bottom:i.bottom,i.left=void 0!=a.left?a.left:i.left}},color:{get:function(){return y},set:function(b){y=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.cumulativeLineChart=function(){"use strict";function c(n){return L.reset(),L.models(h),u&&L.models(i),v&&L.models(j),n.each(function(n){function D(a,d){b.select(c.container).style("cursor","ew-resize")}function H(a,c){K.x=b.event.x,K.i=Math.round(J.invert(K.x)),O()}function L(a,d){b.select(c.container).style("cursor","auto"),B.index=K.i,F.stateChange(B)}function O(){ca.data([K]);var a=c.duration();c.duration(0),c.update(),c.duration(a)}var P=b.select(this);a.utils.initSVG(P),P.classed("nv-chart-"+A,!0);var Q=a.utils.availableWidth(r,P,o),R=a.utils.availableHeight(s,P,o);if(c.update=function(){0===G?P.call(c):P.transition().duration(G).call(c)},c.container=this,B.setter(N(n),c.update).getter(M(n)).update(),B.disabled=n.map(function(a){return!!a.disabled}),!C){var S;C={};for(S in B)B[S]instanceof Array?C[S]=B[S].slice(0):C[S]=B[S]}var T=b.behavior.drag().on("dragstart",D).on("drag",H).on("dragend",L);if(!(n&&n.length&&n.filter(function(a){return a.values.length}).length))return a.utils.noData(c,P),c;P.selectAll(".nv-noData").remove(),f=h.xScale(),g=h.yScale(),J.domain([0,n[0].values.length-1]).range([0,Q]).clamp(!0);var n=d(K.i,n);void 0===I&&(I=e(n)),z?h.yDomain(null):(h.yDomain(I),h.clipEdge(!0));var U=y?"none":"all",V=P.selectAll("g.nv-wrap.nv-cumulativeLine").data([n]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),X=V.select("g");if(W.append("g").attr("class","nv-interactive"),W.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),W.append("g").attr("class","nv-y nv-axis"),W.append("g").attr("class","nv-background"),W.append("g").attr("class","nv-linesWrap").style("pointer-events",U),W.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap"),t?(k.width(Q),X.select(".nv-legendWrap").datum(n).call(k),p||k.height()===o.top||(o.top=k.height(),R=a.utils.availableHeight(s,P,o)),X.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")")):X.select(".nv-legendWrap").selectAll("*").remove(),x){var Y=[{key:"Re-scale y-axis",disabled:!z}];l.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),X.select(".nv-controlsWrap").datum(Y).attr("transform","translate(0,"+-o.top+")").call(l)}else X.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+o.left+","+o.top+")"),w&&X.select(".nv-y.nv-axis").attr("transform","translate("+Q+",0)");var Z=n.filter(function(a){return a.tempDisabled});V.select(".tempDisabled").remove(),Z.length&&V.append("text").attr("class","tempDisabled").attr("x",Q/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period."),y&&(m.width(Q).height(R).margin({left:o.left,top:o.top}).svgContainer(P).xScale(f),V.select(".nv-interactive").call(m)),W.select(".nv-background").append("rect"),X.select(".nv-background rect").attr("width",Q).attr("height",R),h.y(function(a){return a.display.y}).width(Q).height(R).color(n.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!n[b].disabled&&!n[b].tempDisabled}));var $=X.select(".nv-linesWrap").datum(n.filter(function(a){return!a.disabled&&!a.tempDisabled}));$.call(h),n.forEach(function(a,b){a.seriesIndex=b});var _=n.filter(function(a){return!a.disabled&&!!E(a)}),aa=X.select(".nv-avgLinesWrap").selectAll("line").data(_,function(a){return a.key}),ba=function(a){var b=g(E(a));return b<0?0:b>R?R:b};aa.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return h.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",Q).attr("y1",ba).attr("y2",ba),aa.style("stroke-opacity",function(a){var b=g(E(a));return b<0||b>R?0:1}).attr("x1",0).attr("x2",Q).attr("y1",ba).attr("y2",ba),aa.exit().remove();var ca=$.selectAll(".nv-indexLine").data([K]);ca.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(T),ca.attr("transform",function(a){return"translate("+J(a.i)+",0)"}).attr("height",R),u&&(i.scale(f)._ticks(a.utils.calcTicksX(Q/70,n)).tickSize(-R,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),X.select(".nv-x.nv-axis").call(i)),v&&(j.scale(g)._ticks(a.utils.calcTicksY(R/36,n)).tickSize(-Q,0),X.select(".nv-y.nv-axis").call(j)),X.select(".nv-background rect").on("click",function(){K.x=b.mouse(this)[0],K.i=Math.round(J.invert(K.x)),B.index=K.i,F.stateChange(B),O()}),h.dispatch.on("elementClick",function(a){K.i=a.pointIndex,K.x=J(K.i),B.index=K.i,F.stateChange(B),O()}),l.dispatch.on("legendClick",function(a,b){a.disabled=!a.disabled,z=!a.disabled,B.rescaleY=z,z||(I=e(n)),F.stateChange(B),c.update()}),k.dispatch.on("stateChange",function(a){for(var b in a)B[b]=a[b];F.stateChange(B),c.update()}),m.dispatch.on("elementMousemove",function(b){h.clearHighlights();var d,e,f,g=[];if(n.filter(function(a,b){return a.seriesIndex=b,!(a.disabled||a.tempDisabled)}).forEach(function(i,j){e=a.interactiveBisect(i.values,b.pointXValue,c.x()),h.highlightPoint(j,e,!0);var k=i.values[e];void 0!==k&&(void 0===d&&(d=k),void 0===f&&(f=c.xScale()(c.x()(k,e))),g.push({key:i.key,value:c.y()(k,e),color:q(i,i.seriesIndex)}))}),g.length>2){var k=c.yScale().invert(b.mouseY),l=Math.abs(c.yScale().domain()[0]-c.yScale().domain()[1]),o=.03*l,p=a.nearestValueIndex(g.map(function(a){return a.value}),k,o);null!==p&&(g[p].highlight=!0)}var r=i.tickFormat()(c.x()(d,e),e);m.tooltip.valueFormatter(function(a,b){return j.tickFormat()(a)}).data({value:r,series:g})(),m.renderGuideLine(f)}),m.dispatch.on("elementMouseout",function(a){h.clearHighlights()}),F.on("changeState",function(a){void 0!==a.disabled&&(n.forEach(function(b,c){b.disabled=a.disabled[c]}),B.disabled=a.disabled),void 0!==a.index&&(K.i=a.index,K.x=J(K.i),B.index=a.index,ca.data([K])),void 0!==a.rescaleY&&(z=a.rescaleY),c.update()})}),L.renderEnd("cumulativeLineChart immediate"),c}function d(a,b){return O||(O=h.y()),b.map(function(b,c){if(!b.values)return b;var d=b.values[a];if(null==d)return b;var e=O(d,a);return Math.abs(e)<1e-5&&!H?(b.tempDisabled=!0,b):(b.tempDisabled=!1,b.values=b.values.map(function(a,b){return a.display={y:(O(a,b)-e)/e},a}),b)})}function e(a){var c=a.filter(function(a){return!(a.disabled||a.tempDisabled)}).map(function(a,c){return b.extent(a.values,function(a){return a.display.y})});return[b.min(c,function(a){return a[0]}),b.max(c,function(a){return a[1]})]}var f,g,h=a.models.line(),i=a.models.axis(),j=a.models.axis(),k=a.models.legend(),l=a.models.legend(),m=a.interactiveGuideline(),n=a.models.tooltip(),o={top:30,right:30,bottom:50,left:60},p=null,q=a.utils.defaultColor(),r=null,s=null,t=!0,u=!0,v=!0,w=!1,x=!0,y=!1,z=!0,A=h.id(),B=a.utils.state(),C=null,D=null,E=function(a){return a.average},F=b.dispatch("stateChange","changeState","renderEnd"),G=250,H=!1;B.index=0,B.rescaleY=z,i.orient("bottom").tickPadding(7),j.orient(w?"right":"left"),n.valueFormatter(function(a,b){return j.tickFormat()(a,b)}).headerFormatter(function(a,b){return i.tickFormat()(a,b)}),l.updateState(!1);var I,J=b.scale.linear(),K={i:0,x:0},L=a.utils.renderWatch(F,G),M=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:K.i,rescaleY:z}}},N=function(a){return function(b){void 0!==b.index&&(K.i=b.index),void 0!==b.rescaleY&&(z=b.rescaleY),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};h.dispatch.on("elementMouseover.tooltip",function(a){var b={x:c.x()(a.point),y:c.y()(a.point),color:a.point.color};a.point=b,n.data(a).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(a){n.hidden(!0)});var O=null;return c.dispatch=F,c.lines=h,c.legend=k,c.controls=l,c.xAxis=i,c.yAxis=j,c.interactiveLayer=m,c.state=B,c.tooltip=n,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return s},set:function(a){s=a}},showControls:{get:function(){return x},set:function(a){x=a}},showLegend:{get:function(){return t},set:function(a){t=a}},average:{get:function(){return E},set:function(a){E=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return D},set:function(a){D=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},noErrorCheck:{get:function(){return H},set:function(a){H=a}},rescaleY:{get:function(){return z},set:function(a){z=a,c.state.rescaleY=a}},margin:{get:function(){return o},set:function(a){void 0!==a.top&&(o.top=a.top,p=a.top),o.right=void 0!==a.right?a.right:o.right,o.bottom=void 0!==a.bottom?a.bottom:o.bottom,o.left=void 0!==a.left?a.left:o.left}},color:{get:function(){return q},set:function(b){q=a.utils.getColor(b),k.color(q)}},useInteractiveGuideline:{get:function(){return y},set:function(a){y=a,!0===a&&(c.interactive(!1),c.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,j.orient(a?"right":"left")}},duration:{get:function(){return G},set:function(a){G=a,h.duration(G),i.duration(G),j.duration(G),L.reset(G)}}}),a.utils.inheritOptions(c,h),a.utils.initOptions(c),c},a.models.discreteBar=function(){"use strict";function c(n){return z.reset(),n.each(function(c){var n=l-k.left-k.right,y=m-k.top-k.bottom;d=b.select(this),a.utils.initSVG(d),c.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var A=e&&f?[]:c.map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:r(a,b),y0:a.y0}})});o.domain(e||b.merge(A).map(function(a){return a.x})).rangeBands(g||[0,n],.1),p.domain(f||b.extent(b.merge(A).map(function(a){return a.y}).concat(s))),u?p.range(h||[y-(p.domain()[0]<0?12:0),p.domain()[1]>0?12:0]):p.range(h||[y,0]),i=i||o,j=j||p.copy().range([p(0),p(0)]);var B=d.selectAll("g.nv-wrap.nv-discretebar").data([c]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),D=C.append("g");B.select("g");D.append("g").attr("class","nv-groups"),B.attr("transform","translate("+k.left+","+k.top+")");var E=B.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(z,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),E.watchTransition(z,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var F=E.selectAll("g.nv-bar").data(function(a){return a.values});F.exit().remove();var G=F.enter().append("g").attr("transform",function(a,b,c){return"translate("+(o(q(a,b))+.05*o.rangeBand())+", "+p(0)+")"}).on("mouseover",function(a,c){b.select(this).classed("hover",!0),w.elementMouseover({data:a,index:c,color:b.select(this).style("fill")})}).on("mouseout",function(a,c){b.select(this).classed("hover",!1),w.elementMouseout({data:a,index:c,color:b.select(this).style("fill")})}).on("mousemove",function(a,c){w.elementMousemove({data:a,index:c,color:b.select(this).style("fill")})}).on("click",function(a,c){var d=this;w.elementClick({data:a,index:c,color:b.select(this).style("fill"),event:b.event,element:d}),b.event.stopPropagation()}).on("dblclick",function(a,c){w.elementDblClick({data:a,index:c,color:b.select(this).style("fill")}),b.event.stopPropagation()});G.append("rect").attr("height",0).attr("width",.9*o.rangeBand()/c.length),u?(G.append("text").attr("text-anchor","middle"),F.select("text").text(function(a,b){return v(r(a,b))}).watchTransition(z,"discreteBar: bars text").attr("x",.9*o.rangeBand()/2).attr("y",function(a,b){return r(a,b)<0?p(r(a,b))-p(0)+12:-4})):F.selectAll("text").remove(),F.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||t(a,b)}).style("stroke",function(a,b){return a.color||t(a,b)}).select("rect").attr("class",x).watchTransition(z,"discreteBar: bars rect").attr("width",.9*o.rangeBand()/c.length),F.watchTransition(z,"discreteBar: bars").attr("transform",function(a,b){return"translate("+(o(q(a,b))+.05*o.rangeBand())+", "+(r(a,b)<0?p(0):p(0)-p(r(a,b))<1?p(0)-1:p(r(a,b)))+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(p(r(a,b))-p(0)),1)}),i=o.copy(),j=p.copy()}),z.renderEnd("discreteBar immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=Math.floor(1e4*Math.random()),o=b.scale.ordinal(),p=b.scale.linear(),q=function(a){return a.x},r=function(a){return a.y},s=[0],t=a.utils.defaultColor(),u=!1,v=b.format(",.2f"),w=b.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x="discreteBar",y=250,z=a.utils.renderWatch(w,y);return c.dispatch=w,
c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},forceY:{get:function(){return s},set:function(a){s=a}},showValues:{get:function(){return u},set:function(a){u=a}},x:{get:function(){return q},set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return o},set:function(a){o=a}},yScale:{get:function(){return p},set:function(a){p=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},valueFormat:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return n},set:function(a){n=a}},rectClass:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},color:{get:function(){return t},set:function(b){t=a.utils.getColor(b)}},duration:{get:function(){return y},set:function(a){y=a,z.reset(y)}}}),a.utils.initOptions(c),c},a.models.discreteBarChart=function(){"use strict";function c(j){return z.reset(),z.models(f),q&&z.models(g),r&&z.models(h),j.each(function(j){var o=b.select(this);a.utils.initSVG(o);var w=a.utils.availableWidth(m,o,k),z=a.utils.availableHeight(n,o,k);if(c.update=function(){x.beforeUpdate(),o.transition().duration(y).call(c)},c.container=this,!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return a.utils.noData(c,o),c;o.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale().clamp(!0);var A=o.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([j]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),C=B.append("defs"),D=A.select("g");if(B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),B.append("g").attr("class","nv-barsWrap"),B.append("g").attr("class","nv-legendWrap"),D.attr("transform","translate("+k.left+","+k.top+")"),p?(i.width(w),D.select(".nv-legendWrap").datum(j).call(i),l||i.height()===k.top||(k.top=i.height(),z=a.utils.availableHeight(n,o,k)),A.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")):D.select(".nv-legendWrap").selectAll("*").remove(),s&&D.select(".nv-y.nv-axis").attr("transform","translate("+w+",0)"),f.width(w).height(z),D.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled})).transition().call(f),C.append("clipPath").attr("id","nv-x-label-clip-"+f.id()).append("rect"),D.select("#nv-x-label-clip-"+f.id()+" rect").attr("width",d.rangeBand()*(t?2:1)).attr("height",16).attr("x",-d.rangeBand()/(t?1:2)),q){g.scale(d)._ticks(a.utils.calcTicksX(w/100,j)).tickSize(-z,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(f.showValues()&&e.domain()[0]<0?16:0))+")"),D.select(".nv-x.nv-axis").call(g);var E=D.select(".nv-x.nv-axis").selectAll("g");t&&E.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"}),v&&E.selectAll(".tick text").attr("transform","rotate("+v+" 0,0)").style("text-anchor",v>0?"start":"end"),u&&D.selectAll(".tick text").call(a.utils.wrapTicks,c.xAxis.rangeBand())}r&&(h.scale(e)._ticks(a.utils.calcTicksY(z/36,j)).tickSize(-w,0),D.select(".nv-y.nv-axis").call(h)),D.select(".nv-zeroLine line").attr("x1",0).attr("x2",s?-w:w).attr("y1",e(0)).attr("y2",e(0))}),z.renderEnd("discreteBar chart immediate"),c}var d,e,f=a.models.discreteBar(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.models.tooltip(),k={top:15,right:10,bottom:50,left:60},l=null,m=null,n=null,o=a.utils.getColor(),p=!1,q=!0,r=!0,s=!1,t=!1,u=!1,v=0,w=null,x=b.dispatch("beforeUpdate","renderEnd"),y=250;g.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),h.orient(s?"right":"left").tickFormat(b.format(",.1f")),j.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).keyFormatter(function(a,b){return g.tickFormat()(a,b)});var z=a.utils.renderWatch(x,y);return f.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:c.x()(a.data),value:c.y()(a.data),color:a.color},j.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(a){j()}),c.dispatch=x,c.discretebar=f,c.legend=i,c.xAxis=g,c.yAxis=h,c.tooltip=j,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return p},set:function(a){p=a}},staggerLabels:{get:function(){return t},set:function(a){t=a}},rotateLabels:{get:function(){return v},set:function(a){v=a}},wrapLabels:{get:function(){return u},set:function(a){u=!!a}},showXAxis:{get:function(){return q},set:function(a){q=a}},showYAxis:{get:function(){return r},set:function(a){r=a}},noData:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(k.top=a.top,l=a.top),k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return y},set:function(a){y=a,z.reset(y),f.duration(y),g.duration(y),h.duration(y)}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),f.color(o),i.color(o)}},rightAlignYAxis:{get:function(){return s},set:function(a){s=a,h.orient(a?"right":"left")}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.distribution=function(){"use strict";function c(f){return n.reset(),f.each(function(c){var f=("x"===h?(e.left,e.right):(e.top,e.bottom),"x"==h?"y":"x"),l=b.select(this);a.utils.initSVG(l),d=d||k;var m=l.selectAll("g.nv-distribution").data([c]),o=m.enter().append("g").attr("class","nvd3 nv-distribution"),p=(o.append("g"),m.select("g"));m.attr("transform","translate("+e.left+","+e.top+")");var q=p.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});q.enter().append("g"),q.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return j(a,b)});var r=q.selectAll("line.nv-dist"+h).data(function(a){return a.values});r.enter().append("line").attr(h+"1",function(a,b){return d(i(a,b))}).attr(h+"2",function(a,b){return d(i(a,b))}),n.transition(q.exit().selectAll("line.nv-dist"+h),"dist exit").attr(h+"1",function(a,b){return k(i(a,b))}).attr(h+"2",function(a,b){return k(i(a,b))}).style("stroke-opacity",0).remove(),r.attr("class",function(a,b){return"nv-dist"+h+" nv-dist"+h+"-"+b}).attr(f+"1",0).attr(f+"2",g),n.transition(r,"dist").attr(h+"1",function(a,b){return k(i(a,b))}).attr(h+"2",function(a,b){return k(i(a,b))}),d=k.copy()}),n.renderEnd("distribution immediate"),c}var d,e={top:0,right:0,bottom:0,left:0},f=400,g=8,h="x",i=function(a){return a[h]},j=a.utils.defaultColor(),k=b.scale.linear(),l=250,m=b.dispatch("renderEnd"),n=a.utils.renderWatch(m,l);return c.options=a.utils.optionsFunc.bind(c),c.dispatch=m,c.margin=function(a){return arguments.length?(e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left,c):e},c.width=function(a){return arguments.length?(f=a,c):f},c.axis=function(a){return arguments.length?(h=a,c):h},c.size=function(a){return arguments.length?(g=a,c):g},c.getData=function(a){return arguments.length?(i=b.functor(a),c):i},c.scale=function(a){return arguments.length?(k=a,c):k},c.color=function(b){return arguments.length?(j=a.utils.getColor(b),c):j},c.duration=function(a){return arguments.length?(l=a,n.reset(l),c):l},c},a.models.focus=function(c){"use strict";function d(v){return u.reset(),u.models(c),n&&u.models(g),o&&u.models(h),v.each(function(u){function v(a){var b=+("e"==a),c=b?1:-1,d=A/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function w(){i.empty()||i.extent(q),F.data([i.empty()?e.domain():q]).each(function(a,c){var d=e(a[0])-e.range()[0],f=z-e(a[1]);b.select(this).select(".left").attr("width",d<0?0:d),b.select(this).select(".right").attr("x",e(a[1])).attr("width",f<0?0:f)})}function x(a){q=i.empty()?null:i.extent();var b=i.empty()?e.domain():i.extent();s.brush({extent:b,brush:i}),w(),a&&s.onBrush(b)}var y=b.select(this);a.utils.initSVG(y);var z=a.utils.availableWidth(l,y,j),A=m-j.top-j.bottom;d.update=function(){0===r?y.call(d):y.transition().duration(r).call(d)},d.container=this,e=c.xScale(),f=c.yScale();var B=y.selectAll("g.nv-focus").data([u]),C=B.enter().append("g").attr("class","nvd3 nv-focus").append("g"),D=B.select("g");B.attr("transform","translate("+j.left+","+j.top+")"),C.append("g").attr("class","nv-background").append("rect"),C.append("g").attr("class","nv-x nv-axis"),C.append("g").attr("class","nv-y nv-axis"),C.append("g").attr("class","nv-contentWrap"),C.append("g").attr("class","nv-brushBackground"),C.append("g").attr("class","nv-x nv-brush"),p&&D.select(".nv-y.nv-axis").attr("transform","translate("+z+",0)"),D.select(".nv-background rect").attr("width",z).attr("height",A),c.width(z).height(A).color(u.map(function(a,b){return a.color||k(a,b)}).filter(function(a,b){return!u[b].disabled}));var E=D.select(".nv-contentWrap").datum(u.filter(function(a){return!a.disabled}));b.transition(E).call(c),i.x(e).on("brush",function(){x(t)}),i.on("brushend",function(){t||s.onBrush(i.empty()?e.domain():i.extent())}),q&&i.extent(q);var F=D.select(".nv-brushBackground").selectAll("g").data([q||i.extent()]),G=F.enter().append("g");G.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",A),G.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",A);var H=D.select(".nv-x.nv-brush").call(i);H.selectAll("rect").attr("height",A),H.selectAll(".resize").append("path").attr("d",v),x(!0),D.select(".nv-background rect").attr("width",z).attr("height",A),n&&(g.scale(e)._ticks(a.utils.calcTicksX(z/100,u)).tickSize(-A,0),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),b.transition(D.select(".nv-x.nv-axis")).call(g)),o&&(h.scale(f)._ticks(a.utils.calcTicksY(A/36,u)).tickSize(-z,0),b.transition(D.select(".nv-y.nv-axis")).call(h)),D.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")")}),u.renderEnd("focus immediate"),d}var e,f,c=c||a.models.line(),g=a.models.axis(),h=a.models.axis(),i=b.svg.brush(),j={top:10,right:0,bottom:30,left:0},k=a.utils.defaultColor(),l=null,m=70,n=!0,o=!1,p=!1,q=null,r=250,s=b.dispatch("brush","onBrush","renderEnd"),t=!0;c.interactive(!1),c.pointActive(function(a){return!1});var u=a.utils.renderWatch(s,r);return d.dispatch=s,d.content=c,d.brush=i,d.xAxis=g,d.yAxis=h,d.options=a.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showXAxis:{get:function(){return n},set:function(a){n=a}},showYAxis:{get:function(){return o},set:function(a){o=a}},brushExtent:{get:function(){return q},set:function(a){q=a}},syncBrushing:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return r},set:function(a){r=a,u.reset(r),c.duration(r),g.duration(r),h.duration(r)}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b),c.color(k)}},interpolate:{get:function(){return c.interpolate()},set:function(a){c.interpolate(a)}},xTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},yTickFormat:{get:function(){return h.tickFormat()},set:function(a){h.tickFormat(a)}},x:{get:function(){return c.x()},set:function(a){c.x(a)}},y:{get:function(){return c.y()},set:function(a){c.y(a)}},rightAlignYAxis:{get:function(){return p},set:function(a){p=a,h.orient(p?"right":"left")}}}),a.utils.inheritOptions(d,c),a.utils.initOptions(d),d},a.models.forceDirectedGraph=function(){"use strict";function c(h){return x.reset(),h.each(function(h){g=b.select(this),a.utils.initSVG(g);var k=a.utils.availableWidth(e,g,d),v=a.utils.availableHeight(f,g,d);if(g.attr("width",k).attr("height",v),!(h&&h.links&&h.nodes))return a.utils.noData(c,g),c;g.selectAll(".nv-noData").remove(),g.selectAll("*").remove();var w=new Set;h.nodes.forEach(function(a){Object.keys(a).forEach(function(a){w.add(a)})});var x=b.layout.force().nodes(h.nodes).links(h.links).size([k,v]).linkStrength(l).friction(m).linkDistance(n).charge(o).gravity(p).theta(q).alpha(r).start(),y=g.selectAll(".link").data(h.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(a){return Math.sqrt(a.value)}),z=g.selectAll(".node").data(h.nodes).enter().append("g").attr("class","nv-force-node").call(x.drag);z.append("circle").attr("r",s).style("fill",function(a){return i(a)}).on("mouseover",function(a){g.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.py),g.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.px);var b=i(a);a.series=[],w.forEach(function(c){a.series.push({color:b,key:c,value:a[c]})}),j.data(a).hidden(!1)}).on("mouseout",function(a){j.hidden(!0)}),j.headerFormatter(function(a){return"Node"}),u(y),t(z),x.on("tick",function(){y.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),z.attr("transform",function(a){return"translate("+a.x+", "+a.y+")"})})}),c}var d={top:2,right:0,bottom:2,left:0},e=400,f=32,g=null,h=b.dispatch("renderEnd"),i=a.utils.getColor(["#000"]),j=a.models.tooltip(),k=null,l=.1,m=.9,n=30,o=-120,p=.1,q=.8,r=.1,s=5,t=function(a){},u=function(a){},v=b.functor(0),w=b.functor(0),x=a.utils.renderWatch(h);return c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},linkStrength:{get:function(){return l},set:function(a){l=a}},friction:{get:function(){return m},set:function(a){m=a}},linkDist:{get:function(){return n},set:function(a){n=a}},charge:{get:function(){return o},set:function(a){o=a}},gravity:{get:function(){return p},set:function(a){p=a}},theta:{get:function(){return q},set:function(a){q=a}},alpha:{get:function(){return r},set:function(a){r=a}},radius:{get:function(){return s},set:function(a){s=a}},x:{get:function(){return v},set:function(a){v=b.functor(a)}},y:{get:function(){return w},set:function(a){w=b.functor(a)}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return i},set:function(b){i=a.utils.getColor(b)}},noData:{get:function(){return k},set:function(a){k=a}},nodeExtras:{get:function(){return t},set:function(a){t=a}},linkExtras:{get:function(){return u},set:function(a){u=a}}}),c.dispatch=h,c.tooltip=j,a.utils.initOptions(c),c},a.models.furiousLegend=function(){"use strict";function c(s){function t(a,b){return"furious"!=r?"#000":p?a.disengaged?i(a,b):"#fff":p?void 0:a.disabled?i(a,b):"#fff"}function u(a,b){return p&&"furious"==r?a.disengaged?"#fff":i(a,b):a.disabled?"#fff":i(a,b)}return s.each(function(c){var s=e-d.left-d.right,v=b.select(this);a.utils.initSVG(v);var w=v.selectAll("g.nv-legend").data([c]),x=(w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),w.select("g"));w.attr("transform","translate("+d.left+","+d.top+")");var y,z=x.selectAll(".nv-series").data(function(a){return"furious"!=r?a:a.filter(function(a){return!!p||!a.disengaged})}),A=z.enter().append("g").attr("class","nv-series");if("classic"==r)A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),y=z.select("circle");else if("furious"==r){A.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),y=z.select("rect"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var B=z.select(".nv-check-box");B.each(function(a,c){b.select(this).selectAll("path").attr("stroke",t(a,c))})}A.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var C=z.select("text.nv-legend-text");z.on("mouseover",function(a,b){q.legendMouseover(a,b)}).on("mouseout",function(a,b){q.legendMouseout(a,b)}).on("click",function(a,b){q.legendClick(a,b);var c=z.data();if(n){if("classic"==r)o?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==r)if(p)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!p){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}q.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=r||!p)&&(q.legendDblclick(a,b),n)){var c=z.data();c.forEach(function(a){a.disabled=!0,"furious"==r&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==r&&(a.userDisabled=a.disabled),q.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),z.classed("nv-disabled",function(a){return a.userDisabled}),z.exit().remove(),C.attr("fill",t).text(function(a){return h(g(a))});var D;switch(r){case"furious":D=23;break;case"classic":D=20}if(k){var E=[];z.each(function(c,d){var e;if(h(g(c))&&h(g(c)).length>j){var f=h(g(c)).substring(0,j);e=b.select(this).select("text").text(f+"..."),b.select(this).append("svg:title").text(h(g(c)))}else e=b.select(this).select("text");var i;try{if((i=e.node().getComputedTextLength())<=0)throw Error()}catch(k){i=a.utils.calcApproxTextWidth(e)}E.push(i+l)});for(var F=0,G=0,H=[];G<s&&F<E.length;)H[F]=E[F],G+=E[F++];for(0===F&&(F=1);G>s&&F>1;){H=[],F--;for(var I=0;I<E.length;I++)E[I]>(H[I%F]||0)&&(H[I%F]=E[I]);G=H.reduce(function(a,b,c,d){return a+b})}for(var J=[],K=0,L=0;K<F;K++)J[K]=L,L+=H[K];z.attr("transform",function(a,b){return"translate("+J[b%F]+","+(5+Math.floor(b/F)*D)+")"}),m?x.attr("transform","translate("+(e-d.right-G)+","+d.top+")"):x.attr("transform","translate(0,"+d.top+")"),f=d.top+d.bottom+Math.ceil(E.length/F)*D}else{var M,N=5,O=5,P=0;z.attr("transform",function(a,c){var f=b.select(this).select("text").node().getComputedTextLength()+l;return M=O,e<d.left+d.right+M+f&&(O=M=5,N+=D),O+=f,O>P&&(P=O),"translate("+M+","+N+")"}),x.attr("transform","translate("+(e-d.right-P)+","+d.top+")"),f=d.top+d.bottom+N+15}"furious"==r&&y.attr("width",function(a,b){return C[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),y.style("fill",u).style("stroke",function(a,b){return a.color||i(a,b)})}),c}var d={top:5,right:0,bottom:5,left:0},e=400,f=20,g=function(a){return a.key},h=function(a){return a},i=a.utils.getColor(),j=20,k=!0,l=28,m=!0,n=!0,o=!1,p=!1,q=b.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";return c.dispatch=q,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},key:{get:function(){return g},set:function(a){g=a}},keyFormatter:{get:function(){return h},set:function(a){h=a}},align:{get:function(){return k},set:function(a){k=a}},rightAlign:{get:function(){return m},set:function(a){m=a}},maxKeyLength:{get:function(){return j},set:function(a){j=a}},padding:{get:function(){return l},set:function(a){l=a}},updateState:{get:function(){return n},set:function(a){n=a}},radioButtonMode:{get:function(){return o},set:function(a){o=a}},expanded:{get:function(){return p},set:function(a){p=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return i},set:function(b){i=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.historicalBar=function(){"use strict";function c(y){return y.each(function(c){x.reset(),l=b.select(this);var y=a.utils.availableWidth(i,l,h),z=a.utils.availableHeight(j,l,h);a.utils.initSVG(l),m.domain(d||b.extent(c[0].values.map(o).concat(q))),s?m.range(f||[.5*y/c[0].values.length,y*(c[0].values.length-.5)/c[0].values.length]):m.range(f||[0,y]),n.domain(e||b.extent(c[0].values.map(p).concat(r))).range(g||[z,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]):n.domain([-1,1]));var A=l.selectAll("g.nv-wrap.nv-historicalBar-"+k).data([c[0].values]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+k),C=B.append("defs"),D=B.append("g"),E=A.select("g");D.append("g").attr("class","nv-bars"),A.attr("transform","translate("+h.left+","+h.top+")"),l.on("click",function(a,c){v.chartClick({data:a,index:c,pos:b.event,id:k})}),C.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),A.select("#nv-chart-clip-path-"+k+" rect").attr("width",y).attr("height",z),E.attr("clip-path",t?"url(#nv-chart-clip-path-"+k+")":"");var F=A.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return o(a,b)});F.exit().remove(),F.enter().append("rect").attr("x",0).attr("y",function(b,c){return a.utils.NaNtoZero(n(Math.max(0,p(b,c))))}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.abs(n(p(b,c))-n(0)))}).attr("transform",function(a,b){return"translate("+(m(o(a,b))-y/c[0].values.length*.45)+",0)"}).on("mouseover",function(a,c){w&&(b.select(this).classed("hover",!0),v.elementMouseover({data:a,index:c,color:b.select(this).style("fill")}))}).on("mouseout",function(a,c){w&&(b.select(this).classed("hover",!1),v.elementMouseout({data:a,index:c,color:b.select(this).style("fill")}))}).on("mousemove",function(a,c){w&&v.elementMousemove({data:a,index:c,color:b.select(this).style("fill")})}).on("click",function(a,c){if(w){var d=this;v.elementClick({data:a,index:c,color:b.select(this).style("fill"),event:b.event,element:d}),b.event.stopPropagation()}}).on("dblclick",function(a,c){w&&(v.elementDblClick({data:a,index:c,color:b.select(this).style("fill")}),b.event.stopPropagation())}),F.attr("fill",function(a,b){return u(a,b)}).attr("class",function(a,b,c){return(p(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(x,"bars").attr("transform",function(a,b){return"translate("+(m(o(a,b))-y/c[0].values.length*.45)+",0)"}).attr("width",y/c[0].values.length*.9),F.watchTransition(x,"bars").attr("y",function(b,c){var d=p(b,c)<0?n(0):n(0)-n(p(b,c))<1?n(0)-1:n(p(b,c));return a.utils.NaNtoZero(d)}).attr("height",function(b,c){return a.utils.NaNtoZero(Math.max(Math.abs(n(p(b,c))-n(0)),1))})}),x.renderEnd("historicalBar immediate"),c}var d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=null,m=b.scale.linear(),n=b.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=[],r=[0],s=!1,t=!0,u=a.utils.defaultColor(),v=b.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=!0,x=a.utils.renderWatch(v,0);return c.highlightPoint=function(a,b){l.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},c.clearHighlights=function(){l.select(".nv-bars .nv-bar.hover").classed("hover",!1)},c.dispatch=v,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},forceX:{get:function(){return q},set:function(a){q=a}},forceY:{get:function(){return r},set:function(a){r=a}},padData:{get:function(){return s},set:function(a){s=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},color:{get:function(){return u},set:function(b){u=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.historicalBarChart=function(c){"use strict";function d(c){return c.each(function(l){B.reset(),B.models(g),s&&B.models(h),t&&B.models(i);var y=b.select(this);a.utils.initSVG(y);var C=a.utils.availableWidth(p,y,m),D=a.utils.availableHeight(q,y,m);if(d.update=function(){y.transition().duration(A).call(d)},d.container=this,w.disabled=l.map(function(a){return!!a.disabled}),!x){var E;x={};for(E in w)w[E]instanceof Array?x[E]=w[E].slice(0):x[E]=w[E]}if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return a.utils.noData(d,y),d;y.selectAll(".nv-noData").remove(),e=g.xScale(),f=g.yScale();var F=y.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),G=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),H=F.select("g");G.append("g").attr("class","nv-x nv-axis"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-barsWrap"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-interactive"),r?(j.width(C),H.select(".nv-legendWrap").datum(l).call(j),n||j.height()===m.top||(m.top=j.height(),D=a.utils.availableHeight(q,y,m)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")")):H.select(".nv-legendWrap").selectAll("*").remove(),F.attr("transform","translate("+m.left+","+m.top+")"),u&&H.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),v&&(k.width(C).height(D).margin({left:m.left,top:m.top}).svgContainer(y).xScale(e),F.select(".nv-interactive").call(k)),g.width(C).height(D).color(l.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!l[b].disabled})),H.select(".nv-barsWrap").datum(l.filter(function(a){return!a.disabled})).transition().call(g),s&&(h.scale(e)._ticks(a.utils.calcTicksX(C/100,l)).tickSize(-D,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),H.select(".nv-x.nv-axis").transition().call(h)),t&&(i.scale(f)._ticks(a.utils.calcTicksY(D/36,l)).tickSize(-C,0),H.select(".nv-y.nv-axis").transition().call(i)),k.dispatch.on("elementMousemove",function(b){g.clearHighlights();var c,e,f,j=[];l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h,i){e=a.interactiveBisect(h.values,b.pointXValue,d.x()),g.highlightPoint(e,!0);var k=h.values[e];void 0!==k&&(void 0===c&&(c=k),void 0===f&&(f=d.xScale()(d.x()(k,e))),j.push({key:h.key,value:d.y()(k,e),color:o(h,h.seriesIndex),data:h.values[e]}))});var m=h.tickFormat()(d.x()(c,e));k.tooltip.valueFormatter(function(a,b){return i.tickFormat()(a)}).data({value:m,index:e,series:j})(),k.renderGuideLine(f)}),k.dispatch.on("elementMouseout",function(a){z.tooltipHide(),g.clearHighlights()}),j.dispatch.on("legendClick",function(a,b){a.disabled=!a.disabled,l.filter(function(a){return!a.disabled}).length||l.map(function(a){return a.disabled=!1,F.selectAll(".nv-series").classed("disabled",!1),a}),w.disabled=l.map(function(a){return!!a.disabled}),z.stateChange(w),c.transition().call(d)}),j.dispatch.on("legendDblclick",function(a){l.forEach(function(a){a.disabled=!0}),a.disabled=!1,w.disabled=l.map(function(a){return!!a.disabled}),z.stateChange(w),d.update()}),z.on("changeState",function(a){void 0!==a.disabled&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),w.disabled=a.disabled),d.update()})}),B.renderEnd("historicalBarChart immediate"),d}var e,f,g=c||a.models.historicalBar(),h=a.models.axis(),i=a.models.axis(),j=a.models.legend(),k=a.interactiveGuideline(),l=a.models.tooltip(),m={top:30,right:90,bottom:50,left:90},n=null,o=a.utils.defaultColor(),p=null,q=null,r=!1,s=!0,t=!0,u=!1,v=!1,w={},x=null,y=null,z=b.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250;h.orient("bottom").tickPadding(7),i.orient(u?"right":"left"),l.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return h.tickFormat()(a,b)});var B=a.utils.renderWatch(z,0);return g.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:d.x()(a.data),value:d.y()(a.data),color:a.color},l.data(a).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)}),g.dispatch.on("elementMousemove.tooltip",function(a){l()}),d.dispatch=z,d.bars=g,d.legend=j,d.xAxis=h,d.yAxis=i,d.interactiveLayer=k,d.tooltip=l,d.options=a.utils.optionsFunc.bind(d),d._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},showLegend:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return x},set:function(a){x=a}},noData:{get:function(){return y},set:function(a){y=a}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),j.color(o),g.color(o)}},duration:{get:function(){return A},set:function(a){A=a,B.reset(A),i.duration(A),h.duration(A)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,i.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(a){v=a,!0===a&&d.interactive(!1)}}}),a.utils.inheritOptions(d,g),a.utils.initOptions(d),d},a.models.ohlcBarChart=function(){var b=a.models.historicalBarChart(a.models.ohlcBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(a){var c=a.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+a.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.candlestickBarChart=function(){var b=a.models.historicalBarChart(a.models.candlestickBar());return b.useInteractiveGuideline(!0),b.interactiveLayer.tooltip.contentGenerator(function(a){var c=a.series[0].data
;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+a.value+"</h3><table><tr><td>open:</td><td>"+b.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+b.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+b.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+b.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),b},a.models.legend=function(){"use strict";function c(t){function u(a,b){return"furious"!=s?"#000":q?a.disengaged?"#000":"#fff":q?void 0:(a.color||(a.color=i(a,b)),a.disabled?a.color:"#fff")}function v(a,b){return q&&"furious"==s&&a.disengaged?"#eee":a.color||i(a,b)}function w(a,b){return q&&"furious"==s?1:a.disabled?0:1}return t.each(function(c){var i=e-d.left-d.right,t=b.select(this);a.utils.initSVG(t);var x=t.selectAll("g.nv-legend").data([c]),y=x.enter().append("g").attr("class","nvd3 nv-legend").append("g"),z=x.select("g");m?x.attr("transform","translate("+-d.right+","+d.top+")"):x.attr("transform","translate("+d.left+","+d.top+")");var A,B,C=z.selectAll(".nv-series").data(function(a){return"furious"!=s?a:a.filter(function(a){return!!q||!a.disengaged})}),D=C.enter().append("g").attr("class","nv-series");switch(s){case"furious":B=23;break;case"classic":B=20}if("classic"==s)D.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),A=C.select(".nv-legend-symbol");else if("furious"==s){D.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),A=C.select(".nv-legend-symbol"),D.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var E=C.select(".nv-check-box");E.each(function(a,c){b.select(this).selectAll("path").attr("stroke",u(a,c))})}D.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var F=C.select("text.nv-legend-text");C.on("mouseover",function(a,b){r.legendMouseover(a,b)}).on("mouseout",function(a,b){r.legendMouseout(a,b)}).on("click",function(a,b){r.legendClick(a,b);var c=C.data();if(n){if("classic"==s)p?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==s)if(q)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!q){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}r.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(o){if("furious"==s&&q)return;if(r.legendDblclick(a,b),n){var c=C.data();c.forEach(function(a){a.disabled=!0,"furious"==s&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==s&&(a.userDisabled=a.disabled),r.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}}),C.classed("nv-disabled",function(a){return a.userDisabled}),C.exit().remove(),F.attr("fill",u).text(function(a){return h(g(a))});var G=0;if(k){var H=[];C.each(function(c,d){var e;if(h(g(c))&&h(g(c)).length>j){var f=h(g(c)).substring(0,j);e=b.select(this).select("text").text(f+"..."),b.select(this).append("svg:title").text(h(g(c)))}else e=b.select(this).select("text");var i;try{if((i=e.node().getComputedTextLength())<=0)throw Error()}catch(k){i=a.utils.calcApproxTextWidth(e)}H.push(i+l)});var I=0,J=[];for(G=0;G<i&&I<H.length;)J[I]=H[I],G+=H[I++];for(0===I&&(I=1);G>i&&I>1;){J=[],I--;for(var K=0;K<H.length;K++)H[K]>(J[K%I]||0)&&(J[K%I]=H[K]);G=J.reduce(function(a,b,c,d){return a+b})}for(var L=[],M=0,N=0;M<I;M++)L[M]=N,N+=J[M];C.attr("transform",function(a,b){return"translate("+L[b%I]+","+(5+Math.floor(b/I)*B)+")"}),m?z.attr("transform","translate("+(e-d.right-G)+","+d.top+")"):z.attr("transform","translate(0,"+d.top+")"),f=d.top+d.bottom+Math.ceil(H.length/I)*B}else{var O,P=5,Q=5,R=0;C.attr("transform",function(a,c){var f=b.select(this).select("text").node().getComputedTextLength()+l;return O=Q,e<d.left+d.right+O+f&&(Q=O=5,P+=B),Q+=f,Q>R&&(R=Q),G<O+R&&(G=O+R),"translate("+O+","+P+")"}),z.attr("transform","translate("+(e-d.right-R)+","+d.top+")"),f=d.top+d.bottom+P+15}if("furious"==s){A.attr("width",function(a,b){return F[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),y.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);z.select(".nv-legend-bg").transition().duration(300).attr("x",-B).attr("width",G+B-12).attr("height",f+10).attr("y",-d.top-10).attr("opacity",q?1:0)}A.style("fill",v).style("fill-opacity",w).style("stroke",v)}),c}var d={top:5,right:0,bottom:5,left:0},e=400,f=20,g=function(a){return a.key},h=function(a){return a},i=a.utils.getColor(),j=20,k=!0,l=32,m=!0,n=!0,o=!0,p=!1,q=!1,r=b.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),s="classic";return c.dispatch=r,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},key:{get:function(){return g},set:function(a){g=a}},keyFormatter:{get:function(){return h},set:function(a){h=a}},align:{get:function(){return k},set:function(a){k=a}},maxKeyLength:{get:function(){return j},set:function(a){j=a}},rightAlign:{get:function(){return m},set:function(a){m=a}},padding:{get:function(){return l},set:function(a){l=a}},updateState:{get:function(){return n},set:function(a){n=a}},enableDoubleClick:{get:function(){return o},set:function(a){o=a}},radioButtonMode:{get:function(){return p},set:function(a){p=a}},expanded:{get:function(){return q},set:function(a){q=a}},vers:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},color:{get:function(){return i},set:function(b){i=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.line=function(){"use strict";function c(s){return w.reset(),w.models(f),s.each(function(c){j=b.select(this);var s=a.utils.availableWidth(h,j,g),t=a.utils.availableHeight(i,j,g);a.utils.initSVG(j),d=f.xScale(),e=f.yScale(),u=u||d,v=v||e;var x=j.selectAll("g.nv-wrap.nv-line").data([c]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),z=y.append("defs"),A=y.append("g"),B=x.select("g");A.append("g").attr("class","nv-groups"),A.append("g").attr("class","nv-scatterWrap"),x.attr("transform","translate("+g.left+","+g.top+")"),f.width(s).height(t);var C=x.select(".nv-scatterWrap");C.call(f),z.append("clipPath").attr("id","nv-edge-clip-"+f.id()).append("rect"),x.select("#nv-edge-clip-"+f.id()+" rect").attr("width",s).attr("height",t>0?t:0),B.attr("clip-path",q?"url(#nv-edge-clip-"+f.id()+")":""),C.attr("clip-path",q?"url(#nv-edge-clip-"+f.id()+")":"");var D=x.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});D.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(a){return a.strokeWidth||k}).style("fill-opacity",1e-6),D.exit().remove(),D.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return l(a,b)}).style("stroke",function(a,b){return l(a,b)}),D.watchTransition(w,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});var E=D.selectAll("path.nv-area").data(function(a){return p(a)?[a]:[]});E.enter().append("path").attr("class","nv-area").attr("d",function(c){return b.svg.area().interpolate(r).defined(o).x(function(b,c){return a.utils.NaNtoZero(u(m(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(v(n(b,c)))}).y1(function(a,b){return v(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[c.values])}),D.exit().selectAll("path.nv-area").remove(),E.watchTransition(w,"line: areaPaths").attr("d",function(c){return b.svg.area().interpolate(r).defined(o).x(function(b,c){return a.utils.NaNtoZero(d(m(b,c)))}).y0(function(b,c){return a.utils.NaNtoZero(e(n(b,c)))}).y1(function(a,b){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[c.values])});var F=D.selectAll("path.nv-line").data(function(a){return[a.values]});F.enter().append("path").attr("class","nv-line").attr("d",b.svg.line().interpolate(r).defined(o).x(function(b,c){return a.utils.NaNtoZero(u(m(b,c)))}).y(function(b,c){return a.utils.NaNtoZero(v(n(b,c)))})),F.watchTransition(w,"line: linePaths").attr("d",b.svg.line().interpolate(r).defined(o).x(function(b,c){return a.utils.NaNtoZero(d(m(b,c)))}).y(function(b,c){return a.utils.NaNtoZero(e(n(b,c)))})),u=d.copy(),v=e.copy()}),w.renderEnd("line immediate"),c}var d,e,f=a.models.scatter(),g={top:0,right:0,bottom:0,left:0},h=960,i=500,j=null,k=1.5,l=a.utils.defaultColor(),m=function(a){return a.x},n=function(a){return a.y},o=function(a,b){return!isNaN(n(a,b))&&null!==n(a,b)},p=function(a){return a.area},q=!1,r="linear",s=250,t=b.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");f.pointSize(16).pointDomain([16,256]);var u,v,w=a.utils.renderWatch(t,s);return c.dispatch=t,c.scatter=f,f.dispatch.on("elementClick",function(){t.elementClick.apply(this,arguments)}),f.dispatch.on("elementMouseover",function(){t.elementMouseover.apply(this,arguments)}),f.dispatch.on("elementMouseout",function(){t.elementMouseout.apply(this,arguments)}),c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},defined:{get:function(){return o},set:function(a){o=a}},interpolate:{get:function(){return r},set:function(a){r=a}},clipEdge:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},duration:{get:function(){return s},set:function(a){s=a,w.reset(s),f.duration(s)}},isArea:{get:function(){return p},set:function(a){p=b.functor(a)}},x:{get:function(){return m},set:function(a){m=a,f.x(a)}},y:{get:function(){return n},set:function(a){n=a,f.y(a)}},color:{get:function(){return l},set:function(b){l=a.utils.getColor(b),f.color(l)}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.lineChart=function(){"use strict";function c(k){return D.reset(),D.models(f),t&&D.models(g),u&&D.models(h),k.each(function(k){function A(){t&&N.select(".nv-focus .nv-x.nv-axis").transition().duration(C).call(g)}function D(){u&&N.select(".nv-focus .nv-y.nv-axis").transition().duration(C).call(h)}function G(a){N.select(".nv-focus .nv-linesWrap").datum(k.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return f.x()(b,c)>=a[0]&&f.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}})).transition().duration(C).call(f),A(),D()}var H=b.select(this);a.utils.initSVG(H);var I=a.utils.availableWidth(p,H,m),J=a.utils.availableHeight(q,H,m)-(x?l.height():0);if(c.update=function(){0===C?H.call(c):H.transition().duration(C).call(c)},c.container=this,y.setter(F(k),c.update).getter(E(k)).update(),y.disabled=k.map(function(a){return!!a.disabled}),!z){var K;z={};for(K in y)y[K]instanceof Array?z[K]=y[K].slice(0):z[K]=y[K]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return a.utils.noData(c,H),c;H.selectAll(".nv-noData").remove(),l.dispatch.on("onBrush",function(a){G(a)}),d=f.xScale(),e=f.yScale();var L=H.selectAll("g.nv-wrap.nv-lineChart").data([k]),M=L.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),N=L.select("g");M.append("g").attr("class","nv-legendWrap");var O=M.append("g").attr("class","nv-focus");O.append("g").attr("class","nv-background").append("rect"),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-linesWrap"),O.append("g").attr("class","nv-interactive");M.append("g").attr("class","nv-focusWrap");r?(i.width(I),N.select(".nv-legendWrap").datum(k).call(i),"bottom"===s?(m.bottom=g.height()+i.height(),J=a.utils.availableHeight(q,H,m),N.select(".nv-legendWrap").attr("transform","translate(0,"+(J+g.height())+")")):"top"===s&&(n||i.height()===m.top||(m.top=i.height(),J=a.utils.availableHeight(q,H,m)-(x?l.height():0)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-m.top+")"))):N.select(".nv-legendWrap").selectAll("*").remove(),L.attr("transform","translate("+m.left+","+m.top+")"),v&&N.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),w&&(j.width(I).height(J).margin({left:m.left,top:m.top}).svgContainer(H).xScale(d),L.select(".nv-interactive").call(j)),N.select(".nv-focus .nv-background rect").attr("width",I).attr("height",J),f.width(I).height(J).color(k.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!k[b].disabled}));var P=N.select(".nv-linesWrap").datum(k.filter(function(a){return!a.disabled}));if(t&&g.scale(d)._ticks(a.utils.calcTicksX(I/100,k)).tickSize(-J,0),u&&h.scale(e)._ticks(a.utils.calcTicksY(J/36,k)).tickSize(-I,0),N.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+J+")"),x||null!==l.brush.extent()){l.width(I),N.select(".nv-focusWrap").style("display",x?"initial":"none").attr("transform","translate(0,"+(J+m.bottom+l.margin().top)+")").call(l);var Q=l.brush.empty()?l.xDomain():l.brush.extent();null!==Q&&G(Q)}else P.call(f),A(),D();i.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];B.stateChange(y),c.update()}),j.dispatch.on("elementMousemove",function(b){f.clearHighlights();var e,g,i,m=[];if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled&&!a.disableTooltip}).forEach(function(h,j){var k=null!==l.brush.extent()?l.brush.empty()?l.xScale().domain():l.brush.extent():d.domain(),n=h.values.filter(function(a,b){return k[0]<=k[1]?f.x()(a,b)>=k[0]&&f.x()(a,b)<=k[1]:f.x()(a,b)>=k[1]&&f.x()(a,b)<=k[0]});g=a.interactiveBisect(n,b.pointXValue,f.x());var p=n[g],q=c.y()(p,g);null!==q&&f.highlightPoint(j,g,!0),void 0!==p&&(void 0===e&&(e=p),void 0===i&&(i=c.xScale()(c.x()(p,g))),m.push({key:h.key,value:q,color:o(h,h.seriesIndex),data:p}))}),m.length>2){var n=c.yScale().invert(b.mouseY),p=Math.abs(c.yScale().domain()[0]-c.yScale().domain()[1]),q=.03*p,r=a.nearestValueIndex(m.map(function(a){return a.value}),n,q);null!==r&&(m[r].highlight=!0)}var s=function(a,b){return null==a?"N/A":h.tickFormat()(a)};j.tooltip.valueFormatter(j.tooltip.valueFormatter()||s).data({value:c.x()(e,g),index:g,series:m})(),j.renderGuideLine(i)}),j.dispatch.on("elementClick",function(b){var d,e=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(f){var g=a.interactiveBisect(f.values,b.pointXValue,c.x()),h=f.values[g];if(void 0!==h){void 0===d&&(d=c.xScale()(c.x()(h,g)));var i=c.yScale()(c.y()(h,g));e.push({point:h,pointIndex:g,pos:[d,i],seriesIndex:f.seriesIndex,series:f})}}),f.dispatch.elementClick(e)}),j.dispatch.on("elementMouseout",function(a){f.clearHighlights()}),B.on("changeState",function(a){void 0!==a.disabled&&k.length===a.disabled.length&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),y.disabled=a.disabled),c.update()})}),D.renderEnd("lineChart immediate"),c}var d,e,f=a.models.line(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.interactiveGuideline(),k=a.models.tooltip(),l=a.models.focus(a.models.line()),m={top:30,right:20,bottom:50,left:60},n=null,o=a.utils.defaultColor(),p=null,q=null,r=!0,s="top",t=!0,u=!0,v=!1,w=!1,x=!1,y=a.utils.state(),z=null,A=null,B=b.dispatch("stateChange","changeState","renderEnd"),C=250;g.orient("bottom").tickPadding(7),h.orient(v?"right":"left"),f.clipEdge(!0).duration(0),k.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.tooltip.valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});var D=a.utils.renderWatch(B,C),E=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},F=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return f.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),c.dispatch=B,c.lines=f,c.legend=i,c.focus=l,c.xAxis=g,c.x2Axis=l.xAxis,c.yAxis=h,c.y2Axis=l.yAxis,c.interactiveLayer=j,c.tooltip=k,c.state=y,c.dispatch=B,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},showLegend:{get:function(){return r},set:function(a){r=a}},legendPosition:{get:function(){return s},set:function(a){s=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return A},set:function(a){A=a}},focusEnable:{get:function(){return x},set:function(a){x=a}},focusHeight:{get:function(){return l.height()},set:function(a){l.height(a)}},focusShowAxisX:{get:function(){return l.showXAxis()},set:function(a){l.showXAxis(a)}},focusShowAxisY:{get:function(){return l.showYAxis()},set:function(a){l.showYAxis(a)}},brushExtent:{get:function(){return l.brushExtent()},set:function(a){l.brushExtent(a)}},focusMargin:{get:function(){return l.margin},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),l.margin.right=void 0!==a.right?a.right:l.margin.right,l.margin.bottom=void 0!==a.bottom?a.bottom:l.margin.bottom,l.margin.left=void 0!==a.left?a.left:l.margin.left}},margin:{get:function(){return m},set:function(a){m.top=void 0!==a.top?a.top:m.top,m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},duration:{get:function(){return C},set:function(a){C=a,D.reset(C),f.duration(C),l.duration(C),g.duration(C),h.duration(C)}},color:{get:function(){return o},set:function(b){o=a.utils.getColor(b),i.color(o),f.color(o),l.color(o)}},interpolate:{get:function(){return f.interpolate()},set:function(a){f.interpolate(a),l.interpolate(a)}},xTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a),l.xTickFormat(a)}},yTickFormat:{get:function(){return h.tickFormat()},set:function(a){h.tickFormat(a),l.yTickFormat(a)}},x:{get:function(){return f.x()},set:function(a){f.x(a),l.x(a)}},y:{get:function(){return f.y()},set:function(a){f.y(a),l.y(a)}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a,h.orient(v?"right":"left")}},useInteractiveGuideline:{get:function(){return w},set:function(a){(w=a)&&(f.interactive(!1),f.useVoronoi(!1))}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.lineWithFocusChart=function(){return a.models.lineChart().margin({bottom:30}).focusEnable(!0)},a.models.linePlusBarChart=function(){"use strict";function c(w){return w.each(function(w){function L(a){var b=+("e"==a),c=b?1:-1,d=_/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function T(){v.empty()||v.extent(K),oa.data([v.empty()?f.domain():K]).each(function(a,c){var d=f(a[0])-f.range()[0],e=f.range()[1]-f(a[1]);b.select(this).select(".left").attr("width",d<0?0:d),b.select(this).select(".right").attr("x",f(a[1])).attr("width",e<0?0:e)})}function U(){K=v.empty()?null:v.extent(),d=v.empty()?f.domain():v.extent(),M.brush({extent:d,brush:v}),T(),m.width(Z).height($).color(w.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!w[b].disabled&&w[b].bar})),k.width(Z).height($).color(w.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!w[b].disabled&&!w[b].bar}));var b=ha.select(".nv-focus .nv-barsWrap").datum(ba.length?ba.map(function(a,b){return{key:a.key,values:a.values.filter(function(a,b){return m.x()(a,b)>=d[0]&&m.x()(a,b)<=d[1]})}}):[{values:[]}]),c=ha.select(".nv-focus .nv-linesWrap").datum(X(ca)?[{values:[]}]:ca.filter(function(a){return!a.disabled}).map(function(a,b){return{area:a.area,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,key:a.key,values:a.values.filter(function(a,b){return k.x()(a,b)>=d[0]&&k.x()(a,b)<=d[1]})}}));e=ba.length&&!S?m.xScale():k.xScale(),o.scale(e)._ticks(a.utils.calcTicksX(Z/100,w)).tickSize(-$,0),o.domain([Math.ceil(d[0]),Math.floor(d[1])]),ha.select(".nv-x.nv-axis").transition().duration(N).call(o),b.transition().duration(N).call(m),c.transition().duration(N).call(k),ha.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),q.scale(g)._ticks(a.utils.calcTicksY($/36,w)).tickSize(-Z,0),r.scale(h)._ticks(a.utils.calcTicksY($/36,w)),S?r.tickSize(ca.length?0:-Z,0):r.tickSize(ba.length?0:-Z,0);var i=ba.length?1:0,j=ca.length&&!X(ca)?1:0,l=S?j:i,n=S?i:j;ha.select(".nv-focus .nv-y1.nv-axis").style("opacity",l),ha.select(".nv-focus .nv-y2.nv-axis").style("opacity",n).attr("transform","translate("+e.range()[1]+",0)"),ha.select(".nv-focus .nv-y1.nv-axis").transition().duration(N).call(q),ha.select(".nv-focus .nv-y2.nv-axis").transition().duration(N).call(r)}var Y=b.select(this);a.utils.initSVG(Y);var Z=a.utils.availableWidth(A,Y,x),$=a.utils.availableHeight(B,Y,x)-(G?J:0),_=J-z.top-z.bottom;if(c.update=function(){Y.transition().duration(N).call(c)},c.container=this,O.setter(W(w),c.update).getter(V(w)).update(),O.disabled=w.map(function(a){return!!a.disabled}),!P){var aa;P={};for(aa in O)O[aa]instanceof Array?P[aa]=O[aa].slice(0):P[aa]=O[aa]}if(!(w&&w.length&&w.filter(function(a){return a.values.length}).length))return a.utils.noData(c,Y),c;Y.selectAll(".nv-noData").remove();var ba=w.filter(function(a){return!a.disabled&&a.bar}),ca=w.filter(function(a){return!a.bar});e=ba.length&&!S?m.xScale():k.xScale(),f=p.scale(),g=S?k.yScale():m.yScale(),h=S?m.yScale():k.yScale(),i=S?l.yScale():n.yScale(),j=S?n.yScale():l.yScale();var da=w.filter(function(a){return!a.disabled&&(S?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:C(a,b),y:D(a,b)}})}),ea=w.filter(function(a){return!a.disabled&&(S?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:C(a,b),y:D(a,b)}})});e.range([0,Z]),f.domain(b.extent(b.merge(da.concat(ea)),function(a){return a.x})).range([0,Z]);var fa=Y.selectAll("g.nv-wrap.nv-linePlusBar").data([w]),ga=fa.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ha=fa.select("g");ga.append("g").attr("class","nv-legendWrap");var ia=ga.append("g").attr("class","nv-focus");ia.append("g").attr("class","nv-x nv-axis"),ia.append("g").attr("class","nv-y1 nv-axis"),ia.append("g").attr("class","nv-y2 nv-axis"),ia.append("g").attr("class","nv-barsWrap"),ia.append("g").attr("class","nv-linesWrap");var ja=ga.append("g").attr("class","nv-context");if(ja.append("g").attr("class","nv-x nv-axis"),ja.append("g").attr("class","nv-y1 nv-axis"),ja.append("g").attr("class","nv-y2 nv-axis"),ja.append("g").attr("class","nv-barsWrap"),ja.append("g").attr("class","nv-linesWrap"),ja.append("g").attr("class","nv-brushBackground"),ja.append("g").attr("class","nv-x nv-brush"),F){var ka=u.align()?Z/2:Z,la=u.align()?ka:0;u.width(ka),ha.select(".nv-legendWrap").datum(w.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=S?a.originalKey+(a.bar?R:Q):a.originalKey+(a.bar?Q:R),a})).call(u),y||u.height()===x.top||(x.top=u.height(),$=a.utils.availableHeight(B,Y,x)-J),ha.select(".nv-legendWrap").attr("transform","translate("+la+","+-x.top+")")}else ha.select(".nv-legendWrap").selectAll("*").remove();fa.attr("transform","translate("+x.left+","+x.top+")"),ha.select(".nv-context").style("display",G?"initial":"none"),n.width(Z).height(_).color(w.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!w[b].disabled&&w[b].bar})),l.width(Z).height(_).color(w.map(function(a,b){return a.color||E(a,b)}).filter(function(a,b){return!w[b].disabled&&!w[b].bar}));var ma=ha.select(".nv-context .nv-barsWrap").datum(ba.length?ba:[{values:[]}]),na=ha.select(".nv-context .nv-linesWrap").datum(X(ca)?[{values:[]}]:ca.filter(function(a){return!a.disabled}));ha.select(".nv-context").attr("transform","translate(0,"+($+x.bottom+z.top)+")"),ma.transition().call(n),na.transition().call(l),I&&(p._ticks(a.utils.calcTicksX(Z/100,w)).tickSize(-_,0),ha.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),ha.select(".nv-context .nv-x.nv-axis").transition().call(p)),H&&(s.scale(i)._ticks(_/36).tickSize(-Z,0),t.scale(j)._ticks(_/36).tickSize(ba.length?0:-Z,0),ha.select(".nv-context .nv-y3.nv-axis").style("opacity",ba.length?1:0).attr("transform","translate(0,"+f.range()[0]+")"),ha.select(".nv-context .nv-y2.nv-axis").style("opacity",ca.length?1:0).attr("transform","translate("+f.range()[1]+",0)"),ha.select(".nv-context .nv-y1.nv-axis").transition().call(s),ha.select(".nv-context .nv-y2.nv-axis").transition().call(t)),v.x(f).on("brush",U),K&&v.extent(K);var oa=ha.select(".nv-brushBackground").selectAll("g").data([K||v.extent()]),pa=oa.enter().append("g");pa.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",_),pa.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",_);var qa=ha.select(".nv-x.nv-brush").call(v);qa.selectAll("rect").attr("height",_),qa.selectAll(".resize").append("path").attr("d",L),u.dispatch.on("stateChange",function(a){for(var b in a)O[b]=a[b];M.stateChange(O),c.update()}),M.on("changeState",function(a){void 0!==a.disabled&&(w.forEach(function(b,c){b.disabled=a.disabled[c]}),O.disabled=a.disabled),c.update()}),U()}),c}var d,e,f,g,h,i,j,k=a.models.line(),l=a.models.line(),m=a.models.historicalBar(),n=a.models.historicalBar(),o=a.models.axis(),p=a.models.axis(),q=a.models.axis(),r=a.models.axis(),s=a.models.axis(),t=a.models.axis(),u=a.models.legend(),v=b.svg.brush(),w=a.models.tooltip(),x={top:30,right:30,bottom:30,left:60},y=null,z={top:0,right:30,bottom:20,left:60},A=null,B=null,C=function(a){return a.x},D=function(a){return a.y},E=a.utils.defaultColor(),F=!0,G=!0,H=!1,I=!0,J=50,K=null,L=null,M=b.dispatch("brush","stateChange","changeState"),N=0,O=a.utils.state(),P=null,Q=" (left axis)",R=" (right axis)",S=!1;k.clipEdge(!0),l.interactive(!1),l.pointActive(function(a){return!1}),o.orient("bottom").tickPadding(5),q.orient("left"),r.orient("right"),p.orient("bottom").tickPadding(5),s.orient("left"),t.orient("right"),w.headerEnabled(!0).headerFormatter(function(a,b){return o.tickFormat()(a,b)});var T=function(){return S?{main:r,focus:t}:{main:q,focus:s}},U=function(){return S?{main:q,focus:s}:{main:r,focus:t}},V=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},W=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},X=function(a){return a.every(function(a){return a.disabled})};return k.dispatch.on("elementMouseover.tooltip",function(a){w.duration(100).valueFormatter(function(a,b){return U().main.tickFormat()(a,b)}).data(a).hidden(!1)}),k.dispatch.on("elementMouseout.tooltip",function(a){w.hidden(!0)}),m.dispatch.on("elementMouseover.tooltip",function(a){a.value=c.x()(a.data),a.series={value:c.y()(a.data),color:a.color},w.duration(0).valueFormatter(function(a,b){return T().main.tickFormat()(a,b)}).data(a).hidden(!1)}),m.dispatch.on("elementMouseout.tooltip",function(a){w.hidden(!0)}),m.dispatch.on("elementMousemove.tooltip",function(a){w()}),c.dispatch=M,c.legend=u,c.lines=k,c.lines2=l,c.bars=m,c.bars2=n,c.xAxis=o,c.x2Axis=p,c.y1Axis=q,c.y2Axis=r,c.y3Axis=s,c.y4Axis=t,c.tooltip=w,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return A},set:function(a){A=a}},height:{get:function(){return B},set:function(a){B=a}},showLegend:{get:function(){return F},set:function(a){F=a}},brushExtent:{get:function(){return K},set:function(a){K=a}},noData:{get:function(){return L},set:function(a){L=a}},focusEnable:{get:function(){return G},set:function(a){G=a}},focusHeight:{get:function(){return J},set:function(a){J=a}},focusShowAxisX:{get:function(){return I},set:function(a){I=a}},focusShowAxisY:{get:function(){return H},set:function(a){H=a}},legendLeftAxisHint:{get:function(){return Q},set:function(a){Q=a}},legendRightAxisHint:{get:function(){return R},set:function(a){R=a}},margin:{get:function(){return x},set:function(a){void 0!==a.top&&(x.top=a.top,y=a.top),x.right=void 0!==a.right?a.right:x.right,x.bottom=void 0!==a.bottom?a.bottom:x.bottom,x.left=void 0!==a.left?a.left:x.left}},focusMargin:{get:function(){return z},set:function(a){z.top=void 0!==a.top?a.top:z.top,z.right=void 0!==a.right?a.right:z.right,z.bottom=void 0!==a.bottom?a.bottom:z.bottom,z.left=void 0!==a.left?a.left:z.left}},duration:{get:function(){return N},set:function(a){N=a}},color:{get:function(){return E},set:function(b){E=a.utils.getColor(b),u.color(E)}},x:{get:function(){return C},set:function(a){C=a,k.x(a),l.x(a),m.x(a),n.x(a)}},y:{get:function(){return D},set:function(a){D=a,k.y(a),l.y(a),m.y(a),n.y(a)}},switchYAxisOrder:{get:function(){return S},set:function(a){if(S!==a){var b=q;q=r,r=b;var c=s;s=t,t=c}S=a,q.orient("left"),r.orient("right"),s.orient("left"),t.orient("right")}}}),a.utils.inheritOptions(c,k),a.utils.initOptions(c),c},a.models.multiBar=function(){"use strict";function c(G){return E.reset(),G.each(function(c){var G=l-k.left-k.right,H=m-k.top-k.bottom;q=b.select(this),a.utils.initSVG(q);var I=0;if(y&&c.length&&(y=[{values:c[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),v){var J=b.layout.stack().offset(w).values(function(a){return a.values}).y(s)(!c.length&&y?y:c);J.forEach(function(a,b){a.nonStackable?(c[b].nonStackableSeries=I++,J[b]=c[b]):b>0&&J[b-1].nonStackable&&J[b].values.map(function(a,c){a.y0-=J[b-1].values[c].y,a.y1=a.y0+a.y})}),c=J}c.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),v&&c.length>0&&c[0].values.map(function(a,b){var d=0,e=0;c.map(function(a,f){if(!c[f].nonStackable){var g=a.values[b];g.size=Math.abs(g.y),g.y<0?(g.y1=e,e-=g.size):(g.y1=g.size+d,d+=g.size)}})});var K=e&&f?[]:c.map(function(a,b){return a.values.map(function(a,c){return{x:r(a,c),y:s(a,c),y0:a.y0,y1:a.y1,idx:b}})});n.domain(e||b.merge(K).map(function(a){return a.x})).rangeBands(g||[0,G],B),o.domain(f||b.extent(b.merge(K).map(function(a){var b=a.y;return v&&!c[a.idx].nonStackable&&(b=a.y>0?a.y1:a.y1+a.y),b}).concat(t))).range(h||[H,0]),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]-.01*n.domain()[0],n.domain()[1]+.01*n.domain()[1]]):n.domain([-1,1])),o.domain()[0]===o.domain()[1]&&(o.domain()[0]?o.domain([o.domain()[0]+.01*o.domain()[0],o.domain()[1]-.01*o.domain()[1]]):o.domain([-1,1])),i=i||n,j=j||o;var L=q.selectAll("g.nv-wrap.nv-multibar").data([c]),M=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),N=M.append("defs"),O=M.append("g"),P=L.select("g");O.append("g").attr("class","nv-groups"),L.attr("transform","translate("+k.left+","+k.top+")"),N.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),L.select("#nv-edge-clip-"+p+" rect").attr("width",G).attr("height",H),P.attr("clip-path",u?"url(#nv-edge-clip-"+p+")":"");var Q=L.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});Q.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6)
;var R=E.transition(Q.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,A)).attr("y",function(a,b,d){var e=j(0)||0;return v&&c[a.series]&&!c[a.series].nonStackable&&(e=j(a.y0)),e}).attr("height",0).remove();R.delay&&R.delay(function(a,b){return b*(A/(F+1))-b}),Q.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return x(a,b)}).style("stroke",function(a,b){return x(a,b)}),Q.style("stroke-opacity",1).style("fill-opacity",C);var S=Q.selectAll("rect.nv-bar").data(function(a){return y&&!c.length?y.values:a.values});S.exit().remove();S.enter().append("rect").attr("class",function(a,b){return s(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(a,b,d){return v&&!c[d].nonStackable?0:d*n.rangeBand()/c.length}).attr("y",function(a,b,d){return j(v&&!c[d].nonStackable?a.y0:0)||0}).attr("height",0).attr("width",function(a,b,d){return n.rangeBand()/(v&&!c[d].nonStackable?1:c.length)}).attr("transform",function(a,b){return"translate("+n(r(a,b))+",0)"});S.style("fill",function(a,b,c){return x(a,c,b)}).style("stroke",function(a,b,c){return x(a,c,b)}).on("mouseover",function(a,d,e){b.select(this).classed("hover",!0),D.elementMouseover({data:a,index:d,series:c[e],color:b.select(this).style("fill")})}).on("mouseout",function(a,d,e){b.select(this).classed("hover",!1),D.elementMouseout({data:a,index:d,series:c[e],color:b.select(this).style("fill")})}).on("mousemove",function(a,d,e){D.elementMousemove({data:a,index:d,series:c[e],color:b.select(this).style("fill")})}).on("click",function(a,d,e){var f=this;D.elementClick({data:a,index:d,series:c[e],color:b.select(this).style("fill"),event:b.event,element:f}),b.event.stopPropagation()}).on("dblclick",function(a,d,e){D.elementDblClick({data:a,index:d,series:c[e],color:b.select(this).style("fill")}),b.event.stopPropagation()}),S.attr("class",function(a,b){return s(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+n(r(a,b))+",0)"}),z&&(d||(d=c.map(function(){return!0})),S.style("fill",function(a,c,e){return b.rgb(z(a,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}).style("stroke",function(a,c,e){return b.rgb(z(a,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}));var T=S.watchTransition(E,"multibar",Math.min(250,A)).delay(function(a,b){return b*A/c[0].values.length});v?T.attr("y",function(a,b,d){return c[d].nonStackable?s(a,b)<0?o(0):o(0)-o(s(a,b))<-1?o(0)-1:o(s(a,b))||0:o(a.y1)}).attr("height",function(a,b,d){return c[d].nonStackable?Math.max(Math.abs(o(s(a,b))-o(0)),0)||0:Math.max(Math.abs(o(a.y+a.y0)-o(a.y0)),0)}).attr("x",function(a,b,d){var e=0;return c[d].nonStackable&&(e=a.series*n.rangeBand()/c.length,c.length!==I&&(e=c[d].nonStackableSeries*n.rangeBand()/(2*I))),e}).attr("width",function(a,b,d){if(c[d].nonStackable){var e=n.rangeBand()/I;return c.length!==I&&(e=n.rangeBand()/(2*I)),e}return n.rangeBand()}):T.attr("x",function(a,b){return a.series*n.rangeBand()/c.length}).attr("width",n.rangeBand()/c.length).attr("y",function(a,b){return s(a,b)<0?o(0):o(0)-o(s(a,b))<1?o(0)-1:o(s(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(o(s(a,b))-o(0)),1)||0}),i=n.copy(),j=o.copy(),c[0]&&c[0].values&&(F=c[0].values.length)}),E.renderEnd("multibar immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=b.scale.ordinal(),o=b.scale.linear(),p=Math.floor(1e4*Math.random()),q=null,r=function(a){return a.x},s=function(a){return a.y},t=[0],u=!0,v=!1,w="zero",x=a.utils.defaultColor(),y=!1,z=null,A=500,B=.1,C=.75,D=b.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=a.utils.renderWatch(D,A),F=0;return c.dispatch=D,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return r},set:function(a){r=a}},y:{get:function(){return s},set:function(a){s=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},forceY:{get:function(){return t},set:function(a){t=a}},stacked:{get:function(){return v},set:function(a){v=a}},stackOffset:{get:function(){return w},set:function(a){w=a}},clipEdge:{get:function(){return u},set:function(a){u=a}},disabled:{get:function(){return d},set:function(a){d=a}},id:{get:function(){return p},set:function(a){p=a}},hideable:{get:function(){return y},set:function(a){y=a}},groupSpacing:{get:function(){return B},set:function(a){B=a}},fillOpacity:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return A},set:function(a){A=a,E.reset(A)}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}},barColor:{get:function(){return z},set:function(b){z=b?a.utils.getColor(b):null}}}),a.utils.initOptions(c),c},a.models.multiBarChart=function(){"use strict";function c(E){return J.reset(),J.models(f),v&&J.models(g),w&&J.models(h),E.each(function(E){var J=b.select(this);a.utils.initSVG(J);var N=a.utils.availableWidth(o,J,m),O=a.utils.availableHeight(p,J,m);if(c.update=function(){0===H?J.call(c):J.transition().duration(H).call(c)},c.container=this,C.setter(M(E),c.update).getter(L(E)).update(),C.disabled=E.map(function(a){return!!a.disabled}),!D){var P;D={};for(P in C)C[P]instanceof Array?D[P]=C[P].slice(0):D[P]=C[P]}if(!(E&&E.length&&E.filter(function(a){return a.values.length}).length))return a.utils.noData(c,J),c;J.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var Q=J.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([E]),R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),S=Q.select("g");if(R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-barsWrap"),R.append("g").attr("class","nv-legendWrap"),R.append("g").attr("class","nv-controlsWrap"),R.append("g").attr("class","nv-interactive"),t?"bottom"===u?(j.width(N-m.right),S.select(".nv-legendWrap").datum(E).call(j),m.bottom=g.height()+j.height(),O=a.utils.availableHeight(p,J,m),S.select(".nv-legendWrap").attr("transform","translate(0,"+(O+g.height())+")")):(j.width(N-G()),S.select(".nv-legendWrap").datum(E).call(j),n||j.height()===m.top||(m.top=j.height(),O=a.utils.availableHeight(p,J,m)),S.select(".nv-legendWrap").attr("transform","translate("+G()+","+-m.top+")")):S.select(".nv-legendWrap").selectAll("*").remove(),r){var T=[{key:s.grouped||"Grouped",disabled:f.stacked()},{key:s.stacked||"Stacked",disabled:!f.stacked()}];k.width(G()).color(["#444","#444","#444"]),S.select(".nv-controlsWrap").datum(T).attr("transform","translate(0,"+-m.top+")").call(k)}else S.select(".nv-controlsWrap").selectAll("*").remove();if(Q.attr("transform","translate("+m.left+","+m.top+")"),x&&S.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),f.disabled(E.map(function(a){return a.disabled})).width(N).height(O).color(E.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!E[b].disabled})),S.select(".nv-barsWrap").datum(E.filter(function(a){return!a.disabled})).call(f),v){g.scale(d)._ticks(a.utils.calcTicksX(N/100,E)).tickSize(-O,0),S.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),S.select(".nv-x.nv-axis").call(g);var U=S.select(".nv-x.nv-axis > g").selectAll("g");if(U.selectAll("line, text").style("opacity",1),z){var V=function(a,b){return"translate("+a+","+b+")"},W=5,X=17;U.selectAll("text").attr("transform",function(a,b,c){return V(0,c%2==0?W:X)});var Y=b.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;S.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return V(0,0===b||Y%2!=0?X:W)})}A&&S.selectAll(".tick text").call(a.utils.wrapTicks,c.xAxis.rangeBand()),y&&U.filter(function(a,b){return b%Math.ceil(E[0].values.length/(N/100))!=0}).selectAll("text, line").style("opacity",0),B&&U.selectAll(".tick text").attr("transform","rotate("+B+" 0,0)").style("text-anchor",B>0?"start":"end"),S.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}w&&(h.scale(e)._ticks(a.utils.calcTicksY(O/36,E)).tickSize(-N,0),S.select(".nv-y.nv-axis").call(h)),I&&(i.width(N).height(O).margin({left:m.left,top:m.top}).svgContainer(J).xScale(d),Q.select(".nv-interactive").call(i)),j.dispatch.on("stateChange",function(a){for(var b in a)C[b]=a[b];F.stateChange(C),c.update()}),k.dispatch.on("legendClick",function(a,b){if(a.disabled){switch(T=T.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case s.grouped:f.stacked(!1);break;case"Stacked":case s.stacked:f.stacked(!0)}C.stacked=f.stacked(),F.stateChange(C),c.update()}}),F.on("changeState",function(a){void 0!==a.disabled&&(E.forEach(function(b,c){b.disabled=a.disabled[c]}),C.disabled=a.disabled),void 0!==a.stacked&&(f.stacked(a.stacked),C.stacked=a.stacked,K=a.stacked),c.update()}),I?(i.dispatch.on("elementMousemove",function(a){if(void 0!=a.pointXValue){var b,e,f,g,h=[];E.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(i,j){e=d.domain().indexOf(a.pointXValue);var k=i.values[e];void 0!==k&&(g=k.x,void 0===b&&(b=k),void 0===f&&(f=a.mouseX),h.push({key:i.key,value:c.y()(k,e),color:q(i,i.seriesIndex),data:i.values[e]}))}),i.tooltip.data({value:g,index:e,series:h})(),i.renderGuideLine(f)}}),i.dispatch.on("elementMouseout",function(a){i.tooltip.hidden(!0)})):(f.dispatch.on("elementMouseover.tooltip",function(a){a.value=c.x()(a.data),a.series={key:a.data.key,value:c.y()(a.data),color:a.color},l.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(a){l()}))}),J.renderEnd("multibarchart immediate"),c}var d,e,f=a.models.multiBar(),g=a.models.axis(),h=a.models.axis(),i=a.interactiveGuideline(),j=a.models.legend(),k=a.models.legend(),l=a.models.tooltip(),m={top:30,right:20,bottom:50,left:60},n=null,o=null,p=null,q=a.utils.defaultColor(),r=!0,s={},t=!0,u=null,v=!0,w=!0,x=!1,y=!0,z=!1,A=!1,B=0,C=a.utils.state(),D=null,E=null,F=b.dispatch("stateChange","changeState","renderEnd"),G=function(){return r?180:0},H=250,I=!1;C.stacked=!1,f.stacked(!1),g.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a}),h.orient(x?"right":"left").tickFormat(b.format(",.1f")),l.duration(0).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),i.tooltip.valueFormatter(function(a,b){return null==a?"N/A":h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),i.tooltip.valueFormatter(function(a,b){return null==a?"N/A":h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),i.tooltip.duration(0).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),k.updateState(!1);var J=a.utils.renderWatch(F),K=!1,L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:K}}},M=function(a){return function(b){void 0!==b.stacked&&(K=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch=F,c.multibar=f,c.legend=j,c.controls=k,c.xAxis=g,c.yAxis=h,c.state=C,c.tooltip=l,c.interactiveLayer=i,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return t},set:function(a){t=a}},legendPosition:{get:function(){return u},set:function(a){u=a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return s},set:function(a){s=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},defaultState:{get:function(){return D},set:function(a){D=a}},noData:{get:function(){return E},set:function(a){E=a}},reduceXTicks:{get:function(){return y},set:function(a){y=a}},rotateLabels:{get:function(){return B},set:function(a){B=a}},staggerLabels:{get:function(){return z},set:function(a){z=a}},wrapLabels:{get:function(){return A},set:function(a){A=!!a}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},duration:{get:function(){return H},set:function(a){H=a,f.duration(H),g.duration(H),h.duration(H),J.reset(H)}},color:{get:function(){return q},set:function(b){q=a.utils.getColor(b),j.color(q)}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a,h.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return I},set:function(a){I=a}},barColor:{get:function(){return f.barColor},set:function(a){f.barColor(a),j.color(function(a,c){return b.rgb("#ccc").darker(1.5*c).toString()})}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.multiBarHorizontal=function(){"use strict";function c(n){return G.reset(),n.each(function(c){var n=l-k.left-k.right,E=m-k.top-k.bottom;o=b.select(this),a.utils.initSVG(o),x&&(c=b.layout.stack().offset("zero").values(function(a){return a.values}).y(s)(c)),c.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),x&&c[0].values.map(function(a,b){var d=0,e=0;c.map(function(a){var c=a.values[b];c.size=Math.abs(c.y),c.y<0?(c.y1=e-c.size,e-=c.size):(c.y1=d,d+=c.size)})});var H=e&&f?[]:c.map(function(a){return a.values.map(function(a,b){return{x:r(a,b),y:s(a,b),y0:a.y0,y1:a.y1}})});p.domain(e||b.merge(H).map(function(a){return a.x})).rangeBands(g||[0,E],B),q.domain(f||b.extent(b.merge(H).map(function(a){return x?a.y>0?a.y1+a.y:a.y1:a.y}).concat(u))),y&&!x?q.range(h||[q.domain()[0]<0?A:0,n-(q.domain()[1]>0?A:0)]):q.range(h||[0,n]),i=i||p,j=j||b.scale.linear().domain(q.domain()).range([q(0),q(0)]);var I=b.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([c]),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),K=(J.append("defs"),J.append("g"));I.select("g");K.append("g").attr("class","nv-groups"),I.attr("transform","translate("+k.left+","+k.top+")");var L=I.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().watchTransition(G,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return v(a,b)}).style("stroke",function(a,b){return v(a,b)}),L.watchTransition(G,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",C);var M=L.selectAll("g.nv-bar").data(function(a){return a.values});M.exit().remove();var N=M.enter().append("g").attr("transform",function(a,b,d){return"translate("+j(x?a.y0:0)+","+(x?0:d*p.rangeBand()/c.length+p(r(a,b)))+")"});N.append("rect").attr("width",0).attr("height",p.rangeBand()/(x?1:c.length)),M.on("mouseover",function(a,c){b.select(this).classed("hover",!0),F.elementMouseover({data:a,index:c,color:b.select(this).style("fill")})}).on("mouseout",function(a,c){b.select(this).classed("hover",!1),F.elementMouseout({data:a,index:c,color:b.select(this).style("fill")})}).on("mouseout",function(a,c){F.elementMouseout({data:a,index:c,color:b.select(this).style("fill")})}).on("mousemove",function(a,c){F.elementMousemove({data:a,index:c,color:b.select(this).style("fill")})}).on("click",function(a,c){var d=this;F.elementClick({data:a,index:c,color:b.select(this).style("fill"),event:b.event,element:d}),b.event.stopPropagation()}).on("dblclick",function(a,c){F.elementDblClick({data:a,index:c,color:b.select(this).style("fill")}),b.event.stopPropagation()}),t(c[0],0)&&(N.append("polyline"),M.select("polyline").attr("fill","none").attr("points",function(a,b){var d=t(a,b),e=.8*p.rangeBand()/(2*(x?1:c.length));return d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(c){return q(c+(s(a,b)<0?0:s(a,b)))-q(0)}),[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(a,b){return"translate(0, "+p.rangeBand()/(2*(x?1:c.length))+")"})),N.append("text"),y&&!x?(M.select("text").attr("text-anchor",function(a,b){return s(a,b)<0?"end":"start"}).attr("y",p.rangeBand()/(2*c.length)).attr("dy",".32em").text(function(a,b){var c=D(s(a,b)),d=t(a,b);return void 0===d?c:d.length?c+"+"+D(Math.abs(d[1]))+"-"+D(Math.abs(d[0])):c+""+D(Math.abs(d))}),M.watchTransition(G,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return s(a,b)<0?-4:q(s(a,b))-q(0)+4})):M.selectAll("text").text(""),z&&!x?(N.append("text").classed("nv-bar-label",!0),M.select("text.nv-bar-label").attr("text-anchor",function(a,b){return s(a,b)<0?"start":"end"}).attr("y",p.rangeBand()/(2*c.length)).attr("dy",".32em").text(function(a,b){return r(a,b)}),M.watchTransition(G,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return s(a,b)<0?q(0)-q(s(a,b))+4:-4})):M.selectAll("text.nv-bar-label").text(""),M.attr("class",function(a,b){return s(a,b)<0?"nv-bar negative":"nv-bar positive"}),w&&(d||(d=c.map(function(){return!0})),M.style("fill",function(a,c,e){return b.rgb(w(a,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()}).style("stroke",function(a,c,e){return b.rgb(w(a,c)).darker(d.map(function(a,b){return b}).filter(function(a,b){return!d[b]})[e]).toString()})),x?M.watchTransition(G,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+q(a.y1)+","+p(r(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(q(s(a,b)+a.y0)-q(a.y0))||0}).attr("height",p.rangeBand()):M.watchTransition(G,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+q(s(a,b)<0?s(a,b):0)+","+(a.series*p.rangeBand()/c.length+p(r(a,b)))+")"}).select("rect").attr("height",p.rangeBand()/c.length).attr("width",function(a,b){return Math.max(Math.abs(q(s(a,b))-q(0)),1)||0}),i=p.copy(),j=q.copy()}),G.renderEnd("multibarHorizontal immediate"),c}var d,e,f,g,h,i,j,k={top:0,right:0,bottom:0,left:0},l=960,m=500,n=Math.floor(1e4*Math.random()),o=null,p=b.scale.ordinal(),q=b.scale.linear(),r=function(a){return a.x},s=function(a){return a.y},t=function(a){return a.yErr},u=[0],v=a.utils.defaultColor(),w=null,x=!1,y=!1,z=!1,A=60,B=.1,C=.75,D=b.format(",.2f"),E=250,F=b.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),G=a.utils.renderWatch(F,E);return c.dispatch=F,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},x:{get:function(){return r},set:function(a){r=a}},y:{get:function(){return s},set:function(a){s=a}},yErr:{get:function(){return t},set:function(a){t=a}},xScale:{get:function(){return p},set:function(a){p=a}},yScale:{get:function(){return q},set:function(a){q=a}},xDomain:{get:function(){return e},set:function(a){e=a}},yDomain:{get:function(){return f},set:function(a){f=a}},xRange:{get:function(){return g},set:function(a){g=a}},yRange:{get:function(){return h},set:function(a){h=a}},forceY:{get:function(){return u},set:function(a){u=a}},stacked:{get:function(){return x},set:function(a){x=a}},showValues:{get:function(){return y},set:function(a){y=a}},disabled:{get:function(){return d},set:function(a){d=a}},id:{get:function(){return n},set:function(a){n=a}},valueFormat:{get:function(){return D},set:function(a){D=a}},valuePadding:{get:function(){return A},set:function(a){A=a}},groupSpacing:{get:function(){return B},set:function(a){B=a}},fillOpacity:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return E},set:function(a){E=a,G.reset(E)}},color:{get:function(){return v},set:function(b){v=a.utils.getColor(b)}},barColor:{get:function(){return w},set:function(b){w=b?a.utils.getColor(b):null}}}),a.utils.initOptions(c),c},a.models.multiBarHorizontalChart=function(){"use strict";function c(k){return G.reset(),G.models(f),v&&G.models(g),w&&G.models(h),k.each(function(k){var A=b.select(this);a.utils.initSVG(A);var G=a.utils.availableWidth(n,A,l),H=a.utils.availableHeight(o,A,l);if(c.update=function(){A.transition().duration(D).call(c)},c.container=this,x=f.stacked(),y.setter(F(k),c.update).getter(E(k)).update(),y.disabled=k.map(function(a){return!!a.disabled}),!z){var I;z={};for(I in y)y[I]instanceof Array?z[I]=y[I].slice(0):z[I]=y[I]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return a.utils.noData(c,A),c;A.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale().clamp(!0);var J=A.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([k]),K=J.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),L=J.select("g");if(K.append("g").attr("class","nv-x nv-axis"),K.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),K.append("g").attr("class","nv-barsWrap"),K.append("g").attr("class","nv-legendWrap"),K.append("g").attr("class","nv-controlsWrap"),t?(i.width(G-C()),L.select(".nv-legendWrap").datum(k).call(i),"bottom"===u?(l.bottom=g.height()+i.height(),H=a.utils.availableHeight(o,A,l),L.select(".nv-legendWrap").attr("transform","translate("+C()+","+(H+g.height())+")")):"top"===u&&(m||i.height()===l.top||(l.top=i.height(),H=a.utils.availableHeight(o,A,l)),L.select(".nv-legendWrap").attr("transform","translate("+C()+","+-l.top+")"))):L.select(".nv-legendWrap").selectAll("*").remove(),q){var M=[{key:s.grouped||"Grouped",disabled:f.stacked()},{key:s.stacked||"Stacked",disabled:!f.stacked()}];j.width(C()).color(["#444","#444","#444"]),"bottom"===r?(l.bottom=g.height()+i.height(),H=a.utils.availableHeight(o,A,l),L.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+(H+g.height())+")").call(j)):"top"===r&&L.select(".nv-controlsWrap").datum(M).attr("transform","translate(0,"+-l.top+")").call(j)}else L.select(".nv-controlsWrap").selectAll("*").remove();(J.attr("transform","translate("+l.left+","+l.top+")"),f.disabled(k.map(function(a){return a.disabled})).width(G).height(H).color(k.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!k[b].disabled})),L.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled})).transition().call(f),v)&&(g.scale(d)._ticks(a.utils.calcTicksY(H/24,k)).tickSize(-G,0),L.select(".nv-x.nv-axis").call(g),L.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));w&&(h.scale(e)._ticks(a.utils.calcTicksX(G/100,k)).tickSize(-H,0),L.select(".nv-y.nv-axis").attr("transform","translate(0,"+H+")"),L.select(".nv-y.nv-axis").call(h)),L.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-H),i.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];B.stateChange(y),c.update()}),j.dispatch.on("legendClick",function(a,b){if(a.disabled){switch(M=M.map(function(a){return a.disabled=!0,a}),a.disabled=!1,a.key){case"Grouped":case s.grouped:f.stacked(!1);break;case"Stacked":case s.stacked:f.stacked(!0)}y.stacked=f.stacked(),B.stateChange(y),x=f.stacked(),c.update()}}),B.on("changeState",function(a){void 0!==a.disabled&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),y.disabled=a.disabled),void 0!==a.stacked&&(f.stacked(a.stacked),y.stacked=a.stacked,x=a.stacked),c.update()})}),G.renderEnd("multibar horizontal chart immediate"),c}var d,e,f=a.models.multiBarHorizontal(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend().height(30),j=a.models.legend().height(30),k=a.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=null,n=null,o=null,p=a.utils.defaultColor(),q=!0,r="top",s={},t=!0,u="top",v=!0,w=!0,x=!1,y=a.utils.state(),z=null,A=null,B=b.dispatch("stateChange","changeState","renderEnd"),C=function(){return q?180:0},D=250;y.stacked=!1,f.stacked(x),g.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),h.orient("bottom").tickFormat(b.format(",.1f")),k.duration(0).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)}),j.updateState(!1);var E=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:x}}},F=function(a){return function(b){void 0!==b.stacked&&(x=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},G=a.utils.renderWatch(B,D);return f.dispatch.on("elementMouseover.tooltip",function(a){a.value=c.x()(a.data),a.series={key:a.data.key,value:c.y()(a.data),color:a.color},k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(a){k()}),c.dispatch=B,c.multibar=f,c.legend=i,c.controls=j,c.xAxis=g,c.yAxis=h,c.state=y,c.tooltip=k,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return t},set:function(a){t=a}},legendPosition:{get:function(){return u},set:function(a){u=a}},controlsPosition:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return s},set:function(a){s=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return A},set:function(a){A=a}},margin:{get:function(){return l},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return D},set:function(a){D=a,G.reset(D),f.duration(D),g.duration(D),h.duration(D)}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b),i.color(p)}},barColor:{get:function(){return f.barColor},set:function(a){f.barColor(a),i.color(function(a,c){return b.rgb("#ccc").darker(1.5*c).toString()})}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.multiChart=function(){"use strict";function c(l){return l.each(function(l){function p(a){var b=2===a.series.yAxis?H:G;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},J.duration(0).headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function t(a){var b=2===a.series.yAxis?H:G;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},J.duration(100).headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function K(a){var b=2===a.series.yAxis?H:G;a.point.x=D.x()(a.point),a.point.y=D.y()(a.point),J.duration(0).headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function M(a){var b=2===a.series.yAxis?H:G;a.value=B.x()(a.data),a.series={value:B.y()(a.data),color:a.color,key:a.data.key},J.duration(0).headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function N(){for(var a=0,b=L.length;a<b;a++){var c=L[a];try{c.clearHighlights()}catch(d){}}}function O(a,b,c){for(var d=0,e=L.length;d<e;d++){var f=L[d];try{f.highlightPoint(a,b,c)}catch(g){}}}var P=b.select(this);a.utils.initSVG(P),c.update=function(){P.transition().call(c)},c.container=this;var Q=a.utils.availableWidth(i,P,f),R=a.utils.availableHeight(j,P,f),S=l.filter(function(a){return"line"==a.type&&1==a.yAxis}),T=l.filter(function(a){return"line"==a.type&&2==a.yAxis}),U=l.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),V=l.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),W=l.filter(function(a){return"bar"==a.type&&1==a.yAxis}),X=l.filter(function(a){return"bar"==a.type&&2==a.yAxis}),Y=l.filter(function(a){return"area"==a.type&&1==a.yAxis}),Z=l.filter(function(a){return"area"==a.type&&2==a.yAxis});if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return a.utils.noData(c,P),c;P.selectAll(".nv-noData").remove();var $=l.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:m(a),y:n(a)}})}),_=l.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:m(a),y:n(a)}})});u.domain(b.extent(b.merge($.concat(_)),function(a){return a.x})).range([0,Q]);var aa=P.selectAll("g.wrap.multiChart").data([l]),ba=aa.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ba.append("g").attr("class","nv-x nv-axis"),ba.append("g").attr("class","nv-y1 nv-axis"),ba.append("g").attr("class","nv-y2 nv-axis"),ba.append("g").attr("class","stack1Wrap"),ba.append("g").attr("class","stack2Wrap"),ba.append("g").attr("class","bars1Wrap"),ba.append("g").attr("class","bars2Wrap"),ba.append("g").attr("class","scatters1Wrap"),ba.append("g").attr("class","scatters2Wrap"),ba.append("g").attr("class","lines1Wrap"),ba.append("g").attr("class","lines2Wrap"),ba.append("g").attr("class","legendWrap"),ba.append("g").attr("class","nv-interactive");var ca=aa.select("g"),da=l.map(function(a,b){return l[b].color||h(a,b)});if(k){var ea=I.align()?Q/2:Q,fa=I.align()?ea:0;I.width(ea),I.color(da),ca.select(".legendWrap").datum(l.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(1==a.yAxis?"":s),a})).call(I),g||I.height()===f.top||(f.top=I.height(),R=a.utils.availableHeight(j,P,f)),ca.select(".legendWrap").attr("transform","translate("+fa+","+-f.top+")")}else ca.select(".legendWrap").selectAll("*").remove();x.width(Q).height(R).interpolate(o).color(da.filter(function(a,b){return!l[b].disabled&&1==l[b].yAxis&&"line"==l[b].type})),y.width(Q).height(R).interpolate(o).color(da.filter(function(a,b){return!l[b].disabled&&2==l[b].yAxis&&"line"==l[b].type})),z.width(Q).height(R).color(da.filter(function(a,b){return!l[b].disabled&&1==l[b].yAxis&&"scatter"==l[b].type})),A.width(Q).height(R).color(da.filter(function(a,b){return!l[b].disabled&&2==l[b].yAxis&&"scatter"==l[b].type})),B.width(Q).height(R).color(da.filter(function(a,b){return!l[b].disabled&&1==l[b].yAxis&&"bar"==l[b].type})),C.width(Q).height(R).color(da.filter(function(a,b){return!l[b].disabled&&2==l[b].yAxis&&"bar"==l[b].type})),D.width(Q).height(R).interpolate(o).color(da.filter(function(a,b){return!l[b].disabled&&1==l[b].yAxis&&"area"==l[b].type})),E.width(Q).height(R).interpolate(o).color(da.filter(function(a,b){return!l[b].disabled&&2==l[b].yAxis&&"area"==l[b].type})),ca.attr("transform","translate("+f.left+","+f.top+")");var ga=ca.select(".lines1Wrap").datum(S.filter(function(a){return!a.disabled})),ha=ca.select(".scatters1Wrap").datum(U.filter(function(a){return!a.disabled})),ia=ca.select(".bars1Wrap").datum(W.filter(function(a){return!a.disabled})),ja=ca.select(".stack1Wrap").datum(Y.filter(function(a){
return!a.disabled})),ka=ca.select(".lines2Wrap").datum(T.filter(function(a){return!a.disabled})),la=ca.select(".scatters2Wrap").datum(V.filter(function(a){return!a.disabled})),ma=ca.select(".bars2Wrap").datum(X.filter(function(a){return!a.disabled})),na=ca.select(".stack2Wrap").datum(Z.filter(function(a){return!a.disabled})),oa=[];if(B.stacked()&&W.length){var oa=W.filter(function(a){return!a.disabled}).map(function(a){return a.values});oa.length>0&&(oa=oa.reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}))}W.length&&oa.push({x:0,y:0});var pa=[];if(C.stacked()&&X.length){var pa=X.filter(function(a){return!a.disabled}).map(function(a){return a.values});pa.length>0&&(pa=pa.reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}))}X.length&&pa.push({x:0,y:0}),v.domain(d||b.extent(b.merge($).concat(oa),function(a){return a.y})).range([0,R]),w.domain(e||b.extent(b.merge(_).concat(pa),function(a){return a.y})).range([0,R]),x.yDomain(v.domain()),z.yDomain(v.domain()),B.yDomain(v.domain()),D.yDomain(v.domain()),y.yDomain(w.domain()),A.yDomain(w.domain()),C.yDomain(w.domain()),E.yDomain(w.domain()),Y.length&&b.transition(ja).call(D),Z.length&&b.transition(na).call(E),W.length&&b.transition(ia).call(B),X.length&&b.transition(ma).call(C),S.length&&b.transition(ga).call(x),T.length&&b.transition(ka).call(y),U.length&&b.transition(ha).call(z),V.length&&b.transition(la).call(A),F._ticks(a.utils.calcTicksX(Q/100,l)).tickSize(-R,0),ca.select(".nv-x.nv-axis").attr("transform","translate(0,"+R+")"),b.transition(ca.select(".nv-x.nv-axis")).call(F),G._ticks(a.utils.calcTicksY(R/36,l)).tickSize(-Q,0),b.transition(ca.select(".nv-y1.nv-axis")).call(G),H._ticks(a.utils.calcTicksY(R/36,l)).tickSize(-Q,0),b.transition(ca.select(".nv-y2.nv-axis")).call(H),ca.select(".nv-y1.nv-axis").classed("nv-disabled",!$.length).attr("transform","translate("+u.range()[0]+",0)"),ca.select(".nv-y2.nv-axis").classed("nv-disabled",!_.length).attr("transform","translate("+u.range()[1]+",0)"),I.dispatch.on("stateChange",function(a){c.update()}),r&&(q.width(Q).height(R).margin({left:f.left,top:f.top}).svgContainer(P).xScale(u),aa.select(".nv-interactive").call(q)),r?(q.dispatch.on("elementMousemove",function(b){N();var d,e,f,g=[];l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(i,j){var k=u.domain(),l=i.values.filter(function(a,b){return c.x()(a,b)>=k[0]&&c.x()(a,b)<=k[1]});e=a.interactiveBisect(l,b.pointXValue,c.x());var m=l[e],n=c.y()(m,e);null!==n&&O(j,e,!0),void 0!==m&&(void 0===d&&(d=m),void 0===f&&(f=u(c.x()(m,e))),g.push({key:i.key,value:n,color:h(i,i.seriesIndex),data:m,yAxis:2==i.yAxis?H:G}))});var i=function(a,b){var c=g[b].yAxis;return null==a?"N/A":c.tickFormat()(a)};q.tooltip.headerFormatter(function(a,b){return F.tickFormat()(a,b)}).valueFormatter(q.tooltip.valueFormatter()||i).data({value:c.x()(d,e),index:e,series:g})(),q.renderGuideLine(f)}),q.dispatch.on("elementMouseout",function(a){N()})):(x.dispatch.on("elementMouseover.tooltip",p),y.dispatch.on("elementMouseover.tooltip",p),x.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),y.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),z.dispatch.on("elementMouseover.tooltip",t),A.dispatch.on("elementMouseover.tooltip",t),z.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),D.dispatch.on("elementMouseover.tooltip",K),E.dispatch.on("elementMouseover.tooltip",K),D.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),E.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),B.dispatch.on("elementMouseover.tooltip",M),C.dispatch.on("elementMouseover.tooltip",M),B.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(a){J.hidden(!0)}),B.dispatch.on("elementMousemove.tooltip",function(a){J()}),C.dispatch.on("elementMousemove.tooltip",function(a){J()}))}),c}var d,e,f={top:30,right:20,bottom:50,left:60},g=null,h=a.utils.defaultColor(),i=null,j=null,k=!0,l=null,m=function(a){return a.x},n=function(a){return a.y},o="linear",p=!0,q=a.interactiveGuideline(),r=!1,s=" (right axis)",t=250,u=b.scale.linear(),v=b.scale.linear(),w=b.scale.linear(),x=a.models.line().yScale(v).duration(t),y=a.models.line().yScale(w).duration(t),z=a.models.scatter().yScale(v).duration(t),A=a.models.scatter().yScale(w).duration(t),B=a.models.multiBar().stacked(!1).yScale(v).duration(t),C=a.models.multiBar().stacked(!1).yScale(w).duration(t),D=a.models.stackedArea().yScale(v).duration(t),E=a.models.stackedArea().yScale(w).duration(t),F=a.models.axis().scale(u).orient("bottom").tickPadding(5).duration(t),G=a.models.axis().scale(v).orient("left").duration(t),H=a.models.axis().scale(w).orient("right").duration(t),I=a.models.legend().height(30),J=a.models.tooltip(),K=b.dispatch(),L=[x,y,z,A,B,C,D,E];return c.dispatch=K,c.legend=I,c.lines1=x,c.lines2=y,c.scatters1=z,c.scatters2=A,c.bars1=B,c.bars2=C,c.stack1=D,c.stack2=E,c.xAxis=F,c.yAxis1=G,c.yAxis2=H,c.tooltip=J,c.interactiveLayer=q,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},showLegend:{get:function(){return k},set:function(a){k=a}},yDomain1:{get:function(){return d},set:function(a){d=a}},yDomain2:{get:function(){return e},set:function(a){e=a}},noData:{get:function(){return l},set:function(a){l=a}},interpolate:{get:function(){return o},set:function(a){o=a}},legendRightAxisHint:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(f.top=a.top,g=a.top),f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return h},set:function(b){h=a.utils.getColor(b)}},x:{get:function(){return m},set:function(a){m=a,x.x(a),y.x(a),z.x(a),A.x(a),B.x(a),C.x(a),D.x(a),E.x(a)}},y:{get:function(){return n},set:function(a){n=a,x.y(a),y.y(a),z.y(a),A.y(a),D.y(a),E.y(a),B.y(a),C.y(a)}},useVoronoi:{get:function(){return p},set:function(a){p=a,x.useVoronoi(a),y.useVoronoi(a),D.useVoronoi(a),E.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return r},set:function(a){(r=a)&&(x.interactive(!1),x.useVoronoi(!1),y.interactive(!1),y.useVoronoi(!1),D.interactive(!1),D.useVoronoi(!1),E.interactive(!1),E.useVoronoi(!1),z.interactive(!1),A.interactive(!1))}},duration:{get:function(){return t},set:function(a){t=a,[x,y,D,E,z,A,F,G,H].forEach(function(a){a.duration(t)})}}}),a.utils.initOptions(c),c},a.models.ohlcBar=function(){"use strict";function c(z){return z.each(function(c){l=b.select(this);var z=a.utils.availableWidth(i,l,h),B=a.utils.availableHeight(j,l,h);a.utils.initSVG(l);var C=z/c[0].values.length*.9;m.domain(d||b.extent(c[0].values.map(o).concat(u))),w?m.range(f||[.5*z/c[0].values.length,z*(c[0].values.length-.5)/c[0].values.length]):m.range(f||[5+C/2,z-C/2-5]),n.domain(e||[b.min(c[0].values.map(t).concat(v)),b.max(c[0].values.map(s).concat(v))]).range(g||[B,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]):n.domain([-1,1]));var D=b.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([c[0].values]),E=D.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),F=E.append("defs"),G=E.append("g"),H=D.select("g");G.append("g").attr("class","nv-ticks"),D.attr("transform","translate("+h.left+","+h.top+")"),l.on("click",function(a,c){A.chartClick({data:a,index:c,pos:b.event,id:k})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),D.select("#nv-chart-clip-path-"+k+" rect").attr("width",z).attr("height",B),H.attr("clip-path",x?"url(#nv-chart-clip-path-"+k+")":"");var I=D.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});I.exit().remove(),I.enter().append("path").attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(n(q(a,b))-n(s(a,b)))+"l"+-C/2+",0l"+C/2+",0l0,"+(n(t(a,b))-n(q(a,b)))+"l0,"+(n(r(a,b))-n(t(a,b)))+"l"+C/2+",0l"+-C/2+",0z"}).attr("transform",function(a,b){return"translate("+m(o(a,b))+","+n(s(a,b))+")"}).attr("fill",function(a,b){return y[0]}).attr("stroke",function(a,b){return y[0]}).attr("x",0).attr("y",function(a,b){return n(Math.max(0,p(a,b)))}).attr("height",function(a,b){return Math.abs(n(p(a,b))-n(0))}),I.attr("class",function(a,b,c){return(q(a,b)>r(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}),b.transition(I).attr("transform",function(a,b){return"translate("+m(o(a,b))+","+n(s(a,b))+")"}).attr("d",function(a,b){var d=z/c[0].values.length*.9;return"m0,0l0,"+(n(q(a,b))-n(s(a,b)))+"l"+-d/2+",0l"+d/2+",0l0,"+(n(t(a,b))-n(q(a,b)))+"l0,"+(n(r(a,b))-n(t(a,b)))+"l"+d/2+",0l"+-d/2+",0z"})}),c}var d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=null,m=b.scale.linear(),n=b.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=function(a){return a.open},r=function(a){return a.close},s=function(a){return a.high},t=function(a){return a.low},u=[],v=[],w=!1,x=!0,y=a.utils.defaultColor(),z=!1,A=b.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return c.highlightPoint=function(a,b){c.clearHighlights(),l.select(".nv-ohlcBar .nv-tick-0-"+a).classed("hover",b)},c.clearHighlights=function(){l.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},c.dispatch=A,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return u},set:function(a){u=a}},forceY:{get:function(){return v},set:function(a){v=a}},padData:{get:function(){return w},set:function(a){w=a}},clipEdge:{get:function(){return x},set:function(a){x=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return z},set:function(a){z=a}},x:{get:function(){return o},set:function(a){o=a}},y:{get:function(){return p},set:function(a){p=a}},open:{get:function(){return q()},set:function(a){q=a}},close:{get:function(){return r()},set:function(a){r=a}},high:{get:function(){return s},set:function(a){s=a}},low:{get:function(){return t},set:function(a){t=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!=a.top?a.top:h.top,h.right=void 0!=a.right?a.right:h.right,h.bottom=void 0!=a.bottom?a.bottom:h.bottom,h.left=void 0!=a.left?a.left:h.left}},color:{get:function(){return y},set:function(b){y=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.parallelCoordinates=function(){"use strict";function c(C){return B.reset(),C.each(function(c){function B(a){return y(p.map(function(c){if(isNaN(a.values[c.key])||isNaN(parseFloat(a.values[c.key]))||P){var d=m[c.key].domain(),e=m[c.key].range(),f=d[0]-(d[1]-d[0])/9;if(w.indexOf(c.key)<0){var g=b.scale.linear().domain([f,d[1]]).range([k-12,e[1]]);m[c.key].brush.y(g),w.push(c.key)}if(isNaN(a.values[c.key])||isNaN(parseFloat(a.values[c.key])))return[l(c.key),m[c.key](f)]}return void 0!==V&&(w.length>0||P?(V.style("display","inline"),W.style("display","inline")):(V.style("display","none"),W.style("display","none"))),[l(c.key),m[c.key](a.values[c.key])]}))}function C(a){t.forEach(function(b){var c=m[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(m[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(O[b.dimension]-b.extent[0])+c[0]),b.hasNaN&&(b.extent[0]=c[0]),a&&m[b.dimension].brush.extent(b.extent)}),f.select(".nv-brushBackground").each(function(a){b.select(this).call(m[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),G()}function D(){!1===r&&(r=!0,C(!0))}function E(){_=q.filter(function(a){return!m[a].brush.empty()}),aa=_.map(function(a){return m[a].brush.extent()}),t=[],_.forEach(function(a,b){t[b]={dimension:a,extent:aa[b],hasNaN:!1,hasOnlyNaN:!1}}),u=[],d.style("display",function(a){var b=_.every(function(b,c){return!(!isNaN(a.values[b])&&!isNaN(parseFloat(a.values[b]))||aa[c][0]!=m[b].brush.y().domain()[0])||aa[c][0]<=a.values[b]&&a.values[b]<=aa[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&u.push(a),b?null:"none"}),G(),A.brush({filters:t,active:u})}function F(){var a=_.length>0;t.forEach(function(a){a.extent[0]===m[a.dimension].brush.y().domain()[0]&&w.indexOf(a.dimension)>=0&&(a.hasNaN=!0),a.extent[1]<m[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)}),A.brushEnd(u,a)}function G(){f.select(".nv-axis").each(function(a,c){var d=t.filter(function(b){return b.dimension==a.key});Q[a.key]=m[a.key].domain(),0!=d.length&&r&&(Q[a.key]=[],d[0].extent[1]>m[a.key].domain()[0]&&(Q[a.key]=[d[0].extent[1]]),d[0].extent[0]>=m[a.key].domain()[0]&&Q[a.key].push(d[0].extent[0])),b.select(this).call(z.scale(m[a.key]).tickFormat(a.format).tickValues(Q[a.key]))})}function H(a){v[a.key]=this.parentNode.__origin__=l(a.key),e.attr("visibility","hidden")}function I(a){v[a.key]=Math.min(j,Math.max(0,this.parentNode.__origin__+=b.event.x)),d.attr("d",B),p.sort(function(a,b){return K(a.key)-K(b.key)}),p.forEach(function(a,b){return a.currentPosition=b}),l.domain(p.map(function(a){return a.key})),f.attr("transform",function(a){return"translate("+K(a.key)+")"})}function J(a,c){delete this.parentNode.__origin__,delete v[a.key],b.select(this.parentNode).attr("transform","translate("+l(a.key)+")"),d.attr("d",B),e.attr("d",B).attr("visibility",null),A.dimensionsOrder(p)}function K(a){var b=v[a];return null==b?l(a):b}var L=b.select(this);if(j=a.utils.availableWidth(h,L,g),k=a.utils.availableHeight(i,L,g),a.utils.initSVG(L),void 0===c[0].values){var M=[];c.forEach(function(a){var b={};Object.keys(a).forEach(function(c){"name"!==c&&(b[c]=a[c])}),M.push({key:a.name,values:b})}),c=M}var N=c.map(function(a){return a.values});0===u.length&&(u=c),q=o.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key}),p=o.filter(function(a){return!a.disabled}),l.rangePoints([0,j],1).domain(p.map(function(a){return a.key}));var O={},P=!1,Q=[];q.forEach(function(a){var c=b.extent(N,function(b){return+b[a]}),d=c[0],e=c[1],f=!1;(isNaN(d)||isNaN(e))&&(f=!0,d=0,e=0),d===e&&(d-=1,e+=1);var g=t.filter(function(b){return b.dimension==a});0!==g.length&&(f?(d=m[a].domain()[0],e=m[a].domain()[1]):!g[0].hasOnlyNaN&&r?(d=d>g[0].extent[0]?g[0].extent[0]:d,e=e<g[0].extent[1]?g[0].extent[1]:e):g[0].hasNaN&&(e=e<g[0].extent[1]?g[0].extent[1]:e,O[a]=m[a].domain()[1],P=!0)),m[a]=b.scale.linear().domain([d,e]).range([.9*(k-12),0]),w=[],m[a].brush=b.svg.brush().y(m[a]).on("brushstart",D).on("brush",E).on("brushend",F)});var R=L.selectAll("g.nv-wrap.nv-parallelCoordinates").data([c]),S=R.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),T=S.append("g"),U=R.select("g");T.append("g").attr("class","nv-parallelCoordinates background"),T.append("g").attr("class","nv-parallelCoordinates foreground"),T.append("g").attr("class","nv-parallelCoordinates missingValuesline"),R.attr("transform","translate("+g.left+","+g.top+")"),y.interpolate("cardinal").tension(x),z.orient("left");var V,W,X=b.behavior.drag().on("dragstart",H).on("drag",I).on("dragend",J),Y=l.range()[1]-l.range()[0];if(Y=isNaN(Y)?l.range()[0]:Y,!isNaN(Y)){var Z=[0+Y/2,k-12,j-Y/2,k-12];V=R.select(".missingValuesline").selectAll("line").data([Z]),V.enter().append("line"),V.exit().remove(),V.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]}),W=R.select(".missingValuesline").selectAll("text").data([n]),W.append("text").data([n]),W.enter().append("text"),W.exit().remove(),W.attr("y",k).attr("x",j-92-Y/2).text(function(a){return a})}e=R.select(".background").selectAll("path").data(c),e.enter().append("path"),e.exit().remove(),e.attr("d",B),d=R.select(".foreground").selectAll("path").data(c),d.enter().append("path"),d.exit().remove(),d.attr("d",B).style("stroke-width",function(a,b){return isNaN(a.strokeWidth)&&(a.strokeWidth=1),a.strokeWidth}).attr("stroke",function(a,b){return a.color||s(a,b)}),d.on("mouseover",function(a,c){b.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1),A.elementMouseover({label:a.name,color:a.color||s(a,c),values:a.values,dimensions:p})}),d.on("mouseout",function(a,c){b.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7),A.elementMouseout({label:a.name,index:c})}),d.on("mousemove",function(a,b){A.elementMousemove()}),d.on("click",function(a){A.elementClick({id:a.id})}),f=U.selectAll(".dimension").data(p);var $=f.enter().append("g").attr("class","nv-parallelCoordinates dimension");f.attr("transform",function(a){return"translate("+l(a.key)+",0)"}),$.append("g").attr("class","nv-axis"),$.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){A.elementMouseover({label:a.tooltip||a.key,color:a.color})}).on("mouseout",function(a,b){A.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){A.elementMousemove()}).call(X),$.append("g").attr("class","nv-brushBackground"),f.exit().remove(),f.select(".nv-label").text(function(a){return a.key}),C(r);var _=q.filter(function(a){return!m[a].brush.empty()}),aa=_.map(function(a){return m[a].brush.extent()}),ba=u.slice(0);u=[],d.style("display",function(a){var b=_.every(function(b,c){return!(!isNaN(a.values[b])&&!isNaN(parseFloat(a.values[b]))||aa[c][0]!=m[b].brush.y().domain()[0])||aa[c][0]<=a.values[b]&&a.values[b]<=aa[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&u.push(a),b?null:"none"}),(t.length>0||!a.utils.arrayEquals(u,ba))&&A.activeChanged(u)}),c}var d,e,f,g={top:30,right:0,bottom:10,left:0},h=null,i=null,j=null,k=null,l=b.scale.ordinal(),m={},n="undefined values",o=[],p=[],q=[],r=!0,s=a.utils.defaultColor(),t=[],u=[],v=[],w=[],x=1,y=b.svg.line(),z=b.svg.axis(),A=b.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),B=a.utils.renderWatch(A);return c.dispatch=A,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},dimensionData:{get:function(){return o},set:function(a){o=a}},displayBrush:{get:function(){return r},set:function(a){r=a}},filters:{get:function(){return t},set:function(a){t=a}},active:{get:function(){return u},set:function(a){u=a}},lineTension:{get:function(){return x},set:function(a){x=a}},undefinedValuesLabel:{get:function(){return n},set:function(a){n=a}},dimensions:{get:function(){return o.map(function(a){return a.key})},set:function(b){a.deprecated("dimensions","use dimensionData instead"),0===o.length?b.forEach(function(a){o.push({key:a})}):b.forEach(function(a,b){o[b].key=a})}},dimensionNames:{get:function(){return o.map(function(a){return a.key})},set:function(b){a.deprecated("dimensionNames","use dimensionData instead"),q=[],0===o.length?b.forEach(function(a){o.push({key:a})}):b.forEach(function(a,b){o[b].key=a})}},dimensionFormats:{get:function(){return o.map(function(a){return a.format})},set:function(b){a.deprecated("dimensionFormats","use dimensionData instead"),0===o.length?b.forEach(function(a){o.push({format:a})}):b.forEach(function(a,b){o[b].format=a})}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return s},set:function(b){s=a.utils.getColor(b)}}}),a.utils.initOptions(c),c},a.models.parallelCoordinatesChart=function(){"use strict";function c(f){return t.reset(),t.models(d),f.each(function(f){var l=b.select(this);a.utils.initSVG(l);var q=a.utils.availableWidth(i,l,g),r=a.utils.availableHeight(j,l,g);if(c.update=function(){l.call(c)},c.container=this,m.setter(v(n),c.update).getter(u(n)).update(),m.disabled=n.map(function(a){return!!a.disabled}),n=n.map(function(a){return a.disabled=!!a.disabled,a}),n.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition,a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition}),!p){var t;p={};for(t in m)m[t]instanceof Array?p[t]=m[t].slice(0):p[t]=m[t]}if(!f||!f.length)return a.utils.noData(c,l),c;l.selectAll(".nv-noData").remove();var w=l.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([f]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),y=w.select("g");x.append("g").attr("class","nv-parallelCoordinatesWrap"),x.append("g").attr("class","nv-legendWrap"),y.select("rect").attr("width",q).attr("height",r>0?r:0),k?(e.width(q).color(function(a){return"rgb(188,190,192)"}),y.select(".nv-legendWrap").datum(n.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(e),h||e.height()===g.top||(g.top=e.height(),r=a.utils.availableHeight(j,l,g)),w.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-g.top+")")):y.select(".nv-legendWrap").selectAll("*").remove(),w.attr("transform","translate("+g.left+","+g.top+")"),d.width(q).height(r).dimensionData(n).displayBrush(o),y.select(".nv-parallelCoordinatesWrap ").datum(f).transition().call(d),d.dispatch.on("brushEnd",function(a,b){b?(o=!0,s.brushEnd(a)):o=!1}),e.dispatch.on("stateChange",function(a){for(var b in a)m[b]=a[b];s.stateChange(m),c.update()}),d.dispatch.on("dimensionsOrder",function(a){n.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;n.forEach(function(a,c){a.currentPosition=c,a.currentPosition!==a.originalPosition&&(b=!0)}),s.dimensionsOrder(n,b)}),s.on("changeState",function(a){void 0!==a.disabled&&(n.forEach(function(b,c){b.disabled=a.disabled[c]}),m.disabled=a.disabled),c.update()})}),t.renderEnd("parraleleCoordinateChart immediate"),c}var d=a.models.parallelCoordinates(),e=a.models.legend(),f=a.models.tooltip(),g=(a.models.tooltip(),{top:0,right:0,bottom:0,left:0}),h=null,i=null,j=null,k=!0,l=a.utils.defaultColor(),m=a.utils.state(),n=[],o=!0,p=null,q=null,r="undefined",s=b.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),t=a.utils.renderWatch(s),u=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},v=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return f.contentGenerator(function(a){var b='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td><strong>'+a.key+"</strong></td></tr></thead>";return 0!==a.series.length&&(b+='<tbody><tr><td height ="10px"></td></tr>',a.series.forEach(function(a){b=b+'<tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td class="key">'+a.key+'</td><td class="value">'+a.value+"</td></tr>"}),b+="</tbody>"),b+="</table>"}),d.dispatch.on("elementMouseover.tooltip",function(a){var b={key:a.label,color:a.color,series:[]};a.values&&(Object.keys(a.values).forEach(function(c){var d=a.dimensions.filter(function(a){return a.key===c})[0];if(d){var e;e=isNaN(a.values[c])||isNaN(parseFloat(a.values[c]))?r:d.format(a.values[c]),b.series.push({idx:d.currentPosition,key:c,value:e,color:d.color})}}),b.series.sort(function(a,b){return a.idx-b.idx})),f.data(b).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){f.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(){f()}),c.dispatch=s,c.parallelCoordinates=d,c.legend=e,c.tooltip=f,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},showLegend:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return p},set:function(a){p=a}},dimensionData:{get:function(){return n},set:function(a){n=a}},displayBrush:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return q},set:function(a){q=a}},nanValue:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return g},set:function(a){void 0!==a.top&&(g.top=a.top,h=a.top),g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return l},set:function(b){l=a.utils.getColor(b),e.color(l),d.color(l)}}}),a.utils.inheritOptions(c,d),a.utils.initOptions(c),c},a.models.pie=function(){"use strict";function c(H){return G.reset(),H.each(function(c){function H(a,c){a.endAngle=isNaN(a.endAngle)?0:a.endAngle,a.startAngle=isNaN(a.startAngle)?0:a.startAngle,r||(a.innerRadius=0);var d=b.interpolate(this._current,a);return this._current=d(0),function(a){return E[c](d(a))}}var I=e-d.left-d.right,J=f-d.top-d.bottom,K=Math.min(I,J)/2,L=[],M=[];if(j=b.select(this),0===C.length)for(var N=K-K/10,O=A*K,P=0;P<c[0].length;P++)L.push(N),M.push(O);else t?(L=C.map(function(a){return(a.outer-a.outer/10)*K}),M=C.map(function(a){return(a.inner-a.inner/10)*K}),A=b.min(C.map(function(a){return a.inner-a.inner/10}))):(L=C.map(function(a){return a.outer*K}),M=C.map(function(a){return a.inner*K}),A=b.min(C.map(function(a){return a.inner})));a.utils.initSVG(j);var Q=j.selectAll(".nv-wrap.nv-pie").data(c),R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+i),S=R.append("g"),T=Q.select("g"),U=S.append("g").attr("class","nv-pie");S.append("g").attr("class","nv-pieLabels"),Q.attr("transform","translate("+d.left+","+d.top+")"),T.select(".nv-pie").attr("transform","translate("+I/2+","+J/2+")"),T.select(".nv-pieLabels").attr("transform","translate("+I/2+","+J/2+")"),j.on("click",function(a,c){D.chartClick({data:a,index:c,pos:b.event,id:i})}),E=[],F=[];for(var P=0;P<c[0].length;P++){var V=b.svg.arc().outerRadius(L[P]),W=b.svg.arc().outerRadius(L[P]+5);!1!==w&&(V.startAngle(w),W.startAngle(w)),!1!==y&&(V.endAngle(y),W.endAngle(y)),r&&(V.innerRadius(M[P]),W.innerRadius(M[P])),V.cornerRadius&&z&&(V.cornerRadius(z),W.cornerRadius(z)),E.push(V),F.push(W)}var X=b.layout.pie().sort(null).value(function(a){return a.disabled?0:h(a)});X.padAngle&&x&&X.padAngle(x),r&&s&&(U.append("text").attr("class","nv-pie-title"),Q.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return s}).style("font-size",Math.min(I,J)*A*2/(s.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+u+")"}));var Y=Q.select(".nv-pie").selectAll(".nv-slice").data(X),Z=Q.select(".nv-pieLabels").selectAll(".nv-label").data(X);Y.exit().remove(),Z.exit().remove();var $=Y.enter().append("g");$.attr("class","nv-slice"),$.on("mouseover",function(a,c){b.select(this).classed("hover",!0),t&&b.select(this).select("path").transition().duration(70).attr("d",F[c]),D.elementMouseover({data:a.data,index:c,color:b.select(this).style("fill"),percent:(a.endAngle-a.startAngle)/(2*Math.PI)})}),$.on("mouseout",function(a,c){b.select(this).classed("hover",!1),t&&b.select(this).select("path").transition().duration(50).attr("d",E[c]),D.elementMouseout({data:a.data,index:c})}),$.on("mousemove",function(a,b){D.elementMousemove({data:a.data,index:b})}),$.on("click",function(a,c){var d=this;D.elementClick({data:a.data,index:c,color:b.select(this).style("fill"),event:b.event,element:d})}),$.on("dblclick",function(a,c){D.elementDblClick({data:a.data,index:c,color:b.select(this).style("fill")})}),Y.attr("fill",function(a,b){return k(a.data,b)}),Y.attr("stroke",function(a,b){return k(a.data,b)});$.append("path").each(function(a){this._current=a});if(Y.select("path").transition().duration(B).attr("d",function(a,b){return E[b](a)}).attrTween("d",H),m){for(var _=[],P=0;P<c[0].length;P++)_.push(E[P]),n?r&&(_[P]=b.svg.arc().outerRadius(E[P].outerRadius()),!1!==w&&_[P].startAngle(w),!1!==y&&_[P].endAngle(y)):r||_[P].innerRadius(0);Z.enter().append("g").classed("nv-label",!0).each(function(a,c){var d=b.select(this);d.attr("transform",function(a,b){if(v){a.outerRadius=L[b]+10,a.innerRadius=L[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+_[b].centroid(a)+") rotate("+c+")"}return a.outerRadius=K+10,a.innerRadius=K+15,"translate("+_[b].centroid(a)+")"}),d.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),d.append("text").style("text-anchor",v?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var aa={},ba=14,ca=140,da=function(a){return Math.floor(a[0]/ca)*ca+","+Math.floor(a[1]/ba)*ba},ea=function(a){return(a.endAngle-a.startAngle)/(2*Math.PI)};Z.watchTransition(G,"pie labels").attr("transform",function(a,b){if(v){a.outerRadius=L[b]+10,a.innerRadius=L[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+_[b].centroid(a)+") rotate("+c+")"}a.outerRadius=K+10,a.innerRadius=K+15;var d=_[b].centroid(a),e=ea(a);if(a.value&&e>=p){var f=da(d);aa[f]&&(d[1]-=ba),aa[da(d)]=!0}return"translate("+d+")"}),Z.select(".nv-label text").style("text-anchor",function(a,b){return v?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,c){var d=ea(a),e="";if(!a.value||d<p)return"";if("function"==typeof o)e=o(a,c,{key:g(a.data),value:h(a.data),percent:l(d)});else switch(o){case"key":e=g(a.data);break;case"value":e=l(h(a.data));break;case"percent":e=b.format("%")(d)}return e}),q&&Z.each(function(b,c){if(this.getBBox){var d=this.getBBox(),e=_[c].centroid(b),f={x:e[0]+d.x,y:e[1]+d.y},g={x:f.x+d.width,y:f.y},h={x:f.x,y:f.y+d.height},i={x:f.x+d.width,y:f.y+d.height};b.visible=a.utils.pointIsInArc(f,b,V)&&a.utils.pointIsInArc(g,b,V)&&a.utils.pointIsInArc(h,b,V)&&a.utils.pointIsInArc(i,b,V)}}).style("display",function(a){return a.visible?null:"none"})}}),G.renderEnd("pie immediate"),c}var d={top:0,right:0,bottom:0,left:0},e=500,f=500,g=function(a){return a.x},h=function(a){return a.y},i=Math.floor(1e4*Math.random()),j=null,k=a.utils.defaultColor(),l=b.format(",.2f"),m=!0,n=!1,o="key",p=.02,q=!1,r=!1,s=!1,t=!0,u=0,v=!1,w=!1,x=!1,y=!1,z=0,A=.5,B=250,C=[],D=b.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),E=[],F=[],G=a.utils.renderWatch(D);return c.dispatch=D,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{arcsRadius:{get:function(){return C},set:function(a){C=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},showLabels:{get:function(){return m},set:function(a){m=a}},title:{get:function(){return s},set:function(a){s=a}},titleOffset:{get:function(){return u},set:function(a){u=a}},labelThreshold:{get:function(){return p},set:function(a){p=a}},hideOverlapLabels:{get:function(){return q},set:function(a){q=a}},valueFormat:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return g},set:function(a){g=a}},id:{get:function(){return i},set:function(a){i=a}},endAngle:{get:function(){return y},set:function(a){y=a}},startAngle:{get:function(){return w},set:function(a){w=a}},padAngle:{get:function(){return x},set:function(a){x=a}},cornerRadius:{get:function(){return z},set:function(a){z=a}},donutRatio:{get:function(){return A},set:function(a){A=a}},
labelsOutside:{get:function(){return n},set:function(a){n=a}},labelSunbeamLayout:{get:function(){return v},set:function(a){v=a}},donut:{get:function(){return r},set:function(a){r=a}},growOnHover:{get:function(){return t},set:function(a){t=a}},pieLabelsOutside:{get:function(){return n},set:function(b){n=b,a.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return n},set:function(b){n=b,a.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(b){l=b,a.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},duration:{get:function(){return B},set:function(a){B=a,G.reset(B)}},y:{get:function(){return h},set:function(a){h=b.functor(a)}},color:{get:function(){return k},set:function(b){k=a.utils.getColor(b)}},labelType:{get:function(){return o},set:function(a){o=a||"key"}}}),a.utils.initOptions(c),c},a.models.pieChart=function(){"use strict";function c(f){return t.reset(),t.models(d),f.each(function(f){var k=b.select(this);a.utils.initSVG(k);var n=a.utils.availableWidth(i,k,g),q=a.utils.availableHeight(j,k,g);if(c.update=function(){k.transition().call(c)},c.container=this,o.setter(v(f),c.update).getter(u(f)).update(),o.disabled=f.map(function(a){return!!a.disabled}),!p){var r;p={};for(r in o)o[r]instanceof Array?p[r]=o[r].slice(0):p[r]=o[r]}if(!f||!f.length)return a.utils.noData(c,k),c;k.selectAll(".nv-noData").remove();var t=k.selectAll("g.nv-wrap.nv-pieChart").data([f]),w=t.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),x=t.select("g");if(w.append("g").attr("class","nv-pieWrap"),w.append("g").attr("class","nv-legendWrap"),l)if("top"===m)e.width(n).key(d.x()),t.select(".nv-legendWrap").datum(f).call(e),h||e.height()===g.top||(g.top=e.height(),q=a.utils.availableHeight(j,k,g)),t.select(".nv-legendWrap").attr("transform","translate(0,"+-g.top+")");else if("right"===m){var y=a.models.legend().width();n/2<y&&(y=n/2),e.height(q).key(d.x()),e.width(y),n-=e.width(),t.select(".nv-legendWrap").datum(f).call(e).attr("transform","translate("+n+",0)")}else"bottom"===m&&(e.width(n).key(d.x()),t.select(".nv-legendWrap").datum(f).call(e),g.bottom=e.height(),q=a.utils.availableHeight(j,k,g),t.select(".nv-legendWrap").attr("transform","translate(0,"+q+")"));else x.select(".nv-legendWrap").selectAll("*").remove();t.attr("transform","translate("+g.left+","+g.top+")"),d.width(n).height(q);var z=x.select(".nv-pieWrap").datum([f]);b.transition(z).call(d),e.dispatch.on("stateChange",function(a){for(var b in a)o[b]=a[b];s.stateChange(o),c.update()}),s.on("changeState",function(a){void 0!==a.disabled&&(f.forEach(function(b,c){b.disabled=a.disabled[c]}),o.disabled=a.disabled),c.update()})}),t.renderEnd("pieChart immediate"),c}var d=a.models.pie(),e=a.models.legend(),f=a.models.tooltip(),g={top:30,right:20,bottom:20,left:20},h=null,i=null,j=null,k=!1,l=!0,m="top",n=a.utils.defaultColor(),o=a.utils.state(),p=null,q=null,r=250,s=b.dispatch("stateChange","changeState","renderEnd");f.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return d.valueFormat()(a,b)});var t=a.utils.renderWatch(s),u=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},v=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:c.x()(a.data),value:c.y()(a.data),color:a.color,percent:a.percent},k||(delete a.percent,delete a.series.percent),f.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){f.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){f()}),c.legend=e,c.dispatch=s,c.pie=d,c.tooltip=f,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},noData:{get:function(){return q},set:function(a){q=a}},showTooltipPercent:{get:function(){return k},set:function(a){k=a}},showLegend:{get:function(){return l},set:function(a){l=a}},legendPosition:{get:function(){return m},set:function(a){m=a}},defaultState:{get:function(){return p},set:function(a){p=a}},color:{get:function(){return n},set:function(a){n=a,e.color(n),d.color(n)}},duration:{get:function(){return r},set:function(a){r=a,t.reset(r),d.duration(r)}},margin:{get:function(){return g},set:function(a){void 0!==a.top&&(g.top=a.top,h=a.top),g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}}}),a.utils.inheritOptions(c,d),a.utils.initOptions(c),c},a.models.sankey=function(){"use strict";function c(){o.forEach(function(a){a.sourceLinks=[],a.targetLinks=[]}),p.forEach(function(a){var b=a.source,c=a.target;"number"==typeof b&&(b=a.source=o[a.source]),"number"==typeof c&&(c=a.target=o[a.target]),b.sourceLinks.push(a),c.targetLinks.push(a)})}function d(){o.forEach(function(a){a.value=Math.max(b.sum(a.sourceLinks,j),b.sum(a.targetLinks,j))})}function e(){for(var a,b=o,c=0;b.length&&c<o.length;)a=[],b.forEach(function(b){b.x=c,b.dx=l,b.sourceLinks.forEach(function(b){a.indexOf(b.target)<0&&a.push(b.target)})}),b=a,++c;q&&f(c),g((n[0]-l)/(c-1))}function f(a){o.forEach(function(b){b.sourceLinks.length||(b.x=a-1)})}function g(a){o.forEach(function(b){b.x*=a})}function h(a){function c(){var a=b.min(h,function(a){return(n[1]-(a.length-1)*m)/b.sum(a,j)});h.forEach(function(b){b.forEach(function(b,c){b.y=c,b.dy=b.value*a})}),p.forEach(function(b){b.dy=b.value*a})}function d(a){function c(a){return(a.source.y+a.sy+a.dy/2)*a.value}h.forEach(function(d,e){d.forEach(function(d){if(d.targetLinks.length){var e=b.sum(d.targetLinks,c)/b.sum(d.targetLinks,j);d.y+=(e-u(d))*a}})})}function e(a){function c(a){return(a.target.y+a.ty+a.dy/2)*a.value}h.slice().reverse().forEach(function(d){d.forEach(function(d){if(d.sourceLinks.length){var e=b.sum(d.sourceLinks,c)/b.sum(d.sourceLinks,j);d.y+=(e-u(d))*a}})})}function f(){h.forEach(function(a){var b,c,d,e=0,f=a.length;for(a.sort(g),d=0;d<f;++d)b=a[d],c=e-b.y,c>0&&(b.y+=c),e=b.y+b.dy+m;if((c=e-m-n[1])>0)for(e=b.y-=c,d=f-2;d>=0;--d)b=a[d],c=b.y+b.dy+m-e,c>0&&(b.y-=c),e=b.y})}function g(a,b){return a.y-b.y}var h=b.nest().key(function(a){return a.x}).sortKeys(b.ascending).entries(o).map(function(a){return a.values});c(),f(),i();for(var k=1;a>0;--a)e(k*=.99),f(),i(),d(k),f(),i()}function i(){function a(a,b){return a.source.y-b.source.y}function b(a,b){return a.target.y-b.target.y}o.forEach(function(c){c.sourceLinks.sort(b),c.targetLinks.sort(a)}),o.forEach(function(a){var b=0,c=0;a.sourceLinks.forEach(function(a){a.sy=b,b+=a.dy}),a.targetLinks.forEach(function(a){a.ty=c,c+=a.dy})})}function j(a){return a.value}var k={},l=24,m=8,n=[1,1],o=[],p=[],q=!0,r=function(a){c(),d(),e(),h(a)},s=function(){i()},t=function(){function a(a){var d=a.source.x+a.source.dx,e=a.target.x,f=b.interpolateNumber(d,e),g=f(c),h=f(1-c),i=a.source.y+a.sy+a.dy/2,j=a.target.y+a.ty+a.dy/2;return"M"+d+","+i+"C"+g+","+i+" "+h+","+j+" "+e+","+j}var c=.5;return a.curvature=function(b){return arguments.length?(c=+b,a):c},a},u=function(a){return a.y+a.dy/2};return k.options=a.utils.optionsFunc.bind(k),k._options=Object.create({},{nodeWidth:{get:function(){return l},set:function(a){l=+a}},nodePadding:{get:function(){return m},set:function(a){m=a}},nodes:{get:function(){return o},set:function(a){o=a}},links:{get:function(){return p},set:function(a){p=a}},size:{get:function(){return n},set:function(a){n=a}},sinksRight:{get:function(){return q},set:function(a){q=a}},layout:{get:function(){r(32)},set:function(a){r(a)}},relayout:{get:function(){s()},set:function(a){}},center:{get:function(){return u()},set:function(a){"function"==typeof a&&(u=a)}},link:{get:function(){return t()},set:function(a){return"function"==typeof a&&(t=a),t()}}}),a.utils.initOptions(k),k},a.models.sankeyChart=function(){"use strict";function c(a){return a.each(function(c){function d(a){b.select(this).attr("transform","translate("+a.x+","+(a.y=Math.max(0,Math.min(g-a.dy,b.event.y)))+")"),e.relayout(),u.attr("d",t)}var j={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},l=!1,m=!1;if(("object"==typeof c.nodes&&c.nodes.length)>=0&&("object"==typeof c.links&&c.links.length)>=0&&(l=!0),c.nodes&&c.nodes.length>0&&c.links&&c.links.length>0&&(m=!0),!l)return console.error("NVD3 Sankey chart error:","invalid data format for",c),console.info("Valid data format is: ",j,JSON.stringify(j)),s(a,"Error loading chart, data is invalid"),!1;if(!m)return s(a,"No data available"),!1;var n=a.append("svg").attr("width",f).attr("height",g).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");e.nodeWidth(h).nodePadding(i).size([f,g]);var t=e.link();e.nodes(c.nodes).links(c.links).layout(32).center(k);var u=n.append("g").selectAll(".link").data(c.links).enter().append("path").attr("class","link").attr("d",t).style("stroke-width",function(a){return Math.max(1,a.dy)}).sort(function(a,b){return b.dy-a.dy});u.append("title").text(o);var v=n.append("g").selectAll(".node").data(c.nodes).enter().append("g").attr("class","node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(b.behavior.drag().origin(function(a){return a}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",d));v.append("rect").attr("height",function(a){return a.dy}).attr("width",e.nodeWidth()).style("fill",p).style("stroke",q).append("title").text(r),v.append("text").attr("x",-6).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(a){return a.name}).filter(function(a){return a.x<f/2}).attr("x",6+e.nodeWidth()).attr("text-anchor","start")}),c}var d={top:5,right:0,bottom:5,left:0},e=a.models.sankey(),f=600,g=400,h=36,i=40,j="units",k=void 0,l=b.format(",.0f"),m=function(a){return l(a)+" "+j},n=b.scale.category20(),o=function(a){return a.source.name+"  "+a.target.name+"\n"+m(a.value)},p=function(a){return a.color=n(a.name.replace(/ .*/,""))},q=function(a){return b.rgb(a.color).darker(2)},r=function(a){return a.name+"\n"+m(a.value)},s=function(a,b){a.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(b)};return c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{units:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},format:{get:function(){return m},set:function(a){m=a}},linkTitle:{get:function(){return o},set:function(a){o=a}},nodeWidth:{get:function(){return h},set:function(a){h=a}},nodePadding:{get:function(){return i},set:function(a){i=a}},center:{get:function(){return k},set:function(a){k=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},nodeStyle:{get:function(){return{}},set:function(a){p=void 0!==a.fillColor?a.fillColor:p,q=void 0!==a.strokeColor?a.strokeColor:q,r=void 0!==a.title?a.title:r}}}),a.utils.initOptions(c),c},a.models.scatter=function(){"use strict";function c(a){var b;return b=a[0].series+":"+a[1],aa[b]=aa[b]||{}}function d(a){var b;b=a[0].series+":"+a[1],delete aa[b]}function e(a){var b,d,e,f=c(a),g=!1;for(b=1;b<arguments.length;b+=2)d=arguments[b],e=arguments[b+1](a[0],a[1]),f[d]===e&&f.hasOwnProperty(d)||(f[d]=e,g=!0);return g}function f(c){return $.reset(),c.each(function(c){function W(){if(Z=!1,!F)return!1;if(!0===V){ia.select(".nv-point-paths").selectAll("path").remove();var d=b.merge(c.map(function(b,c){return b.values.map(function(b,d){var e=y(b,d),f=z(b,d);return[a.utils.NaNtoZero(v(e))+1e-4*Math.random(),a.utils.NaNtoZero(w(f))+1e-4*Math.random(),c,d,b]}).filter(function(a,b){return G(a[4],b)})}));if(0==d.length)return!1;d.length<3&&(d.push([v.range()[0]-20,w.range()[0]-20,null,null]),d.push([v.range()[1]+20,w.range()[1]+20,null,null]),d.push([v.range()[0]-20,w.range()[0]+20,null,null]),d.push([v.range()[1]+20,w.range()[1]-20,null,null]));var e=b.geom.polygon([[-10,-10],[-10,q+10],[p+10,q+10],[p+10,-10]]),f=1e-4;d=d.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]});for(var g=0;g<d.length-1;)Math.abs(d[g][0]-d[g+1][0])<f&&Math.abs(d[g][1]-d[g+1][1])<f?d.splice(g+1,1):g++;var h=b.geom.voronoi(d).map(function(a,b){return{data:e.clip(a),series:d[b][2],point:d[b][3]}}),i=ia.select(".nv-point-paths").selectAll("path").data(h),j=i.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+t+"-"+b+")"});if(L&&j.style("fill",b.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",b.rgb(200,200,200)),K){ia.select(".nv-point-clips").selectAll("*").remove();var k=ia.select(".nv-point-clips").selectAll("clipPath").data(d);k.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+t+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",M)}var l=function(a,d,e){if(Z)return 0;var f=c[d.series];if(void 0!==f){var g=f.values[d.point];g.color=r(f,d.series),g.x=y(g),g.y=z(g);var h=u.node().getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop,j=window.pageXOffset||document.documentElement.scrollLeft;e({point:g,series:f,pos:{left:v(y(g,d.point))+h.left+j+o.left+10,top:w(z(g,d.point))+h.top+i+o.top+10},relativePos:[v(y(g,d.point))+o.left,w(z(g,d.point))+o.top],seriesIndex:d.series,pointIndex:d.point,event:b.event,element:a})}};i.on("click",function(a){l(this,a,U.elementClick)}).on("dblclick",function(a){l(this,a,U.elementDblClick)}).on("mouseover",function(a){l(this,a,U.elementMouseover)}).on("mouseout",function(a,b){l(this,a,U.elementMouseout)})}else ia.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(a,d){if(Z||!c[a.series])return 0;var e=c[a.series],f=e.values[d],g=this;U.elementClick({point:f,series:e,pos:[v(y(f,d))+o.left,w(z(f,d))+o.top],relativePos:[v(y(f,d))+o.left,w(z(f,d))+o.top],seriesIndex:a.series,pointIndex:d,event:b.event,element:g})}).on("dblclick",function(a,b){if(Z||!c[a.series])return 0;var d=c[a.series],e=d.values[b];U.elementDblClick({point:e,series:d,pos:[v(y(e,b))+o.left,w(z(e,b))+o.top],relativePos:[v(y(e,b))+o.left,w(z(e,b))+o.top],seriesIndex:a.series,pointIndex:b})}).on("mouseover",function(a,b){if(Z||!c[a.series])return 0;var d=c[a.series],e=d.values[b];U.elementMouseover({point:e,series:d,pos:[v(y(e,b))+o.left,w(z(e,b))+o.top],relativePos:[v(y(e,b))+o.left,w(z(e,b))+o.top],seriesIndex:a.series,pointIndex:b,color:r(a,b)})}).on("mouseout",function(a,b){if(Z||!c[a.series])return 0;var d=c[a.series],e=d.values[b];U.elementMouseout({point:e,series:d,pos:[v(y(e,b))+o.left,w(z(e,b))+o.top],relativePos:[v(y(e,b))+o.left,w(z(e,b))+o.top],seriesIndex:a.series,pointIndex:b,color:r(a,b)})})}u=b.select(this);var aa=a.utils.availableWidth(p,u,o),ba=a.utils.availableHeight(q,u,o);a.utils.initSVG(u),c.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var ca="function"==typeof f.yScale().base,da=N&&O&&R?[]:b.merge(c.map(function(a){return a.values.map(function(a,b){return{x:y(a,b),y:z(a,b),size:A(a,b)}})}));if(v.domain(N||b.extent(da.map(function(a){return a.x}).concat(C))),H&&c[0]?v.range(P||[(aa*I+aa)/(2*c[0].values.length),aa-aa*(1+I)/(2*c[0].values.length)]):v.range(P||[0,aa]),ca){var ea=b.min(da.map(function(a){if(0!==a.y)return a.y}));w.clamp(!0).domain(O||b.extent(da.map(function(a){return 0!==a.y?a.y:.1*ea}).concat(D))).range(Q||[ba,0])}else w.domain(O||b.extent(da.map(function(a){return a.y}).concat(D))).range(Q||[ba,0]);x.domain(R||b.extent(da.map(function(a){return a.size}).concat(E))).range(S||_),T=v.domain()[0]===v.domain()[1]||w.domain()[0]===w.domain()[1],v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),w.domain()[0]===w.domain()[1]&&(w.domain()[0]?w.domain([w.domain()[0]-.01*w.domain()[0],w.domain()[1]+.01*w.domain()[1]]):w.domain([-1,1])),isNaN(v.domain()[0])&&v.domain([-1,1]),isNaN(w.domain()[0])&&w.domain([-1,1]),g=g||v,h=h||w,i=i||x;var fa=v(1)!==g(1)||w(1)!==h(1)||x(1)!==i(1);l=l||p,m=m||q;var ga=l!==p||m!==q;j=j||[];var ha=j[0]!==v.domain()[0]||j[1]!==v.domain()[1];j=v.domain(),k=k||[],ha=ha||k[0]!==w.domain()[0]||k[1]!==w.domain()[1],k=w.domain();var ia=u.selectAll("g.nv-wrap.nv-scatter").data([c]),ja=ia.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+t),ka=ja.append("defs"),la=ja.append("g"),ma=ia.select("g");ia.classed("nv-single-point",T),la.append("g").attr("class","nv-groups"),la.append("g").attr("class","nv-point-paths"),ja.append("g").attr("class","nv-point-clips"),ia.attr("transform","translate("+o.left+","+o.top+")"),ka.append("clipPath").attr("id","nv-edge-clip-"+t).append("rect").attr("transform","translate( -10, -10)"),ia.select("#nv-edge-clip-"+t+" rect").attr("width",aa+20).attr("height",ba>0?ba+20:0),ma.attr("clip-path",J?"url(#nv-edge-clip-"+t+")":""),Z=!0;var na=ia.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});na.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),na.exit().remove(),na.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("nv-noninteractive",!F).classed("hover",function(a){return a.hover}),na.watchTransition($,"scatter: groups").style("fill",function(a,b){return r(a,b)}).style("stroke",function(a,b){return a.pointBorderColor||s||r(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var oa=na.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return G(a[0],b)})});if(oa.enter().append("path").attr("class",function(a){return"nv-point nv-point-"+a[1]}).style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(b){return"translate("+a.utils.NaNtoZero(g(y(b[0],b[1])))+","+a.utils.NaNtoZero(h(z(b[0],b[1])))+")"}).attr("d",a.utils.symbol().type(function(a){return B(a[0])}).size(function(a){return x(A(a[0],a[1]))})),oa.exit().each(d).remove(),na.exit().selectAll("path.nv-point").watchTransition($,"scatter exit").attr("transform",function(b){return"translate("+a.utils.NaNtoZero(v(y(b[0],b[1])))+","+a.utils.NaNtoZero(w(z(b[0],b[1])))+")"}).remove(),oa.filter(function(a){return e(a,"x",y,"y",z)||fa||ga||ha}).watchTransition($,"scatter points").attr("transform",function(b){return"translate("+a.utils.NaNtoZero(v(y(b[0],b[1])))+","+a.utils.NaNtoZero(w(z(b[0],b[1])))+")"}),oa.filter(function(a){return e(a,"shape",B,"size",A)||fa||ga||ha}).watchTransition($,"scatter points").attr("d",a.utils.symbol().type(function(a){return B(a[0])}).size(function(a){return x(A(a[0],a[1]))})),Y){var pa=na.selectAll(".nv-label").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return G(a[0],b)})});pa.enter().append("text").style("fill",function(a,b){return a.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(b){return"translate("+(a.utils.NaNtoZero(g(y(b[0],b[1])))+Math.sqrt(x(A(b[0],b[1]))/Math.PI)+2)+","+a.utils.NaNtoZero(h(z(b[0],b[1])))+")"}).text(function(a,b){return a[0].label}),pa.exit().remove(),na.exit().selectAll("path.nv-label").watchTransition($,"scatter exit").attr("transform",function(b){return"translate("+(a.utils.NaNtoZero(v(y(b[0],b[1])))+Math.sqrt(x(A(b[0],b[1]))/Math.PI)+2)+","+a.utils.NaNtoZero(w(z(b[0],b[1])))+")"}).remove(),pa.each(function(a){b.select(this).classed("nv-label",!0).classed("nv-label-"+a[1],!1).classed("hover",!1)}),pa.watchTransition($,"scatter labels").attr("transform",function(b){return"translate("+(a.utils.NaNtoZero(v(y(b[0],b[1])))+Math.sqrt(x(A(b[0],b[1]))/Math.PI)+2)+","+a.utils.NaNtoZero(w(z(b[0],b[1])))+")"})}X?(clearTimeout(n),n=setTimeout(W,X)):W(),g=v.copy(),h=w.copy(),i=x.copy(),l=p,m=q}),$.renderEnd("scatter immediate"),f}var g,h,i,j,k,l,m,n,o={top:0,right:0,bottom:0,left:0},p=null,q=null,r=a.utils.defaultColor(),s=null,t=Math.floor(1e5*Math.random()),u=null,v=b.scale.linear(),w=b.scale.linear(),x=b.scale.linear(),y=function(a){return a.x},z=function(a){return a.y},A=function(a){return a.size||1},B=function(a){return a.shape||"circle"},C=[],D=[],E=[],F=!0,G=function(a){return!a.notActive},H=!1,I=.1,J=!1,K=!0,L=!1,M=function(){return 25},N=null,O=null,P=null,Q=null,R=null,S=null,T=!1,U=b.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),V=!0,W=250,X=300,Y=!1,Z=!1,$=a.utils.renderWatch(U,W),_=[16,256],aa={};return f.dispatch=U,f.options=a.utils.optionsFunc.bind(f),f._calls=new function(){this.clearHighlights=function(){return a.dom.write(function(){u.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(b,c,d){a.dom.write(function(){u.select(".nv-groups").selectAll(".nv-series-"+b).selectAll(".nv-point-"+c).classed("hover",d)})}},U.on("elementMouseover.point",function(a){F&&f._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),U.on("elementMouseout.point",function(a){F&&f._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),f._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return v},set:function(a){v=a}},yScale:{get:function(){return w},set:function(a){w=a}},pointScale:{get:function(){return x},set:function(a){x=a}},xDomain:{get:function(){return N},set:function(a){N=a}},yDomain:{get:function(){return O},set:function(a){O=a}},pointDomain:{get:function(){return R},set:function(a){R=a}},xRange:{get:function(){return P},set:function(a){P=a}},yRange:{get:function(){return Q},set:function(a){Q=a}},pointRange:{get:function(){return S},set:function(a){S=a}},forceX:{get:function(){return C},set:function(a){C=a}},forceY:{get:function(){return D},set:function(a){D=a}},forcePoint:{get:function(){return E},set:function(a){E=a}},interactive:{get:function(){return F},set:function(a){F=a}},pointActive:{get:function(){return G},set:function(a){G=a}},padDataOuter:{get:function(){return I},set:function(a){I=a}},padData:{get:function(){return H},set:function(a){H=a}},clipEdge:{get:function(){return J},set:function(a){J=a}},clipVoronoi:{get:function(){return K},set:function(a){K=a}},clipRadius:{get:function(){return M},set:function(a){M=a}},showVoronoi:{get:function(){return L},set:function(a){L=a}},id:{get:function(){return t},set:function(a){t=a}},interactiveUpdateDelay:{get:function(){return X},set:function(a){X=a}},showLabels:{get:function(){return Y},set:function(a){Y=a}},pointBorderColor:{get:function(){return s},set:function(a){s=a}},x:{get:function(){return y},set:function(a){y=b.functor(a)}},y:{get:function(){return z},set:function(a){z=b.functor(a)}},pointSize:{get:function(){return A},set:function(a){A=b.functor(a)}},pointShape:{get:function(){return B},set:function(a){B=b.functor(a)}},margin:{get:function(){return o},set:function(a){o.top=void 0!==a.top?a.top:o.top,o.right=void 0!==a.right?a.right:o.right,o.bottom=void 0!==a.bottom?a.bottom:o.bottom,o.left=void 0!==a.left?a.left:o.left}},duration:{get:function(){return W},set:function(a){W=a,$.reset(W)}},color:{get:function(){return r},set:function(b){r=a.utils.getColor(b)}},useVoronoi:{get:function(){return V},set:function(a){!1===(V=a)&&(K=!1)}}}),a.utils.initOptions(f),f},a.models.scatterChart=function(){"use strict";function c(B){return G.reset(),G.models(d),v&&G.models(e),w&&G.models(f),s&&G.models(h),t&&G.models(i),B.each(function(B){o=b.select(this),a.utils.initSVG(o);var J=a.utils.availableWidth(m,o,k),K=a.utils.availableHeight(n,o,k);if(c.update=function(){0===C?o.call(c):o.transition().duration(C).call(c)},c.container=this,y.setter(I(B),c.update).getter(H(B)).update(),y.disabled=B.map(function(a){return!!a.disabled}),!z){var L;z={};for(L in y)y[L]instanceof Array?z[L]=y[L].slice(0):z[L]=y[L]}if(!(B&&B.length&&B.filter(function(a){return a.values.length}).length))return a.utils.noData(c,o),G.renderEnd("scatter immediate"),c;o.selectAll(".nv-noData").remove(),q=d.xScale(),r=d.yScale();var M=o.selectAll("g.nv-wrap.nv-scatterChart").data([B]),N=M.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+d.id()),O=N.append("g"),P=M.select("g");if(O.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-scatterWrap"),O.append("g").attr("class","nv-regressionLinesWrap"),O.append("g").attr("class","nv-distWrap"),O.append("g").attr("class","nv-legendWrap"),x&&P.select(".nv-y.nv-axis").attr("transform","translate("+J+",0)"),u){var Q=J;g.width(Q),M.select(".nv-legendWrap").datum(B).call(g),l||g.height()===k.top||(k.top=g.height(),K=a.utils.availableHeight(n,o,k)),M.select(".nv-legendWrap").attr("transform","translate(0,"+-k.top+")")}else P.select(".nv-legendWrap").selectAll("*").remove();M.attr("transform","translate("+k.left+","+k.top+")"),d.width(J).height(K).color(B.map(function(a,b){return a.color=a.color||p(a,b),a.color}).filter(function(a,b){return!B[b].disabled})).showLabels(D),M.select(".nv-scatterWrap").datum(B.filter(function(a){return!a.disabled})).call(d),M.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+d.id()+")");var R=M.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});R.enter().append("g").attr("class","nv-regLines");var S=R.selectAll(".nv-regLine").data(function(a){return[a]});S.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),S.filter(function(a){return a.intercept&&a.slope}).watchTransition(G,"scatterPlusLineChart: regline").attr("x1",q.range()[0]).attr("x2",q.range()[1]).attr("y1",function(a,b){return r(q.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return r(q.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return p(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||void 0===a.slope||void 0===a.intercept?0:1}),v&&(e.scale(q)._ticks(a.utils.calcTicksX(J/100,B)).tickSize(-K,0),P.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")").call(e)),w&&(f.scale(r)._ticks(a.utils.calcTicksY(K/36,B)).tickSize(-J,0),P.select(".nv-y.nv-axis").call(f)),s&&(h.getData(d.x()).scale(q).width(J).color(B.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!B[b].disabled})),O.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),P.select(".nv-distributionX").attr("transform","translate(0,"+r.range()[0]+")").datum(B.filter(function(a){return!a.disabled})).call(h)),t&&(i.getData(d.y()).scale(r).width(K).color(B.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!B[b].disabled})),O.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),P.select(".nv-distributionY").attr("transform","translate("+(x?J:-i.size())+",0)").datum(B.filter(function(a){return!a.disabled})).call(i)),g.dispatch.on("stateChange",function(a){for(var b in a)y[b]=a[b];A.stateChange(y),c.update()}),A.on("changeState",function(a){void 0!==a.disabled&&(B.forEach(function(b,c){b.disabled=a.disabled[c]}),y.disabled=a.disabled),c.update()}),d.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0),o.select(".nv-chart-"+d.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0),o.select(".nv-chart-"+d.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",i.size())}),d.dispatch.on("elementMouseover.tooltip",function(a){o.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-K),o.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+h.size()),j.data(a).hidden(!1)}),E=q.copy(),F=r.copy()}),G.renderEnd("scatter with line immediate"),c}var d=a.models.scatter(),e=a.models.axis(),f=a.models.axis(),g=a.models.legend(),h=a.models.distribution(),i=a.models.distribution(),j=a.models.tooltip(),k={top:30,right:20,bottom:50,left:75},l=null,m=null,n=null,o=null,p=a.utils.defaultColor(),q=d.xScale(),r=d.yScale(),s=!1,t=!1,u=!0,v=!0,w=!0,x=!1,y=a.utils.state(),z=null,A=b.dispatch("stateChange","changeState","renderEnd"),B=null,C=250,D=!1;d.xScale(q).yScale(r),e.orient("bottom").tickPadding(10),f.orient(x?"right":"left").tickPadding(10),h.axis("x"),i.axis("y"),j.headerFormatter(function(a,b){return e.tickFormat()(a,b)}).valueFormatter(function(a,b){return f.tickFormat()(a,b)});var E,F,G=a.utils.renderWatch(A,C),H=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},I=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return c.dispatch=A,c.scatter=d,c.legend=g,c.xAxis=e,c.yAxis=f,c.distX=h,c.distY=i,c.tooltip=j,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},container:{get:function(){return o},set:function(a){o=a}},showDistX:{get:function(){return s},set:function(a){s=a}},showDistY:{get:function(){return t},set:function(a){t=a}},showLegend:{get:function(){return u},set:function(a){u=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},defaultState:{get:function(){return z},set:function(a){z=a}},noData:{get:function(){return B},set:function(a){B=a}},duration:{get:function(){return C},set:function(a){C=a}},showLabels:{get:function(){return D},set:function(a){D=a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(k.top=a.top,l=a.top),k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a,f.orient(a?"right":"left")}},color:{get:function(){return p},set:function(b){p=a.utils.getColor(b),g.color(p),h.color(p),i.color(p)}}}),a.utils.inheritOptions(c,d),a.utils.initOptions(c),c},a.models.sparkline=function(){"use strict";function c(l){return u.reset(),l.each(function(c){var l=i-h.left-h.right,t=j-h.top-h.bottom;k=b.select(this),a.utils.initSVG(k),m.domain(d||b.extent(c,o)).range(f||[0,l]),n.domain(e||b.extent(c,p)).range(g||[t,0]);var u=k.selectAll("g.nv-wrap.nv-sparkline").data([c]),v=u.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");v.append("g"),u.select("g");u.attr("transform","translate("+h.left+","+h.top+")");var w=u.selectAll("path").data(function(a){return[a]});w.enter().append("path"),w.exit().remove(),w.style("stroke",function(a,b){return a.color||q(a,b)}).attr("d",b.svg.line().x(function(a,b){return m(o(a,b))}).y(function(a,b){return n(p(a,b))}));var x=u.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return p(a,b)}),d=b(c.lastIndexOf(n.domain()[1])),e=b(c.indexOf(n.domain()[0])),f=b(c.length-1);return[r?e:null,r?d:null,s?f:null].filter(function(a){return null!=a})});x.enter().append("circle"),x.exit().remove(),x.attr("cx",function(a,b){return m(o(a,a.pointIndex))}).attr("cy",function(a,b){return n(p(a,a.pointIndex))
}).attr("r",2).attr("class",function(a,b){return o(a,a.pointIndex)==m.domain()[1]?"nv-point nv-currentValue":p(a,a.pointIndex)==n.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),u.renderEnd("sparkline immediate"),c}var d,e,f,g,h={top:2,right:0,bottom:2,left:0},i=400,j=32,k=null,l=!0,m=b.scale.linear(),n=b.scale.linear(),o=function(a){return a.x},p=function(a){return a.y},q=a.utils.getColor(["#000"]),r=!0,s=!0,t=b.dispatch("renderEnd"),u=a.utils.renderWatch(t);return c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},animate:{get:function(){return l},set:function(a){l=a}},showMinMaxPoints:{get:function(){return r},set:function(a){r=a}},showCurrentPoint:{get:function(){return s},set:function(a){s=a}},x:{get:function(){return o},set:function(a){o=b.functor(a)}},y:{get:function(){return p},set:function(a){p=b.functor(a)}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},color:{get:function(){return q},set:function(b){q=a.utils.getColor(b)}}}),c.dispatch=t,a.utils.initOptions(c),c},a.models.sparklinePlus=function(){"use strict";function c(q){return s.reset(),s.models(f),q.each(function(q){function r(){if(!k){var a=A.selectAll(".nv-hoverValue").data(j),b=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),a.attr("transform",function(a){return"translate("+d(f.x()(q[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),j.length&&(b.append("line").attr("x1",0).attr("y1",-g.top).attr("x2",0).attr("y2",v),b.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-g.top).attr("text-anchor","end").attr("dy",".9em"),A.select(".nv-hoverValue .nv-xValue").text(l(f.x()(q[j[0]],j[0]))),b.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-g.top).attr("text-anchor","start").attr("dy",".9em"),A.select(".nv-hoverValue .nv-yValue").text(m(f.y()(q[j[0]],j[0]))))}}function s(){function a(a,b){for(var c=Math.abs(f.x()(a[0],0)-b),d=0,e=0;e<a.length;e++)Math.abs(f.x()(a[e],e)-b)<c&&(c=Math.abs(f.x()(a[e],e)-b),d=e);return d}if(!k){var c=b.mouse(this)[0]-g.left;j=[a(q,Math.round(d.invert(c)))],r()}}var t=b.select(this);a.utils.initSVG(t);var u=a.utils.availableWidth(h,t,g),v=a.utils.availableHeight(i,t,g);if(c.update=function(){t.call(c)},c.container=this,!q||!q.length)return a.utils.noData(c,t),c;t.selectAll(".nv-noData").remove();var w=f.y()(q[q.length-1],q.length-1);d=f.xScale(),e=f.yScale();var x=t.selectAll("g.nv-wrap.nv-sparklineplus").data([q]),y=x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),z=y.append("g"),A=x.select("g");z.append("g").attr("class","nv-sparklineWrap"),z.append("g").attr("class","nv-valueWrap"),z.append("g").attr("class","nv-hoverArea"),x.attr("transform","translate("+g.left+","+g.top+")");var B=A.select(".nv-sparklineWrap");if(f.width(u).height(v),B.call(f),n){var C=A.select(".nv-valueWrap"),D=C.selectAll(".nv-currentValue").data([w]);D.enter().append("text").attr("class","nv-currentValue").attr("dx",p?-8:8).attr("dy",".9em").style("text-anchor",p?"end":"start"),D.attr("x",u+(p?g.right:0)).attr("y",o?function(a){return e(a)}:0).style("fill",f.color()(q[q.length-1],q.length-1)).text(m(w))}z.select(".nv-hoverArea").append("rect").on("mousemove",s).on("click",function(){k=!k}).on("mouseout",function(){j=[],r()}),A.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-g.left+","+-g.top+")"}).attr("width",u+g.left+g.right).attr("height",v+g.top)}),s.renderEnd("sparklinePlus immediate"),c}var d,e,f=a.models.sparkline(),g={top:15,right:100,bottom:10,left:50},h=null,i=null,j=[],k=!1,l=b.format(",r"),m=b.format(",.2f"),n=!0,o=!0,p=!1,q=null,r=b.dispatch("renderEnd"),s=a.utils.renderWatch(r);return c.dispatch=r,c.sparkline=f,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xTickFormat:{get:function(){return l},set:function(a){l=a}},yTickFormat:{get:function(){return m},set:function(a){m=a}},showLastValue:{get:function(){return n},set:function(a){n=a}},alignValue:{get:function(){return o},set:function(a){o=a}},rightAlignValue:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.stackedArea=function(){"use strict";function c(o){return w.reset(),w.models(t),o.each(function(o){var u=g-f.left-f.right,x=h-f.top-f.bottom;k=b.select(this),a.utils.initSVG(k),d=t.xScale(),e=t.yScale();var y=o;o.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var z=o.filter(function(a){return!a.disabled});o=b.layout.stack().order(q).offset(p).values(function(a){return a.values}).x(l).y(m).out(function(a,b,c){a.display={y:c,y0:b}})(z);var A=k.selectAll("g.nv-wrap.nv-stackedarea").data([o]),B=A.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),C=B.append("defs"),D=B.append("g"),E=A.select("g");D.append("g").attr("class","nv-areaWrap"),D.append("g").attr("class","nv-scatterWrap"),A.attr("transform","translate("+f.left+","+f.top+")"),0==t.forceY().length&&t.forceY().push(0),t.width(u).height(x).x(l).y(function(a){if(void 0!==a.display)return a.display.y+a.display.y0}).color(o.map(function(a,b){return a.color=a.color||i(a,a.seriesIndex),a.color})),E.select(".nv-scatterWrap").datum(o).call(t),C.append("clipPath").attr("id","nv-edge-clip-"+j).append("rect"),A.select("#nv-edge-clip-"+j+" rect").attr("width",u).attr("height",x),E.attr("clip-path",s?"url(#nv-edge-clip-"+j+")":"");var F=b.svg.area().defined(n).x(function(a,b){return d(l(a,b))}).y0(function(a){return e(a.display.y0)}).y1(function(a){return e(a.display.y+a.display.y0)}).interpolate(r),G=b.svg.area().defined(n).x(function(a,b){return d(l(a,b))}).y0(function(a){return e(a.display.y0)}).y1(function(a){return e(a.display.y0)}),H=E.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});H.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return G(a.values,a.seriesIndex)}).on("mouseover",function(a,c){b.select(this).classed("hover",!0),v.areaMouseover({point:a,series:a.key,pos:[b.event.pageX,b.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,c){b.select(this).classed("hover",!1),v.areaMouseout({point:a,series:a.key,pos:[b.event.pageX,b.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,c){b.select(this).classed("hover",!1),v.areaClick({point:a,series:a.key,pos:[b.event.pageX,b.event.pageY],seriesIndex:a.seriesIndex})}),H.exit().remove(),H.style("fill",function(a,b){return a.color||i(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||i(a,a.seriesIndex)}),H.watchTransition(w,"stackedArea path").attr("d",function(a,b){return F(a.values,b)}),t.dispatch.on("elementMouseover.area",function(a){E.select(".nv-chart-"+j+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),t.dispatch.on("elementMouseout.area",function(a){E.select(".nv-chart-"+j+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),c.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;c<f;++c){for(b=0,d=0;b<y.length;b++)d+=m(y[b].values[c]);if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=0}for(c=0;c<f;++c)g[c]=0;return g}}),w.renderEnd("stackedArea immediate"),c}var d,e,f={top:0,right:0,bottom:0,left:0},g=960,h=500,i=a.utils.defaultColor(),j=Math.floor(1e5*Math.random()),k=null,l=function(a){return a.x},m=function(a){return a.y},n=function(a,b){return!isNaN(m(a,b))&&null!==m(a,b)},o="stack",p="zero",q="default",r="linear",s=!1,t=a.models.scatter(),u=250,v=b.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");t.pointSize(2.2).pointDomain([2.2,2.2]);var w=a.utils.renderWatch(v,u);return c.dispatch=v,c.scatter=t,t.dispatch.on("elementClick",function(){v.elementClick.apply(this,arguments)}),t.dispatch.on("elementMouseover",function(){v.elementMouseover.apply(this,arguments)}),t.dispatch.on("elementMouseout",function(){v.elementMouseout.apply(this,arguments)}),c.interpolate=function(a){return arguments.length?(r=a,c):r},c.duration=function(a){return arguments.length?(u=a,w.reset(u),t.duration(u),c):u},c.dispatch=v,c.scatter=t,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},defined:{get:function(){return n},set:function(a){n=a}},clipEdge:{get:function(){return s},set:function(a){s=a}},offset:{get:function(){return p},set:function(a){p=a}},order:{get:function(){return q},set:function(a){q=a}},interpolate:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return l},set:function(a){l=b.functor(a)}},y:{get:function(){return m},set:function(a){m=b.functor(a)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return i},set:function(b){i=a.utils.getColor(b)}},style:{get:function(){return o},set:function(a){switch(o=a){case"stack":c.offset("zero"),c.order("default");break;case"stream":c.offset("wiggle"),c.order("inside-out");break;case"stream-center":c.offset("silhouette"),c.order("inside-out");break;case"expand":c.offset("expand"),c.order("default");break;case"stack_percent":c.offset(c.d3_stackedOffset_stackPercent),c.order("default")}}},duration:{get:function(){return u},set:function(a){u=a,w.reset(u),t.duration(u)}}}),a.utils.inheritOptions(c,t),a.utils.initOptions(c),c},a.models.stackedAreaChart=function(){"use strict";function c(l){return M.reset(),M.models(f),v&&M.models(g),w&&M.models(h),l.each(function(l){function E(){v&&Y.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+U+")").transition().duration(J).call(g)}function M(){if(w){if("expand"===f.style()||"stack_percent"===f.style()){var a=h.tickFormat();K&&a===Q||(K=a),h.tickFormat(Q)}else K&&(h.tickFormat(K),K=null);Y.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(h)}}function R(a){Y.select(".nv-focus .nv-stackedWrap").datum(l.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return f.x()(b,c)>=a[0]&&f.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}})).transition().duration(J).call(f),E(),M()}var S=b.select(this);a.utils.initSVG(S);var T=a.utils.availableWidth(p,S,n),U=a.utils.availableHeight(q,S,n)-(y?m.height():0);if(c.update=function(){S.transition().duration(J).call(c)},c.container=this,C.setter(P(l),c.update).getter(O(l)).update(),C.disabled=l.map(function(a){return!!a.disabled}),!D){var V;D={};for(V in C)C[V]instanceof Array?D[V]=C[V].slice(0):D[V]=C[V]}if(!(l&&l.length&&l.filter(function(a){return a.values.length}).length))return a.utils.noData(c,S),c;S.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var W=S.selectAll("g.nv-wrap.nv-stackedAreaChart").data([l]),X=W.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),Y=W.select("g");X.append("g").attr("class","nv-legendWrap"),X.append("g").attr("class","nv-controlsWrap");var Z=X.append("g").attr("class","nv-focus");Z.append("g").attr("class","nv-background").append("rect"),Z.append("g").attr("class","nv-x nv-axis"),Z.append("g").attr("class","nv-y nv-axis"),Z.append("g").attr("class","nv-stackedWrap"),Z.append("g").attr("class","nv-interactive");X.append("g").attr("class","nv-focusWrap");if(t){var $=s&&"top"===u?T-G:T;if(i.width($),Y.select(".nv-legendWrap").datum(l).call(i),"bottom"===u){var _=10+(v?12:0);n.bottom=Math.max(i.height()+_,n.bottom),U=a.utils.availableHeight(q,S,n)-(y?m.height():0);var aa=U+_;Y.select(".nv-legendWrap").attr("transform","translate(0,"+aa+")")}else"top"===u&&(o||n.top==i.height()||(n.top=i.height(),U=a.utils.availableHeight(q,S,n)-(y?m.height():0)),Y.select(".nv-legendWrap").attr("transform","translate("+(T-$)+","+-n.top+")"))}else Y.select(".nv-legendWrap").selectAll("*").remove();if(s){var ba=[{key:I.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=f.style(),style:"stack"},{key:I.stream||"Stream",metaKey:"Stream",disabled:"stream"!=f.style(),style:"stream"},{key:I.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=f.style(),style:"expand"},{key:I.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=f.style(),style:"stack_percent"}];G=H.length/3*260,ba=ba.filter(function(a){return-1!==H.indexOf(a.metaKey)}),j.width(G).color(["#444","#444","#444"]),Y.select(".nv-controlsWrap").datum(ba).call(j);var ca=Math.max(j.height(),t&&"top"===u?i.height():0);n.top!=ca&&(n.top=ca,U=a.utils.availableHeight(q,S,n)-(y?m.height():0)),Y.select(".nv-controlsWrap").attr("transform","translate(0,"+-n.top+")")}else Y.select(".nv-controlsWrap").selectAll("*").remove();W.attr("transform","translate("+n.left+","+n.top+")"),x&&Y.select(".nv-y.nv-axis").attr("transform","translate("+T+",0)"),z&&(k.width(T).height(U).margin({left:n.left,top:n.top}).svgContainer(S).xScale(d),W.select(".nv-interactive").call(k)),Y.select(".nv-focus .nv-background rect").attr("width",T).attr("height",U),f.width(T).height(U).color(l.map(function(a,b){return a.color||r(a,b)}).filter(function(a,b){return!l[b].disabled}));var da=Y.select(".nv-focus .nv-stackedWrap").datum(l.filter(function(a){return!a.disabled}));if(v&&g.scale(d)._ticks(a.utils.calcTicksX(T/100,l)).tickSize(-U,0),w){var ea;ea="wiggle"===f.offset()?0:a.utils.calcTicksY(U/36,l),h.scale(e)._ticks(ea).tickSize(-T,0)}if(y){m.width(T),Y.select(".nv-focusWrap").attr("transform","translate(0,"+(U+n.bottom+m.margin().top)+")").datum(l.filter(function(a){return!a.disabled})).call(m);var fa=m.brush.empty()?m.xDomain():m.brush.extent();null!==fa&&R(fa)}else da.transition().call(f),E(),M();f.dispatch.on("areaClick.toggle",function(a){1===l.filter(function(a){return!a.disabled}).length?l.forEach(function(a){a.disabled=!1}):l.forEach(function(b,c){b.disabled=c!=a.seriesIndex}),C.disabled=l.map(function(a){return!!a.disabled}),F.stateChange(C),c.update()}),i.dispatch.on("stateChange",function(a){for(var b in a)C[b]=a[b];F.stateChange(C),c.update()}),j.dispatch.on("legendClick",function(a,b){a.disabled&&(ba=ba.map(function(a){return a.disabled=!0,a}),a.disabled=!1,f.style(a.style),C.style=f.style(),F.stateChange(C),c.update())}),k.dispatch.on("elementMousemove",function(d){f.clearHighlights();var e,g,h,i=[],j=0,m=!0,n=!1;if(l.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(b,k){g=a.interactiveBisect(b.values,d.pointXValue,c.x());var o=b.values[g],p=c.y()(o,g);if(null!=p&&p>0&&(f.highlightPoint(k,g,!0),n=!0),k!==l.length-1||n||f.highlightPoint(k,g,!0),void 0!==o){void 0===e&&(e=o),void 0===h&&(h=c.xScale()(c.x()(o,g)));var q="expand"==f.style()?o.display.y:c.y()(o,g);i.push({key:b.key,value:q,color:r(b,b.seriesIndex),point:o}),A&&"expand"!=f.style()&&null!=q&&(j+=q,m=!1)}}),i.reverse(),i.length>2){var o=c.yScale().invert(d.mouseY),p=null;i.forEach(function(a,b){o=Math.abs(o);var c=Math.abs(a.point.display.y0),d=Math.abs(a.point.display.y);if(o>=c&&o<=d+c)return void(p=b)}),null!=p&&(i[p].highlight=!0)}A&&"expand"!=f.style()&&i.length>=2&&!m&&i.push({key:B,value:j,total:!0});var q=c.x()(e,g),s=k.tooltip.valueFormatter();"expand"===f.style()||"stack_percent"===f.style()?(L||(L=s),s=b.format(".1%")):L&&(s=L,L=null),k.tooltip.valueFormatter(s).data({value:q,series:i})(),k.renderGuideLine(h)}),k.dispatch.on("elementMouseout",function(a){f.clearHighlights()}),m.dispatch.on("onBrush",function(a){R(a)}),F.on("changeState",function(a){void 0!==a.disabled&&l.length===a.disabled.length&&(l.forEach(function(b,c){b.disabled=a.disabled[c]}),C.disabled=a.disabled),void 0!==a.style&&(f.style(a.style),N=a.style),c.update()})}),M.renderEnd("stacked Area chart immediate"),c}var d,e,f=a.models.stackedArea(),g=a.models.axis(),h=a.models.axis(),i=a.models.legend(),j=a.models.legend(),k=a.interactiveGuideline(),l=a.models.tooltip(),m=a.models.focus(a.models.stackedArea()),n={top:10,right:25,bottom:50,left:60},o=null,p=null,q=null,r=a.utils.defaultColor(),s=!0,t=!0,u="top",v=!0,w=!0,x=!1,y=!1,z=!1,A=!0,B="TOTAL",C=a.utils.state(),D=null,E=null,F=b.dispatch("stateChange","changeState","renderEnd"),G=250,H=["Stacked","Stream","Expanded"],I={},J=250;C.style=f.style(),g.orient("bottom").tickPadding(7),h.orient(x?"right":"left"),l.headerFormatter(function(a,b){return g.tickFormat()(a,b)}).valueFormatter(function(a,b){return h.tickFormat()(a,b)}),k.tooltip.headerFormatter(function(a,b){return g.tickFormat()(a,b)}).valueFormatter(function(a,b){return null==a?"N/A":h.tickFormat()(a,b)});var K=null,L=null;j.updateState(!1);var M=a.utils.renderWatch(F),N=f.style(),O=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:f.style()}}},P=function(a){return function(b){void 0!==b.style&&(N=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},Q=b.format("%");return f.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=f.x()(a.point),a.point.y=f.y()(a.point),l.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){l.hidden(!0)}),c.dispatch=F,c.stacked=f,c.legend=i,c.controls=j,c.xAxis=g,c.x2Axis=m.xAxis,c.yAxis=h,c.y2Axis=m.yAxis,c.interactiveLayer=k,c.tooltip=l,c.focus=m,c.dispatch=F,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},showLegend:{get:function(){return t},set:function(a){t=a}},legendPosition:{get:function(){return u},set:function(a){u=a}},showXAxis:{get:function(){return v},set:function(a){v=a}},showYAxis:{get:function(){return w},set:function(a){w=a}},defaultState:{get:function(){return D},set:function(a){D=a}},noData:{get:function(){return E},set:function(a){E=a}},showControls:{get:function(){return s},set:function(a){s=a}},controlLabels:{get:function(){return I},set:function(a){I=a}},controlOptions:{get:function(){return H},set:function(a){H=a}},showTotalInTooltip:{get:function(){return A},set:function(a){A=a}},totalLabel:{get:function(){return B},set:function(a){B=a}},focusEnable:{get:function(){return y},set:function(a){y=a}},focusHeight:{get:function(){return m.height()},set:function(a){m.height(a)}},brushExtent:{get:function(){return m.brushExtent()},set:function(a){m.brushExtent(a)}},margin:{get:function(){return n},set:function(a){void 0!==a.top&&(n.top=a.top,o=a.top),n.right=void 0!==a.right?a.right:n.right,n.bottom=void 0!==a.bottom?a.bottom:n.bottom,n.left=void 0!==a.left?a.left:n.left}},focusMargin:{get:function(){return m.margin},set:function(a){m.margin.top=void 0!==a.top?a.top:m.margin.top,m.margin.right=void 0!==a.right?a.right:m.margin.right,m.margin.bottom=void 0!==a.bottom?a.bottom:m.margin.bottom,m.margin.left=void 0!==a.left?a.left:m.margin.left}},duration:{get:function(){return J},set:function(a){J=a,M.reset(J),f.duration(J),g.duration(J),h.duration(J)}},color:{get:function(){return r},set:function(b){r=a.utils.getColor(b),i.color(r),f.color(r),m.color(r)}},x:{get:function(){return f.x()},set:function(a){f.x(a),m.x(a)}},y:{get:function(){return f.y()},set:function(a){f.y(a),m.y(a)}},rightAlignYAxis:{get:function(){return x},set:function(a){x=a,h.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return z},set:function(a){z=!!a,c.interactive(!a),c.useVoronoi(!a),f.scatter.interactive(!a)}}}),a.utils.inheritOptions(c,f),a.utils.initOptions(c),c},a.models.stackedAreaWithFocusChart=function(){return a.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},a.models.sunburst=function(){"use strict";function c(a){return d(a)>90?180:0}function d(a){return(Math.max(0,Math.min(2*Math.PI,G(a.x)))+Math.max(0,Math.min(2*Math.PI,G(a.x+a.dx))))/2*(180/Math.PI)-90}function e(a){var b=Math.max(0,Math.min(2*Math.PI,G(a.x)));return(Math.max(0,Math.min(2*Math.PI,G(a.x+a.dx)))-b)/(2*Math.PI)}function f(a){var b=Math.max(0,Math.min(2*Math.PI,G(a.x)));return Math.max(0,Math.min(2*Math.PI,G(a.x+a.dx)))-b>A}function g(a,c){var d=b.interpolate(G.domain(),[m.x,m.x+m.dx]),e=b.interpolate(H.domain(),[m.y,1]),f=b.interpolate(H.range(),[m.y?20:0,p]);return 0===c?function(){return K(a)}:function(b){return G.domain(d(b)),H.domain(e(b)).range(f(b)),K(a)}}function h(a){var c=b.interpolate({x:a.x0,dx:a.dx0,y:a.y0,dy:a.dy0},a);return function(b){var d=c(b);return a.x0=d.x,a.dx0=d.dx,a.y0=d.y,a.dy0=d.dy,K(d)}}function i(a){var b=C(a);J[b]||(J[b]={});var c=J[b];c.dx=a.dx,c.x=a.x,c.dy=a.dy,c.y=a.y}function j(a){a.forEach(function(a){var b=C(a),c=J[b];c?(a.dx0=c.dx,a.x0=c.x,a.dy0=c.dy,a.y0=c.y):(a.dx0=a.dx,a.x0=a.x,a.dy0=a.dy,a.y0=a.y),i(a)})}function k(a){var e=w.selectAll("text"),h=w.selectAll("path");e.transition().attr("opacity",0),m=a,h.transition().duration(E).attrTween("d",g).each("end",function(e){if(e.x>=a.x&&e.x<a.x+a.dx&&e.depth>=a.depth){b.select(this.parentNode).select("text").transition().duration(E).text(function(a){return z(a)}).attr("opacity",function(a){return f(a)?1:0}).attr("transform",function(){var b=this.getBBox().width;if(0===e.depth)return"translate("+b/2*-1+",0)";if(e.depth===a.depth)return"translate("+(H(e.y)+5)+",0)";var f=d(e),g=c(e);return 0===g?"rotate("+f+")translate("+(H(e.y)+5)+",0)":"rotate("+f+")translate("+(H(e.y)+b+5)+",0)rotate("+g+")"})}})}function l(g){return L.reset(),g.each(function(g){w=b.select(this),n=a.utils.availableWidth(r,w,q),o=a.utils.availableHeight(s,w,q),p=Math.min(n,o)/2,H.range([0,p]);var i=w.select("g.nvd3.nv-wrap.nv-sunburst");i[0][0]?i.attr("transform","translate("+(n/2+q.left+q.right)+","+(o/2+q.top+q.bottom)+")"):i=w.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+v).attr("transform","translate("+(n/2+q.left+q.right)+","+(o/2+q.top+q.bottom)+")"),w.on("click",function(a,c){F.chartClick({data:a,index:c,pos:b.event,id:v})}),I.value(u[t]||u.count);var l=I.nodes(g[0]).reverse();j(l);var m=i.selectAll(".arc-container").data(l,C);m.enter().append("g").attr("class","arc-container").append("path").attr("d",K).style("fill",function(a){return a.color?a.color:x(D?(a.children?a:a.parent).name:a.name)}).style("stroke","#FFF").on("click",function(a,b){k(a),F.elementClick({data:a,index:b})}).on("mouseover",function(a,c){b.select(this).classed("hover",!0).style("opacity",.8),F.elementMouseover({data:a,color:b.select(this).style("fill"),percent:e(a)})}).on("mouseout",function(a,c){b.select(this).classed("hover",!1).style("opacity",1),F.elementMouseout({data:a})}).on("mousemove",function(a,b){F.elementMousemove({data:a})}),m.each(function(a){b.select(this).select("path").transition().duration(E).attrTween("d",h)}),y&&(m.selectAll("text").remove(),m.append("text").text(function(a){return z(a)}).transition().duration(E).attr("opacity",function(a){return f(a)?1:0}).attr("transform",function(a){var b=this.getBBox().width;if(0===a.depth)return"rotate(0)translate("+b/2*-1+",0)";var e=d(a),f=c(a);return 0===f?"rotate("+e+")translate("+(H(a.y)+5)+",0)":"rotate("+e+")translate("+(H(a.y)+b+5)+",0)rotate("+f+")"})),k(l[l.length-1]),m.exit().transition().duration(E).attr("opacity",0).each("end",function(a){var b=C(a);J[b]=void 0}).remove()}),L.renderEnd("sunburst immediate"),l}var m,n,o,p,q={top:0,right:0,bottom:0,left:0},r=600,s=600,t="count",u={count:function(a){return 1},value:function(a){return a.value||a.size},size:function(a){return a.value||a.size}},v=Math.floor(1e4*Math.random()),w=null,x=a.utils.defaultColor(),y=!1,z=function(a){return"count"===t?a.name+" #"+a.value:a.name+" "+(a.value||a.size)},A=.02,B=function(a,b){return a.name>b.name},C=function(a,b){return void 0!==a.parent?a.name+"-"+a.parent.name+"-"+b:a.name},D=!0,E=500,F=b.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),G=b.scale.linear().range([0,2*Math.PI]),H=b.scale.sqrt(),I=b.layout.partition().sort(B),J={},K=b.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,G(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,G(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,H(a.y))}).outerRadius(function(a){return Math.max(0,H(a.y+a.dy))}),L=a.utils.renderWatch(F);return l.dispatch=F,l.options=a.utils.optionsFunc.bind(l),l._options=Object.create({},{width:{get:function(){return r},set:function(a){r=a}},height:{get:function(){return s},set:function(a){s=a}},mode:{get:function(){return t},set:function(a){t=a}},id:{get:function(){return v},set:function(a){v=a}},duration:{get:function(){return E},set:function(a){E=a}},groupColorByParent:{get:function(){return D},set:function(a){D=!!a}},showLabels:{get:function(){return y},set:function(a){y=!!a}},labelFormat:{get:function(){return z},set:function(a){z=a}},labelThreshold:{get:function(){return A},set:function(a){A=a}},sort:{get:function(){return B},set:function(a){B=a}},key:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return q},set:function(a){q.top=void 0!=a.top?a.top:q.top,q.right=void 0!=a.right?a.right:q.right,q.bottom=void 0!=a.bottom?a.bottom:q.bottom,q.left=void 0!=a.left?a.left:q.left}},color:{get:function(){return x},set:function(b){x=a.utils.getColor(b)}}}),a.utils.initOptions(l),l},a.models.sunburstChart=function(){"use strict";function c(e){return o.reset(),o.models(d),e.each(function(e){var i=b.select(this);a.utils.initSVG(i);var j=a.utils.availableWidth(g,i,f),k=a.utils.availableHeight(h,i,f);if(c.update=function(){0===m?i.call(c):i.transition().duration(m).call(c)},c.container=i,!e||!e.length)return a.utils.noData(c,i),c;i.selectAll(".nv-noData").remove(),d.width(j).height(k).margin(f),i.call(d)}),o.renderEnd("sunburstChart immediate"),c}var d=a.models.sunburst(),e=a.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=a.utils.defaultColor(),j=!1,k=(Math.round(1e5*Math.random()),null),l=null,m=250,n=b.dispatch("stateChange","changeState","renderEnd"),o=a.utils.renderWatch(n);return e.duration(0).headerEnabled(!1).valueFormatter(function(a){return a}),d.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.value||a.data.size,color:a.color,percent:a.percent},j||(delete a.percent,delete a.series.percent),e.data(a).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(a){e()}),c.dispatch=n,c.sunburst=d,c.tooltip=e,c.options=a.utils.optionsFunc.bind(c),c._options=Object.create({},{noData:{get:function(){return l},set:function(a){l=a}},defaultState:{get:function(){return k},set:function(a){k=a}},showTooltipPercent:{get:function(){return j},set:function(a){j=a}},color:{get:function(){return i},set:function(a){i=a,d.color(i)}},duration:{get:function(){return m},set:function(a){m=a,o.reset(m),d.duration(m)}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left,d.margin(f)}}}),a.utils.inheritOptions(c,d),a.utils.initOptions(c),c},a.version="1.8.5-dev"}();
//# sourceMappingURL=nv.d3.min.js.map